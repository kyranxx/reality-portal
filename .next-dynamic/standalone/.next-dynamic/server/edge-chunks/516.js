(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[516],{7901:e=>{e.exports={style:{fontFamily:"'__Inter_838c52', '__Inter_Fallback_838c52'",fontStyle:"normal"},className:"__className_838c52",variable:"__variable_838c52"}},6600:(e,t,r)=>{"use strict";r.d(t,{BH:()=>b,LL:()=>O,ZR:()=>P,tV:()=>c,L:()=>u,Sg:()=>w,ne:()=>$,vZ:()=>function e(t,r){if(t===r)return!0;let n=Object.keys(t),i=Object.keys(r);for(let s of n){if(!i.includes(s))return!1;let n=t[s],a=r[s];if(D(n)&&D(a)){if(!e(n,a))return!1}else if(n!==a)return!1}for(let e of i)if(!n.includes(e))return!1;return!0},pd:()=>j,aH:()=>y,q4:()=>g,P0:()=>m,Pz:()=>v,m9:()=>V,z$:()=>_,ru:()=>x,L_:()=>E,xb:()=>N,w1:()=>C,hl:()=>R,uI:()=>S,b$:()=>T,G6:()=>I,xO:()=>M,zd:()=>L,eu:()=>k});let n=()=>void 0,i=function(e){let t=[],r=0;for(let n=0;n<e.length;n++){let i=e.charCodeAt(n);i<128?t[r++]=i:(i<2048?t[r++]=i>>6|192:((64512&i)==55296&&n+1<e.length&&(64512&e.charCodeAt(n+1))==56320?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++n)),t[r++]=i>>18|240,t[r++]=i>>12&63|128):t[r++]=i>>12|224,t[r++]=i>>6&63|128),t[r++]=63&i|128)}return t},s=function(e){let t=[],r=0,n=0;for(;r<e.length;){let i=e[r++];if(i<128)t[n++]=String.fromCharCode(i);else if(i>191&&i<224){let s=e[r++];t[n++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){let s=((7&i)<<18|(63&e[r++])<<12|(63&e[r++])<<6|63&e[r++])-65536;t[n++]=String.fromCharCode(55296+(s>>10)),t[n++]=String.fromCharCode(56320+(1023&s))}else{let s=e[r++],a=e[r++];t[n++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&a)}}return t.join("")},a={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();let r=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let t=0;t<e.length;t+=3){let i=e[t],s=t+1<e.length,a=s?e[t+1]:0,o=t+2<e.length,l=o?e[t+2]:0,u=i>>2,c=(3&i)<<4|a>>4,h=(15&a)<<2|l>>6,d=63&l;o||(d=64,s||(h=64)),n.push(r[u],r[c],r[h],r[d])}return n.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(i(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):s(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();let r=t?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let t=0;t<e.length;){let i=r[e.charAt(t++)],s=t<e.length?r[e.charAt(t)]:0,a=++t<e.length?r[e.charAt(t)]:64,l=++t<e.length?r[e.charAt(t)]:64;if(++t,null==i||null==s||null==a||null==l)throw new o;let u=i<<2|s>>4;if(n.push(u),64!==a){let e=s<<4&240|a>>2;if(n.push(e),64!==l){let e=a<<6&192|l;n.push(e)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class o extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}let l=function(e){let t=i(e);return a.encodeByteArray(t,!0)},u=function(e){return l(e).replace(/\./g,"")},c=function(e){try{return a.decodeString(e,!0)}catch(e){console.error("base64Decode failed: ",e)}return null},h=()=>(function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==r.g)return r.g;throw Error("Unable to locate global object.")})().__FIREBASE_DEFAULTS__,d=()=>{if("undefined"==typeof process||void 0===process.env)return;let e=process.env.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},f=()=>{let e;if("undefined"==typeof document)return;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(e){return}let t=e&&c(e[1]);return t&&JSON.parse(t)},p=()=>{try{return n()||h()||d()||f()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},g=e=>{var t,r;return null===(r=null===(t=p())||void 0===t?void 0:t.emulatorHosts)||void 0===r?void 0:r[e]},m=e=>{let t=g(e);if(!t)return;let r=t.lastIndexOf(":");if(r<=0||r+1===t.length)throw Error(`Invalid host ${t} with no separate hostname and port!`);let n=parseInt(t.substring(r+1),10);return"["===t[0]?[t.substring(1,r-1),n]:[t.substring(0,r),n]},y=()=>{var e;return null===(e=p())||void 0===e?void 0:e.config},v=e=>{var t;return null===(t=p())||void 0===t?void 0:t[`_${e}`]};class b{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,r))}}}function w(e,t){if(e.uid)throw Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let r=t||"demo-project",n=e.iat||0,i=e.sub||e.user_id;if(!i)throw Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:n,exp:n+3600,auth_time:n,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[u(JSON.stringify({alg:"none",type:"JWT"})),u(JSON.stringify(s)),""].join(".")}function _(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function S(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(_())}function E(){return"undefined"!=typeof navigator&&"Cloudflare-Workers"===navigator.userAgent}function x(){let e="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof e&&void 0!==e.id}function T(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function C(){let e=_();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function I(){return!function(){var e;let t=null===(e=p())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(r.g.process)}catch(e){return!1}}()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function R(){try{return"object"==typeof indexedDB}catch(e){return!1}}function k(){return new Promise((e,t)=>{try{let r=!0,n="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(n);i.onsuccess=()=>{i.result.close(),r||self.indexedDB.deleteDatabase(n),e(!0)},i.onupgradeneeded=()=>{r=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(e){t(e)}})}class P extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,P.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,O.prototype.create)}}class O{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){let r=t[0]||{},n=`${this.service}/${e}`,i=this.errors[e],s=i?i.replace(A,(e,t)=>{let n=r[t];return null!=n?String(n):`<${t}?>`}):"Error",a=`${this.serviceName}: ${s} (${n}).`;return new P(n,a,r)}}let A=/\{\$([^}]+)}/g;function N(e){for(let t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function D(e){return null!==e&&"object"==typeof e}function M(e){let t=[];for(let[r,n]of Object.entries(e))Array.isArray(n)?n.forEach(e=>{t.push(encodeURIComponent(r)+"="+encodeURIComponent(e))}):t.push(encodeURIComponent(r)+"="+encodeURIComponent(n));return t.length?"&"+t.join("&"):""}function L(e){let t={};return e.replace(/^\?/,"").split("&").forEach(e=>{if(e){let[r,n]=e.split("=");t[decodeURIComponent(r)]=decodeURIComponent(n)}}),t}function j(e){let t=e.indexOf("?");if(!t)return"";let r=e.indexOf("#",t);return e.substring(t,r>0?r:void 0)}function $(e,t){let r=new F(e,t);return r.subscribe.bind(r)}class F{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(e=>{this.error(e)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let n;if(void 0===e&&void 0===t&&void 0===r)throw Error("Missing Observer.");void 0===(n=!function(e,t){if("object"!=typeof e||null===e)return!1;for(let r of t)if(r in e&&"function"==typeof e[r])return!0;return!1}(e,["next","error","complete"])?{next:e,error:t,complete:r}:e).next&&(n.next=U),void 0===n.error&&(n.error=U),void 0===n.complete&&(n.complete=U);let i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?n.error(this.finalError):n.complete()}catch(e){}}),this.observers.push(n),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(e){"undefined"!=typeof console&&console.error&&console.error(e)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function U(){}function V(e){return e&&e._delegate?e._delegate:e}},5181:e=>{"use strict";var t=Object.defineProperty,r=Object.getOwnPropertyDescriptor,n=Object.getOwnPropertyNames,i=Object.prototype.hasOwnProperty,s={};function a(e){var t;let r=["path"in e&&e.path&&`Path=${e.path}`,"expires"in e&&(e.expires||0===e.expires)&&`Expires=${("number"==typeof e.expires?new Date(e.expires):e.expires).toUTCString()}`,"maxAge"in e&&"number"==typeof e.maxAge&&`Max-Age=${e.maxAge}`,"domain"in e&&e.domain&&`Domain=${e.domain}`,"secure"in e&&e.secure&&"Secure","httpOnly"in e&&e.httpOnly&&"HttpOnly","sameSite"in e&&e.sameSite&&`SameSite=${e.sameSite}`,"partitioned"in e&&e.partitioned&&"Partitioned","priority"in e&&e.priority&&`Priority=${e.priority}`].filter(Boolean),n=`${e.name}=${encodeURIComponent(null!=(t=e.value)?t:"")}`;return 0===r.length?n:`${n}; ${r.join("; ")}`}function o(e){let t=new Map;for(let r of e.split(/; */)){if(!r)continue;let e=r.indexOf("=");if(-1===e){t.set(r,"true");continue}let[n,i]=[r.slice(0,e),r.slice(e+1)];try{t.set(n,decodeURIComponent(null!=i?i:"true"))}catch{}}return t}function l(e){var t,r;if(!e)return;let[[n,i],...s]=o(e),{domain:a,expires:l,httponly:h,maxage:d,path:f,samesite:p,secure:g,partitioned:m,priority:y}=Object.fromEntries(s.map(([e,t])=>[e.toLowerCase(),t]));return function(e){let t={};for(let r in e)e[r]&&(t[r]=e[r]);return t}({name:n,value:decodeURIComponent(i),domain:a,...l&&{expires:new Date(l)},...h&&{httpOnly:!0},..."string"==typeof d&&{maxAge:Number(d)},path:f,...p&&{sameSite:u.includes(t=(t=p).toLowerCase())?t:void 0},...g&&{secure:!0},...y&&{priority:c.includes(r=(r=y).toLowerCase())?r:void 0},...m&&{partitioned:!0}})}((e,r)=>{for(var n in r)t(e,n,{get:r[n],enumerable:!0})})(s,{RequestCookies:()=>h,ResponseCookies:()=>d,parseCookie:()=>o,parseSetCookie:()=>l,stringifyCookie:()=>a}),e.exports=((e,s,a,o)=>{if(s&&"object"==typeof s||"function"==typeof s)for(let l of n(s))i.call(e,l)||l===a||t(e,l,{get:()=>s[l],enumerable:!(o=r(s,l))||o.enumerable});return e})(t({},"__esModule",{value:!0}),s);var u=["strict","lax","none"],c=["low","medium","high"],h=class{constructor(e){this._parsed=new Map,this._headers=e;let t=e.get("cookie");if(t)for(let[e,r]of o(t))this._parsed.set(e,{name:e,value:r})}[Symbol.iterator](){return this._parsed[Symbol.iterator]()}get size(){return this._parsed.size}get(...e){let t="string"==typeof e[0]?e[0]:e[0].name;return this._parsed.get(t)}getAll(...e){var t;let r=Array.from(this._parsed);if(!e.length)return r.map(([e,t])=>t);let n="string"==typeof e[0]?e[0]:null==(t=e[0])?void 0:t.name;return r.filter(([e])=>e===n).map(([e,t])=>t)}has(e){return this._parsed.has(e)}set(...e){let[t,r]=1===e.length?[e[0].name,e[0].value]:e,n=this._parsed;return n.set(t,{name:t,value:r}),this._headers.set("cookie",Array.from(n).map(([e,t])=>a(t)).join("; ")),this}delete(e){let t=this._parsed,r=Array.isArray(e)?e.map(e=>t.delete(e)):t.delete(e);return this._headers.set("cookie",Array.from(t).map(([e,t])=>a(t)).join("; ")),r}clear(){return this.delete(Array.from(this._parsed.keys())),this}[Symbol.for("edge-runtime.inspect.custom")](){return`RequestCookies ${JSON.stringify(Object.fromEntries(this._parsed))}`}toString(){return[...this._parsed.values()].map(e=>`${e.name}=${encodeURIComponent(e.value)}`).join("; ")}},d=class{constructor(e){var t,r,n;this._parsed=new Map,this._headers=e;let i=null!=(n=null!=(r=null==(t=e.getSetCookie)?void 0:t.call(e))?r:e.get("set-cookie"))?n:[];for(let e of Array.isArray(i)?i:function(e){if(!e)return[];var t,r,n,i,s,a=[],o=0;function l(){for(;o<e.length&&/\s/.test(e.charAt(o));)o+=1;return o<e.length}for(;o<e.length;){for(t=o,s=!1;l();)if(","===(r=e.charAt(o))){for(n=o,o+=1,l(),i=o;o<e.length&&"="!==(r=e.charAt(o))&&";"!==r&&","!==r;)o+=1;o<e.length&&"="===e.charAt(o)?(s=!0,o=i,a.push(e.substring(t,n)),t=o):o=n+1}else o+=1;(!s||o>=e.length)&&a.push(e.substring(t,e.length))}return a}(i)){let t=l(e);t&&this._parsed.set(t.name,t)}}get(...e){let t="string"==typeof e[0]?e[0]:e[0].name;return this._parsed.get(t)}getAll(...e){var t;let r=Array.from(this._parsed.values());if(!e.length)return r;let n="string"==typeof e[0]?e[0]:null==(t=e[0])?void 0:t.name;return r.filter(e=>e.name===n)}has(e){return this._parsed.has(e)}set(...e){let[t,r,n]=1===e.length?[e[0].name,e[0].value,e[0]]:e,i=this._parsed;return i.set(t,function(e={name:"",value:""}){return"number"==typeof e.expires&&(e.expires=new Date(e.expires)),e.maxAge&&(e.expires=new Date(Date.now()+1e3*e.maxAge)),(null===e.path||void 0===e.path)&&(e.path="/"),e}({name:t,value:r,...n})),function(e,t){for(let[,r]of(t.delete("set-cookie"),e)){let e=a(r);t.append("set-cookie",e)}}(i,this._headers),this}delete(...e){let[t,r,n]="string"==typeof e[0]?[e[0]]:[e[0].name,e[0].path,e[0].domain];return this.set({name:t,path:r,domain:n,value:"",expires:new Date(0)})}[Symbol.for("edge-runtime.inspect.custom")](){return`ResponseCookies ${JSON.stringify(Object.fromEntries(this._parsed))}`}toString(){return[...this._parsed.values()].map(a).join("; ")}}},9646:(e,t,r)=>{(()=>{"use strict";var t={491:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ContextAPI=void 0;let n=r(223),i=r(172),s=r(930),a="context",o=new n.NoopContextManager;class l{constructor(){}static getInstance(){return this._instance||(this._instance=new l),this._instance}setGlobalContextManager(e){return(0,i.registerGlobal)(a,e,s.DiagAPI.instance())}active(){return this._getContextManager().active()}with(e,t,r,...n){return this._getContextManager().with(e,t,r,...n)}bind(e,t){return this._getContextManager().bind(e,t)}_getContextManager(){return(0,i.getGlobal)(a)||o}disable(){this._getContextManager().disable(),(0,i.unregisterGlobal)(a,s.DiagAPI.instance())}}t.ContextAPI=l},930:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DiagAPI=void 0;let n=r(56),i=r(912),s=r(957),a=r(172);class o{constructor(){function e(e){return function(...t){let r=(0,a.getGlobal)("diag");if(r)return r[e](...t)}}let t=this;t.setLogger=(e,r={logLevel:s.DiagLogLevel.INFO})=>{var n,o,l;if(e===t){let e=Error("Cannot use diag as the logger for itself. Please use a DiagLogger implementation like ConsoleDiagLogger or a custom implementation");return t.error(null!==(n=e.stack)&&void 0!==n?n:e.message),!1}"number"==typeof r&&(r={logLevel:r});let u=(0,a.getGlobal)("diag"),c=(0,i.createLogLevelDiagLogger)(null!==(o=r.logLevel)&&void 0!==o?o:s.DiagLogLevel.INFO,e);if(u&&!r.suppressOverrideMessage){let e=null!==(l=Error().stack)&&void 0!==l?l:"<failed to generate stacktrace>";u.warn(`Current logger will be overwritten from ${e}`),c.warn(`Current logger will overwrite one already registered from ${e}`)}return(0,a.registerGlobal)("diag",c,t,!0)},t.disable=()=>{(0,a.unregisterGlobal)("diag",t)},t.createComponentLogger=e=>new n.DiagComponentLogger(e),t.verbose=e("verbose"),t.debug=e("debug"),t.info=e("info"),t.warn=e("warn"),t.error=e("error")}static instance(){return this._instance||(this._instance=new o),this._instance}}t.DiagAPI=o},653:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.MetricsAPI=void 0;let n=r(660),i=r(172),s=r(930),a="metrics";class o{constructor(){}static getInstance(){return this._instance||(this._instance=new o),this._instance}setGlobalMeterProvider(e){return(0,i.registerGlobal)(a,e,s.DiagAPI.instance())}getMeterProvider(){return(0,i.getGlobal)(a)||n.NOOP_METER_PROVIDER}getMeter(e,t,r){return this.getMeterProvider().getMeter(e,t,r)}disable(){(0,i.unregisterGlobal)(a,s.DiagAPI.instance())}}t.MetricsAPI=o},181:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PropagationAPI=void 0;let n=r(172),i=r(874),s=r(194),a=r(277),o=r(369),l=r(930),u="propagation",c=new i.NoopTextMapPropagator;class h{constructor(){this.createBaggage=o.createBaggage,this.getBaggage=a.getBaggage,this.getActiveBaggage=a.getActiveBaggage,this.setBaggage=a.setBaggage,this.deleteBaggage=a.deleteBaggage}static getInstance(){return this._instance||(this._instance=new h),this._instance}setGlobalPropagator(e){return(0,n.registerGlobal)(u,e,l.DiagAPI.instance())}inject(e,t,r=s.defaultTextMapSetter){return this._getGlobalPropagator().inject(e,t,r)}extract(e,t,r=s.defaultTextMapGetter){return this._getGlobalPropagator().extract(e,t,r)}fields(){return this._getGlobalPropagator().fields()}disable(){(0,n.unregisterGlobal)(u,l.DiagAPI.instance())}_getGlobalPropagator(){return(0,n.getGlobal)(u)||c}}t.PropagationAPI=h},997:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TraceAPI=void 0;let n=r(172),i=r(846),s=r(139),a=r(607),o=r(930),l="trace";class u{constructor(){this._proxyTracerProvider=new i.ProxyTracerProvider,this.wrapSpanContext=s.wrapSpanContext,this.isSpanContextValid=s.isSpanContextValid,this.deleteSpan=a.deleteSpan,this.getSpan=a.getSpan,this.getActiveSpan=a.getActiveSpan,this.getSpanContext=a.getSpanContext,this.setSpan=a.setSpan,this.setSpanContext=a.setSpanContext}static getInstance(){return this._instance||(this._instance=new u),this._instance}setGlobalTracerProvider(e){let t=(0,n.registerGlobal)(l,this._proxyTracerProvider,o.DiagAPI.instance());return t&&this._proxyTracerProvider.setDelegate(e),t}getTracerProvider(){return(0,n.getGlobal)(l)||this._proxyTracerProvider}getTracer(e,t){return this.getTracerProvider().getTracer(e,t)}disable(){(0,n.unregisterGlobal)(l,o.DiagAPI.instance()),this._proxyTracerProvider=new i.ProxyTracerProvider}}t.TraceAPI=u},277:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.deleteBaggage=t.setBaggage=t.getActiveBaggage=t.getBaggage=void 0;let n=r(491),i=(0,r(780).createContextKey)("OpenTelemetry Baggage Key");function s(e){return e.getValue(i)||void 0}t.getBaggage=s,t.getActiveBaggage=function(){return s(n.ContextAPI.getInstance().active())},t.setBaggage=function(e,t){return e.setValue(i,t)},t.deleteBaggage=function(e){return e.deleteValue(i)}},993:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.BaggageImpl=void 0;class r{constructor(e){this._entries=e?new Map(e):new Map}getEntry(e){let t=this._entries.get(e);if(t)return Object.assign({},t)}getAllEntries(){return Array.from(this._entries.entries()).map(([e,t])=>[e,t])}setEntry(e,t){let n=new r(this._entries);return n._entries.set(e,t),n}removeEntry(e){let t=new r(this._entries);return t._entries.delete(e),t}removeEntries(...e){let t=new r(this._entries);for(let r of e)t._entries.delete(r);return t}clear(){return new r}}t.BaggageImpl=r},830:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.baggageEntryMetadataSymbol=void 0,t.baggageEntryMetadataSymbol=Symbol("BaggageEntryMetadata")},369:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.baggageEntryMetadataFromString=t.createBaggage=void 0;let n=r(930),i=r(993),s=r(830),a=n.DiagAPI.instance();t.createBaggage=function(e={}){return new i.BaggageImpl(new Map(Object.entries(e)))},t.baggageEntryMetadataFromString=function(e){return"string"!=typeof e&&(a.error(`Cannot create baggage metadata from unknown type: ${typeof e}`),e=""),{__TYPE__:s.baggageEntryMetadataSymbol,toString:()=>e}}},67:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.context=void 0;let n=r(491);t.context=n.ContextAPI.getInstance()},223:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NoopContextManager=void 0;let n=r(780);class i{active(){return n.ROOT_CONTEXT}with(e,t,r,...n){return t.call(r,...n)}bind(e,t){return t}enable(){return this}disable(){return this}}t.NoopContextManager=i},780:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ROOT_CONTEXT=t.createContextKey=void 0,t.createContextKey=function(e){return Symbol.for(e)};class r{constructor(e){let t=this;t._currentContext=e?new Map(e):new Map,t.getValue=e=>t._currentContext.get(e),t.setValue=(e,n)=>{let i=new r(t._currentContext);return i._currentContext.set(e,n),i},t.deleteValue=e=>{let n=new r(t._currentContext);return n._currentContext.delete(e),n}}}t.ROOT_CONTEXT=new r},506:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.diag=void 0;let n=r(930);t.diag=n.DiagAPI.instance()},56:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DiagComponentLogger=void 0;let n=r(172);class i{constructor(e){this._namespace=e.namespace||"DiagComponentLogger"}debug(...e){return s("debug",this._namespace,e)}error(...e){return s("error",this._namespace,e)}info(...e){return s("info",this._namespace,e)}warn(...e){return s("warn",this._namespace,e)}verbose(...e){return s("verbose",this._namespace,e)}}function s(e,t,r){let i=(0,n.getGlobal)("diag");if(i)return r.unshift(t),i[e](...r)}t.DiagComponentLogger=i},972:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DiagConsoleLogger=void 0;let r=[{n:"error",c:"error"},{n:"warn",c:"warn"},{n:"info",c:"info"},{n:"debug",c:"debug"},{n:"verbose",c:"trace"}];class n{constructor(){for(let e=0;e<r.length;e++)this[r[e].n]=function(e){return function(...t){if(console){let r=console[e];if("function"!=typeof r&&(r=console.log),"function"==typeof r)return r.apply(console,t)}}}(r[e].c)}}t.DiagConsoleLogger=n},912:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.createLogLevelDiagLogger=void 0;let n=r(957);t.createLogLevelDiagLogger=function(e,t){function r(r,n){let i=t[r];return"function"==typeof i&&e>=n?i.bind(t):function(){}}return e<n.DiagLogLevel.NONE?e=n.DiagLogLevel.NONE:e>n.DiagLogLevel.ALL&&(e=n.DiagLogLevel.ALL),t=t||{},{error:r("error",n.DiagLogLevel.ERROR),warn:r("warn",n.DiagLogLevel.WARN),info:r("info",n.DiagLogLevel.INFO),debug:r("debug",n.DiagLogLevel.DEBUG),verbose:r("verbose",n.DiagLogLevel.VERBOSE)}}},957:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DiagLogLevel=void 0,function(e){e[e.NONE=0]="NONE",e[e.ERROR=30]="ERROR",e[e.WARN=50]="WARN",e[e.INFO=60]="INFO",e[e.DEBUG=70]="DEBUG",e[e.VERBOSE=80]="VERBOSE",e[e.ALL=9999]="ALL"}(t.DiagLogLevel||(t.DiagLogLevel={}))},172:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.unregisterGlobal=t.getGlobal=t.registerGlobal=void 0;let n=r(200),i=r(521),s=r(130),a=i.VERSION.split(".")[0],o=Symbol.for(`opentelemetry.js.api.${a}`),l=n._globalThis;t.registerGlobal=function(e,t,r,n=!1){var s;let a=l[o]=null!==(s=l[o])&&void 0!==s?s:{version:i.VERSION};if(!n&&a[e]){let t=Error(`@opentelemetry/api: Attempted duplicate registration of API: ${e}`);return r.error(t.stack||t.message),!1}if(a.version!==i.VERSION){let t=Error(`@opentelemetry/api: Registration of version v${a.version} for ${e} does not match previously registered API v${i.VERSION}`);return r.error(t.stack||t.message),!1}return a[e]=t,r.debug(`@opentelemetry/api: Registered a global for ${e} v${i.VERSION}.`),!0},t.getGlobal=function(e){var t,r;let n=null===(t=l[o])||void 0===t?void 0:t.version;if(n&&(0,s.isCompatible)(n))return null===(r=l[o])||void 0===r?void 0:r[e]},t.unregisterGlobal=function(e,t){t.debug(`@opentelemetry/api: Unregistering a global for ${e} v${i.VERSION}.`);let r=l[o];r&&delete r[e]}},130:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.isCompatible=t._makeCompatibilityCheck=void 0;let n=r(521),i=/^(\d+)\.(\d+)\.(\d+)(-(.+))?$/;function s(e){let t=new Set([e]),r=new Set,n=e.match(i);if(!n)return()=>!1;let s={major:+n[1],minor:+n[2],patch:+n[3],prerelease:n[4]};if(null!=s.prerelease)return function(t){return t===e};function a(e){return r.add(e),!1}return function(e){if(t.has(e))return!0;if(r.has(e))return!1;let n=e.match(i);if(!n)return a(e);let o={major:+n[1],minor:+n[2],patch:+n[3],prerelease:n[4]};return null!=o.prerelease||s.major!==o.major?a(e):0===s.major?s.minor===o.minor&&s.patch<=o.patch?(t.add(e),!0):a(e):s.minor<=o.minor?(t.add(e),!0):a(e)}}t._makeCompatibilityCheck=s,t.isCompatible=s(n.VERSION)},886:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.metrics=void 0;let n=r(653);t.metrics=n.MetricsAPI.getInstance()},901:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ValueType=void 0,function(e){e[e.INT=0]="INT",e[e.DOUBLE=1]="DOUBLE"}(t.ValueType||(t.ValueType={}))},102:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.createNoopMeter=t.NOOP_OBSERVABLE_UP_DOWN_COUNTER_METRIC=t.NOOP_OBSERVABLE_GAUGE_METRIC=t.NOOP_OBSERVABLE_COUNTER_METRIC=t.NOOP_UP_DOWN_COUNTER_METRIC=t.NOOP_HISTOGRAM_METRIC=t.NOOP_COUNTER_METRIC=t.NOOP_METER=t.NoopObservableUpDownCounterMetric=t.NoopObservableGaugeMetric=t.NoopObservableCounterMetric=t.NoopObservableMetric=t.NoopHistogramMetric=t.NoopUpDownCounterMetric=t.NoopCounterMetric=t.NoopMetric=t.NoopMeter=void 0;class r{constructor(){}createHistogram(e,r){return t.NOOP_HISTOGRAM_METRIC}createCounter(e,r){return t.NOOP_COUNTER_METRIC}createUpDownCounter(e,r){return t.NOOP_UP_DOWN_COUNTER_METRIC}createObservableGauge(e,r){return t.NOOP_OBSERVABLE_GAUGE_METRIC}createObservableCounter(e,r){return t.NOOP_OBSERVABLE_COUNTER_METRIC}createObservableUpDownCounter(e,r){return t.NOOP_OBSERVABLE_UP_DOWN_COUNTER_METRIC}addBatchObservableCallback(e,t){}removeBatchObservableCallback(e){}}t.NoopMeter=r;class n{}t.NoopMetric=n;class i extends n{add(e,t){}}t.NoopCounterMetric=i;class s extends n{add(e,t){}}t.NoopUpDownCounterMetric=s;class a extends n{record(e,t){}}t.NoopHistogramMetric=a;class o{addCallback(e){}removeCallback(e){}}t.NoopObservableMetric=o;class l extends o{}t.NoopObservableCounterMetric=l;class u extends o{}t.NoopObservableGaugeMetric=u;class c extends o{}t.NoopObservableUpDownCounterMetric=c,t.NOOP_METER=new r,t.NOOP_COUNTER_METRIC=new i,t.NOOP_HISTOGRAM_METRIC=new a,t.NOOP_UP_DOWN_COUNTER_METRIC=new s,t.NOOP_OBSERVABLE_COUNTER_METRIC=new l,t.NOOP_OBSERVABLE_GAUGE_METRIC=new u,t.NOOP_OBSERVABLE_UP_DOWN_COUNTER_METRIC=new c,t.createNoopMeter=function(){return t.NOOP_METER}},660:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NOOP_METER_PROVIDER=t.NoopMeterProvider=void 0;let n=r(102);class i{getMeter(e,t,r){return n.NOOP_METER}}t.NoopMeterProvider=i,t.NOOP_METER_PROVIDER=new i},200:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(46),t)},651:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t._globalThis=void 0,t._globalThis="object"==typeof globalThis?globalThis:r.g},46:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(651),t)},939:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.propagation=void 0;let n=r(181);t.propagation=n.PropagationAPI.getInstance()},874:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NoopTextMapPropagator=void 0;class r{inject(e,t){}extract(e,t){return e}fields(){return[]}}t.NoopTextMapPropagator=r},194:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.defaultTextMapSetter=t.defaultTextMapGetter=void 0,t.defaultTextMapGetter={get(e,t){if(null!=e)return e[t]},keys:e=>null==e?[]:Object.keys(e)},t.defaultTextMapSetter={set(e,t,r){null!=e&&(e[t]=r)}}},845:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.trace=void 0;let n=r(997);t.trace=n.TraceAPI.getInstance()},403:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NonRecordingSpan=void 0;let n=r(476);class i{constructor(e=n.INVALID_SPAN_CONTEXT){this._spanContext=e}spanContext(){return this._spanContext}setAttribute(e,t){return this}setAttributes(e){return this}addEvent(e,t){return this}setStatus(e){return this}updateName(e){return this}end(e){}isRecording(){return!1}recordException(e,t){}}t.NonRecordingSpan=i},614:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NoopTracer=void 0;let n=r(491),i=r(607),s=r(403),a=r(139),o=n.ContextAPI.getInstance();class l{startSpan(e,t,r=o.active()){if(null==t?void 0:t.root)return new s.NonRecordingSpan;let n=r&&(0,i.getSpanContext)(r);return"object"==typeof n&&"string"==typeof n.spanId&&"string"==typeof n.traceId&&"number"==typeof n.traceFlags&&(0,a.isSpanContextValid)(n)?new s.NonRecordingSpan(n):new s.NonRecordingSpan}startActiveSpan(e,t,r,n){let s,a,l;if(arguments.length<2)return;2==arguments.length?l=t:3==arguments.length?(s=t,l=r):(s=t,a=r,l=n);let u=null!=a?a:o.active(),c=this.startSpan(e,s,u),h=(0,i.setSpan)(u,c);return o.with(h,l,void 0,c)}}t.NoopTracer=l},124:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NoopTracerProvider=void 0;let n=r(614);class i{getTracer(e,t,r){return new n.NoopTracer}}t.NoopTracerProvider=i},125:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ProxyTracer=void 0;let n=new(r(614)).NoopTracer;class i{constructor(e,t,r,n){this._provider=e,this.name=t,this.version=r,this.options=n}startSpan(e,t,r){return this._getTracer().startSpan(e,t,r)}startActiveSpan(e,t,r,n){let i=this._getTracer();return Reflect.apply(i.startActiveSpan,i,arguments)}_getTracer(){if(this._delegate)return this._delegate;let e=this._provider.getDelegateTracer(this.name,this.version,this.options);return e?(this._delegate=e,this._delegate):n}}t.ProxyTracer=i},846:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ProxyTracerProvider=void 0;let n=r(125),i=new(r(124)).NoopTracerProvider;class s{getTracer(e,t,r){var i;return null!==(i=this.getDelegateTracer(e,t,r))&&void 0!==i?i:new n.ProxyTracer(this,e,t,r)}getDelegate(){var e;return null!==(e=this._delegate)&&void 0!==e?e:i}setDelegate(e){this._delegate=e}getDelegateTracer(e,t,r){var n;return null===(n=this._delegate)||void 0===n?void 0:n.getTracer(e,t,r)}}t.ProxyTracerProvider=s},996:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SamplingDecision=void 0,function(e){e[e.NOT_RECORD=0]="NOT_RECORD",e[e.RECORD=1]="RECORD",e[e.RECORD_AND_SAMPLED=2]="RECORD_AND_SAMPLED"}(t.SamplingDecision||(t.SamplingDecision={}))},607:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getSpanContext=t.setSpanContext=t.deleteSpan=t.setSpan=t.getActiveSpan=t.getSpan=void 0;let n=r(780),i=r(403),s=r(491),a=(0,n.createContextKey)("OpenTelemetry Context Key SPAN");function o(e){return e.getValue(a)||void 0}function l(e,t){return e.setValue(a,t)}t.getSpan=o,t.getActiveSpan=function(){return o(s.ContextAPI.getInstance().active())},t.setSpan=l,t.deleteSpan=function(e){return e.deleteValue(a)},t.setSpanContext=function(e,t){return l(e,new i.NonRecordingSpan(t))},t.getSpanContext=function(e){var t;return null===(t=o(e))||void 0===t?void 0:t.spanContext()}},325:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TraceStateImpl=void 0;let n=r(564);class i{constructor(e){this._internalState=new Map,e&&this._parse(e)}set(e,t){let r=this._clone();return r._internalState.has(e)&&r._internalState.delete(e),r._internalState.set(e,t),r}unset(e){let t=this._clone();return t._internalState.delete(e),t}get(e){return this._internalState.get(e)}serialize(){return this._keys().reduce((e,t)=>(e.push(t+"="+this.get(t)),e),[]).join(",")}_parse(e){!(e.length>512)&&(this._internalState=e.split(",").reverse().reduce((e,t)=>{let r=t.trim(),i=r.indexOf("=");if(-1!==i){let s=r.slice(0,i),a=r.slice(i+1,t.length);(0,n.validateKey)(s)&&(0,n.validateValue)(a)&&e.set(s,a)}return e},new Map),this._internalState.size>32&&(this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,32))))}_keys(){return Array.from(this._internalState.keys()).reverse()}_clone(){let e=new i;return e._internalState=new Map(this._internalState),e}}t.TraceStateImpl=i},564:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.validateValue=t.validateKey=void 0;let r="[_0-9a-z-*/]",n=`[a-z]${r}{0,255}`,i=`[a-z0-9]${r}{0,240}@[a-z]${r}{0,13}`,s=RegExp(`^(?:${n}|${i})$`),a=/^[ -~]{0,255}[!-~]$/,o=/,|=/;t.validateKey=function(e){return s.test(e)},t.validateValue=function(e){return a.test(e)&&!o.test(e)}},98:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.createTraceState=void 0;let n=r(325);t.createTraceState=function(e){return new n.TraceStateImpl(e)}},476:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.INVALID_SPAN_CONTEXT=t.INVALID_TRACEID=t.INVALID_SPANID=void 0;let n=r(475);t.INVALID_SPANID="0000000000000000",t.INVALID_TRACEID="00000000000000000000000000000000",t.INVALID_SPAN_CONTEXT={traceId:t.INVALID_TRACEID,spanId:t.INVALID_SPANID,traceFlags:n.TraceFlags.NONE}},357:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SpanKind=void 0,function(e){e[e.INTERNAL=0]="INTERNAL",e[e.SERVER=1]="SERVER",e[e.CLIENT=2]="CLIENT",e[e.PRODUCER=3]="PRODUCER",e[e.CONSUMER=4]="CONSUMER"}(t.SpanKind||(t.SpanKind={}))},139:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.wrapSpanContext=t.isSpanContextValid=t.isValidSpanId=t.isValidTraceId=void 0;let n=r(476),i=r(403),s=/^([0-9a-f]{32})$/i,a=/^[0-9a-f]{16}$/i;function o(e){return s.test(e)&&e!==n.INVALID_TRACEID}function l(e){return a.test(e)&&e!==n.INVALID_SPANID}t.isValidTraceId=o,t.isValidSpanId=l,t.isSpanContextValid=function(e){return o(e.traceId)&&l(e.spanId)},t.wrapSpanContext=function(e){return new i.NonRecordingSpan(e)}},847:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SpanStatusCode=void 0,function(e){e[e.UNSET=0]="UNSET",e[e.OK=1]="OK",e[e.ERROR=2]="ERROR"}(t.SpanStatusCode||(t.SpanStatusCode={}))},475:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TraceFlags=void 0,function(e){e[e.NONE=0]="NONE",e[e.SAMPLED=1]="SAMPLED"}(t.TraceFlags||(t.TraceFlags={}))},521:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.VERSION=void 0,t.VERSION="1.6.0"}},n={};function i(e){var r=n[e];if(void 0!==r)return r.exports;var s=n[e]={exports:{}},a=!0;try{t[e].call(s.exports,s,s.exports,i),a=!1}finally{a&&delete n[e]}return s.exports}i.ab="//";var s={};(()=>{Object.defineProperty(s,"__esModule",{value:!0}),s.trace=s.propagation=s.metrics=s.diag=s.context=s.INVALID_SPAN_CONTEXT=s.INVALID_TRACEID=s.INVALID_SPANID=s.isValidSpanId=s.isValidTraceId=s.isSpanContextValid=s.createTraceState=s.TraceFlags=s.SpanStatusCode=s.SpanKind=s.SamplingDecision=s.ProxyTracerProvider=s.ProxyTracer=s.defaultTextMapSetter=s.defaultTextMapGetter=s.ValueType=s.createNoopMeter=s.DiagLogLevel=s.DiagConsoleLogger=s.ROOT_CONTEXT=s.createContextKey=s.baggageEntryMetadataFromString=void 0;var e=i(369);Object.defineProperty(s,"baggageEntryMetadataFromString",{enumerable:!0,get:function(){return e.baggageEntryMetadataFromString}});var t=i(780);Object.defineProperty(s,"createContextKey",{enumerable:!0,get:function(){return t.createContextKey}}),Object.defineProperty(s,"ROOT_CONTEXT",{enumerable:!0,get:function(){return t.ROOT_CONTEXT}});var r=i(972);Object.defineProperty(s,"DiagConsoleLogger",{enumerable:!0,get:function(){return r.DiagConsoleLogger}});var n=i(957);Object.defineProperty(s,"DiagLogLevel",{enumerable:!0,get:function(){return n.DiagLogLevel}});var a=i(102);Object.defineProperty(s,"createNoopMeter",{enumerable:!0,get:function(){return a.createNoopMeter}});var o=i(901);Object.defineProperty(s,"ValueType",{enumerable:!0,get:function(){return o.ValueType}});var l=i(194);Object.defineProperty(s,"defaultTextMapGetter",{enumerable:!0,get:function(){return l.defaultTextMapGetter}}),Object.defineProperty(s,"defaultTextMapSetter",{enumerable:!0,get:function(){return l.defaultTextMapSetter}});var u=i(125);Object.defineProperty(s,"ProxyTracer",{enumerable:!0,get:function(){return u.ProxyTracer}});var c=i(846);Object.defineProperty(s,"ProxyTracerProvider",{enumerable:!0,get:function(){return c.ProxyTracerProvider}});var h=i(996);Object.defineProperty(s,"SamplingDecision",{enumerable:!0,get:function(){return h.SamplingDecision}});var d=i(357);Object.defineProperty(s,"SpanKind",{enumerable:!0,get:function(){return d.SpanKind}});var f=i(847);Object.defineProperty(s,"SpanStatusCode",{enumerable:!0,get:function(){return f.SpanStatusCode}});var p=i(475);Object.defineProperty(s,"TraceFlags",{enumerable:!0,get:function(){return p.TraceFlags}});var g=i(98);Object.defineProperty(s,"createTraceState",{enumerable:!0,get:function(){return g.createTraceState}});var m=i(139);Object.defineProperty(s,"isSpanContextValid",{enumerable:!0,get:function(){return m.isSpanContextValid}}),Object.defineProperty(s,"isValidTraceId",{enumerable:!0,get:function(){return m.isValidTraceId}}),Object.defineProperty(s,"isValidSpanId",{enumerable:!0,get:function(){return m.isValidSpanId}});var y=i(476);Object.defineProperty(s,"INVALID_SPANID",{enumerable:!0,get:function(){return y.INVALID_SPANID}}),Object.defineProperty(s,"INVALID_TRACEID",{enumerable:!0,get:function(){return y.INVALID_TRACEID}}),Object.defineProperty(s,"INVALID_SPAN_CONTEXT",{enumerable:!0,get:function(){return y.INVALID_SPAN_CONTEXT}});let v=i(67);Object.defineProperty(s,"context",{enumerable:!0,get:function(){return v.context}});let b=i(506);Object.defineProperty(s,"diag",{enumerable:!0,get:function(){return b.diag}});let w=i(886);Object.defineProperty(s,"metrics",{enumerable:!0,get:function(){return w.metrics}});let _=i(939);Object.defineProperty(s,"propagation",{enumerable:!0,get:function(){return _.propagation}});let S=i(845);Object.defineProperty(s,"trace",{enumerable:!0,get:function(){return S.trace}}),s.default={context:v.context,diag:b.diag,metrics:w.metrics,propagation:_.propagation,trace:S.trace}})(),e.exports=s})()},3143:e=>{(()=>{"use strict";"undefined"!=typeof __nccwpck_require__&&(__nccwpck_require__.ab="//");var t={};(()=>{t.parse=function(t,r){if("string"!=typeof t)throw TypeError("argument str must be a string");for(var i={},s=t.split(n),a=(r||{}).decode||e,o=0;o<s.length;o++){var l=s[o],u=l.indexOf("=");if(!(u<0)){var c=l.substr(0,u).trim(),h=l.substr(++u,l.length).trim();'"'==h[0]&&(h=h.slice(1,-1)),void 0==i[c]&&(i[c]=function(e,t){try{return t(e)}catch(t){return e}}(h,a))}}return i},t.serialize=function(e,t,n){var s=n||{},a=s.encode||r;if("function"!=typeof a)throw TypeError("option encode is invalid");if(!i.test(e))throw TypeError("argument name is invalid");var o=a(t);if(o&&!i.test(o))throw TypeError("argument val is invalid");var l=e+"="+o;if(null!=s.maxAge){var u=s.maxAge-0;if(isNaN(u)||!isFinite(u))throw TypeError("option maxAge is invalid");l+="; Max-Age="+Math.floor(u)}if(s.domain){if(!i.test(s.domain))throw TypeError("option domain is invalid");l+="; Domain="+s.domain}if(s.path){if(!i.test(s.path))throw TypeError("option path is invalid");l+="; Path="+s.path}if(s.expires){if("function"!=typeof s.expires.toUTCString)throw TypeError("option expires is invalid");l+="; Expires="+s.expires.toUTCString()}if(s.httpOnly&&(l+="; HttpOnly"),s.secure&&(l+="; Secure"),s.sameSite)switch("string"==typeof s.sameSite?s.sameSite.toLowerCase():s.sameSite){case!0:case"strict":l+="; SameSite=Strict";break;case"lax":l+="; SameSite=Lax";break;case"none":l+="; SameSite=None";break;default:throw TypeError("option sameSite is invalid")}return l};var e=decodeURIComponent,r=encodeURIComponent,n=/; */,i=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/})(),e.exports=t})()},5080:e=>{(()=>{"use strict";var t={806:(e,t,r)=>{let n=r(190),i=Symbol("max"),s=Symbol("length"),a=Symbol("lengthCalculator"),o=Symbol("allowStale"),l=Symbol("maxAge"),u=Symbol("dispose"),c=Symbol("noDisposeOnSet"),h=Symbol("lruList"),d=Symbol("cache"),f=Symbol("updateAgeOnGet"),p=()=>1;class g{constructor(e){if("number"==typeof e&&(e={max:e}),e||(e={}),e.max&&("number"!=typeof e.max||e.max<0))throw TypeError("max must be a non-negative number");this[i]=e.max||1/0;let t=e.length||p;if(this[a]="function"!=typeof t?p:t,this[o]=e.stale||!1,e.maxAge&&"number"!=typeof e.maxAge)throw TypeError("maxAge must be a number");this[l]=e.maxAge||0,this[u]=e.dispose,this[c]=e.noDisposeOnSet||!1,this[f]=e.updateAgeOnGet||!1,this.reset()}set max(e){if("number"!=typeof e||e<0)throw TypeError("max must be a non-negative number");this[i]=e||1/0,v(this)}get max(){return this[i]}set allowStale(e){this[o]=!!e}get allowStale(){return this[o]}set maxAge(e){if("number"!=typeof e)throw TypeError("maxAge must be a non-negative number");this[l]=e,v(this)}get maxAge(){return this[l]}set lengthCalculator(e){"function"!=typeof e&&(e=p),e!==this[a]&&(this[a]=e,this[s]=0,this[h].forEach(e=>{e.length=this[a](e.value,e.key),this[s]+=e.length})),v(this)}get lengthCalculator(){return this[a]}get length(){return this[s]}get itemCount(){return this[h].length}rforEach(e,t){t=t||this;for(let r=this[h].tail;null!==r;){let n=r.prev;_(this,e,r,t),r=n}}forEach(e,t){t=t||this;for(let r=this[h].head;null!==r;){let n=r.next;_(this,e,r,t),r=n}}keys(){return this[h].toArray().map(e=>e.key)}values(){return this[h].toArray().map(e=>e.value)}reset(){this[u]&&this[h]&&this[h].length&&this[h].forEach(e=>this[u](e.key,e.value)),this[d]=new Map,this[h]=new n,this[s]=0}dump(){return this[h].map(e=>!y(this,e)&&{k:e.key,v:e.value,e:e.now+(e.maxAge||0)}).toArray().filter(e=>e)}dumpLru(){return this[h]}set(e,t,r){if((r=r||this[l])&&"number"!=typeof r)throw TypeError("maxAge must be a number");let n=r?Date.now():0,o=this[a](t,e);if(this[d].has(e)){if(o>this[i])return b(this,this[d].get(e)),!1;let a=this[d].get(e).value;return this[u]&&!this[c]&&this[u](e,a.value),a.now=n,a.maxAge=r,a.value=t,this[s]+=o-a.length,a.length=o,this.get(e),v(this),!0}let f=new w(e,t,o,n,r);return f.length>this[i]?(this[u]&&this[u](e,t),!1):(this[s]+=f.length,this[h].unshift(f),this[d].set(e,this[h].head),v(this),!0)}has(e){return!!this[d].has(e)&&!y(this,this[d].get(e).value)}get(e){return m(this,e,!0)}peek(e){return m(this,e,!1)}pop(){let e=this[h].tail;return e?(b(this,e),e.value):null}del(e){b(this,this[d].get(e))}load(e){this.reset();let t=Date.now();for(let r=e.length-1;r>=0;r--){let n=e[r],i=n.e||0;if(0===i)this.set(n.k,n.v);else{let e=i-t;e>0&&this.set(n.k,n.v,e)}}}prune(){this[d].forEach((e,t)=>m(this,t,!1))}}let m=(e,t,r)=>{let n=e[d].get(t);if(n){let t=n.value;if(y(e,t)){if(b(e,n),!e[o])return}else r&&(e[f]&&(n.value.now=Date.now()),e[h].unshiftNode(n));return t.value}},y=(e,t)=>{if(!t||!t.maxAge&&!e[l])return!1;let r=Date.now()-t.now;return t.maxAge?r>t.maxAge:e[l]&&r>e[l]},v=e=>{if(e[s]>e[i])for(let t=e[h].tail;e[s]>e[i]&&null!==t;){let r=t.prev;b(e,t),t=r}},b=(e,t)=>{if(t){let r=t.value;e[u]&&e[u](r.key,r.value),e[s]-=r.length,e[d].delete(r.key),e[h].removeNode(t)}};class w{constructor(e,t,r,n,i){this.key=e,this.value=t,this.length=r,this.now=n,this.maxAge=i||0}}let _=(e,t,r,n)=>{let i=r.value;y(e,i)&&(b(e,r),e[o]||(i=void 0)),i&&t.call(n,i.value,i.key,e)};e.exports=g},76:e=>{e.exports=function(e){e.prototype[Symbol.iterator]=function*(){for(let e=this.head;e;e=e.next)yield e.value}}},190:(e,t,r)=>{function n(e){var t=this;if(t instanceof n||(t=new n),t.tail=null,t.head=null,t.length=0,e&&"function"==typeof e.forEach)e.forEach(function(e){t.push(e)});else if(arguments.length>0)for(var r=0,i=arguments.length;r<i;r++)t.push(arguments[r]);return t}function i(e,t,r,n){if(!(this instanceof i))return new i(e,t,r,n);this.list=n,this.value=e,t?(t.next=this,this.prev=t):this.prev=null,r?(r.prev=this,this.next=r):this.next=null}e.exports=n,n.Node=i,n.create=n,n.prototype.removeNode=function(e){if(e.list!==this)throw Error("removing node which does not belong to this list");var t=e.next,r=e.prev;return t&&(t.prev=r),r&&(r.next=t),e===this.head&&(this.head=t),e===this.tail&&(this.tail=r),e.list.length--,e.next=null,e.prev=null,e.list=null,t},n.prototype.unshiftNode=function(e){if(e!==this.head){e.list&&e.list.removeNode(e);var t=this.head;e.list=this,e.next=t,t&&(t.prev=e),this.head=e,this.tail||(this.tail=e),this.length++}},n.prototype.pushNode=function(e){if(e!==this.tail){e.list&&e.list.removeNode(e);var t=this.tail;e.list=this,e.prev=t,t&&(t.next=e),this.tail=e,this.head||(this.head=e),this.length++}},n.prototype.push=function(){for(var e,t=0,r=arguments.length;t<r;t++)e=arguments[t],this.tail=new i(e,this.tail,null,this),this.head||(this.head=this.tail),this.length++;return this.length},n.prototype.unshift=function(){for(var e,t=0,r=arguments.length;t<r;t++)e=arguments[t],this.head=new i(e,null,this.head,this),this.tail||(this.tail=this.head),this.length++;return this.length},n.prototype.pop=function(){if(this.tail){var e=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,e}},n.prototype.shift=function(){if(this.head){var e=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,e}},n.prototype.forEach=function(e,t){t=t||this;for(var r=this.head,n=0;null!==r;n++)e.call(t,r.value,n,this),r=r.next},n.prototype.forEachReverse=function(e,t){t=t||this;for(var r=this.tail,n=this.length-1;null!==r;n--)e.call(t,r.value,n,this),r=r.prev},n.prototype.get=function(e){for(var t=0,r=this.head;null!==r&&t<e;t++)r=r.next;if(t===e&&null!==r)return r.value},n.prototype.getReverse=function(e){for(var t=0,r=this.tail;null!==r&&t<e;t++)r=r.prev;if(t===e&&null!==r)return r.value},n.prototype.map=function(e,t){t=t||this;for(var r=new n,i=this.head;null!==i;)r.push(e.call(t,i.value,this)),i=i.next;return r},n.prototype.mapReverse=function(e,t){t=t||this;for(var r=new n,i=this.tail;null!==i;)r.push(e.call(t,i.value,this)),i=i.prev;return r},n.prototype.reduce=function(e,t){var r,n=this.head;if(arguments.length>1)r=t;else if(this.head)n=this.head.next,r=this.head.value;else throw TypeError("Reduce of empty list with no initial value");for(var i=0;null!==n;i++)r=e(r,n.value,i),n=n.next;return r},n.prototype.reduceReverse=function(e,t){var r,n=this.tail;if(arguments.length>1)r=t;else if(this.tail)n=this.tail.prev,r=this.tail.value;else throw TypeError("Reduce of empty list with no initial value");for(var i=this.length-1;null!==n;i--)r=e(r,n.value,i),n=n.prev;return r},n.prototype.toArray=function(){for(var e=Array(this.length),t=0,r=this.head;null!==r;t++)e[t]=r.value,r=r.next;return e},n.prototype.toArrayReverse=function(){for(var e=Array(this.length),t=0,r=this.tail;null!==r;t++)e[t]=r.value,r=r.prev;return e},n.prototype.slice=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var r=new n;if(t<e||t<0)return r;e<0&&(e=0),t>this.length&&(t=this.length);for(var i=0,s=this.head;null!==s&&i<e;i++)s=s.next;for(;null!==s&&i<t;i++,s=s.next)r.push(s.value);return r},n.prototype.sliceReverse=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var r=new n;if(t<e||t<0)return r;e<0&&(e=0),t>this.length&&(t=this.length);for(var i=this.length,s=this.tail;null!==s&&i>t;i--)s=s.prev;for(;null!==s&&i>e;i--,s=s.prev)r.push(s.value);return r},n.prototype.splice=function(e,t){e>this.length&&(e=this.length-1),e<0&&(e=this.length+e);for(var r=0,n=this.head;null!==n&&r<e;r++)n=n.next;for(var s=[],r=0;n&&r<t;r++)s.push(n.value),n=this.removeNode(n);null===n&&(n=this.tail),n!==this.head&&n!==this.tail&&(n=n.prev);for(var r=2;r<arguments.length;r++)n=function(e,t,r){var n=t===e.head?new i(r,null,t,e):new i(r,t,t.next,e);return null===n.next&&(e.tail=n),null===n.prev&&(e.head=n),e.length++,n}(this,n,arguments[r]);return s},n.prototype.reverse=function(){for(var e=this.head,t=this.tail,r=e;null!==r;r=r.prev){var n=r.prev;r.prev=r.next,r.next=n}return this.head=t,this.tail=e,this};try{r(76)(n)}catch(e){}}},r={};function n(e){var i=r[e];if(void 0!==i)return i.exports;var s=r[e]={exports:{}},a=!0;try{t[e](s,s.exports,n),a=!1}finally{a&&delete r[e]}return s.exports}n.ab="//";var i=n(806);e.exports=i})()},4737:(e,t,r)=>{!function(){var t={452:function(e){"use strict";e.exports=r(8004)}},n={};function i(e){var r=n[e];if(void 0!==r)return r.exports;var s=n[e]={exports:{}},a=!0;try{t[e](s,s.exports,i),a=!1}finally{a&&delete n[e]}return s.exports}i.ab="//";var s={};!function(){var e,t=(e=i(452))&&"object"==typeof e&&"default"in e?e.default:e,r=/https?|ftp|gopher|file/;function n(e){"string"==typeof e&&(e=y(e));var n,i,s,a,o,l,u,c,h,d=(i=(n=e).auth,s=n.hostname,a=n.protocol||"",o=n.pathname||"",l=n.hash||"",u=n.query||"",c=!1,i=i?encodeURIComponent(i).replace(/%3A/i,":")+"@":"",n.host?c=i+n.host:s&&(c=i+(~s.indexOf(":")?"["+s+"]":s),n.port&&(c+=":"+n.port)),u&&"object"==typeof u&&(u=t.encode(u)),h=n.search||u&&"?"+u||"",a&&":"!==a.substr(-1)&&(a+=":"),n.slashes||(!a||r.test(a))&&!1!==c?(c="//"+(c||""),o&&"/"!==o[0]&&(o="/"+o)):c||(c=""),l&&"#"!==l[0]&&(l="#"+l),h&&"?"!==h[0]&&(h="?"+h),{protocol:a,host:c,pathname:o=o.replace(/[?#]/g,encodeURIComponent),search:h=h.replace("#","%23"),hash:l});return""+d.protocol+d.host+d.pathname+d.search+d.hash}var a="http://",o=a+"w.w",l=/^([a-z0-9.+-]*:\/\/\/)([a-z0-9.+-]:\/*)?/i,u=/https?|ftp|gopher|file/;function c(e,t){var r="string"==typeof e?y(e):e;e="object"==typeof e?n(e):e;var i=y(t),s="";r.protocol&&!r.slashes&&(s=r.protocol,e=e.replace(r.protocol,""),s+="/"===t[0]||"/"===e[0]?"/":""),s&&i.protocol&&(s="",i.slashes||(s=i.protocol,t=t.replace(i.protocol,"")));var c=e.match(l);c&&!i.protocol&&(e=e.substr((s=c[1]+(c[2]||"")).length),/^\/\/[^/]/.test(t)&&(s=s.slice(0,-1)));var h=new URL(e,o+"/"),d=new URL(t,h).toString().replace(o,""),f=i.protocol||r.protocol;return f+=r.slashes||i.slashes?"//":"",!s&&f?d=d.replace(a,f):s&&(d=d.replace(a,"")),u.test(d)||~t.indexOf(".")||"/"===e.slice(-1)||"/"===t.slice(-1)||"/"!==d.slice(-1)||(d=d.slice(0,-1)),s&&(d=s+("/"===d[0]?d.substr(1):d)),d}function h(){}h.prototype.parse=y,h.prototype.format=n,h.prototype.resolve=c,h.prototype.resolveObject=c;var d=/^https?|ftp|gopher|file/,f=/^(.*?)([#?].*)/,p=/^([a-z0-9.+-]*:)(\/{0,3})(.*)/i,g=/^([a-z0-9.+-]*:)?\/\/\/*/i,m=/^([a-z0-9.+-]*:)(\/{0,2})\[(.*)\]$/i;function y(e,r,i){if(void 0===r&&(r=!1),void 0===i&&(i=!1),e&&"object"==typeof e&&e instanceof h)return e;var s=(e=e.trim()).match(f);e=s?s[1].replace(/\\/g,"/")+s[2]:e.replace(/\\/g,"/"),m.test(e)&&"/"!==e.slice(-1)&&(e+="/");var a=!/(^javascript)/.test(e)&&e.match(p),l=g.test(e),u="";a&&(d.test(a[1])||(u=a[1].toLowerCase(),e=""+a[2]+a[3]),a[2]||(l=!1,d.test(a[1])?(u=a[1],e=""+a[3]):e="//"+a[3]),3!==a[2].length&&1!==a[2].length||(u=a[1],e="/"+a[3]));var c,y=(s?s[1]:e).match(/^https?:\/\/[^/]+(:[0-9]+)(?=\/|$)/),v=y&&y[1],b=new h,w="",_="";try{c=new URL(e)}catch(t){w=t,u||i||!/^\/\//.test(e)||/^\/\/.+[@.]/.test(e)||(_="/",e=e.substr(1));try{c=new URL(e,o)}catch(e){return b.protocol=u,b.href=u,b}}b.slashes=l&&!_,b.host="w.w"===c.host?"":c.host,b.hostname="w.w"===c.hostname?"":c.hostname.replace(/(\[|\])/g,""),b.protocol=w?u||null:c.protocol,b.search=c.search.replace(/\\/g,"%5C"),b.hash=c.hash.replace(/\\/g,"%5C");var S=e.split("#");!b.search&&~S[0].indexOf("?")&&(b.search="?"),b.hash||""!==S[1]||(b.hash="#"),b.query=r?t.decode(c.search.substr(1)):b.search.substr(1),b.pathname=_+(a?c.pathname.replace(/['^|`]/g,function(e){return"%"+e.charCodeAt().toString(16).toUpperCase()}).replace(/((?:%[0-9A-F]{2})+)/g,function(e,t){try{return decodeURIComponent(t).split("").map(function(e){var t=e.charCodeAt();return t>256||/^[a-z0-9]$/i.test(e)?e:"%"+t.toString(16).toUpperCase()}).join("")}catch(e){return t}}):c.pathname),"about:"===b.protocol&&"blank"===b.pathname&&(b.protocol="",b.pathname=""),w&&"/"!==e[0]&&(b.pathname=b.pathname.substr(1)),u&&!d.test(u)&&"/"!==e.slice(-1)&&"/"===b.pathname&&(b.pathname=""),b.path=b.pathname+b.search,b.auth=[c.username,c.password].map(decodeURIComponent).filter(Boolean).join(":"),b.port=c.port,v&&!b.host.endsWith(v)&&(b.host+=v,b.port=v.slice(1)),b.href=_?""+b.pathname+b.search+b.hash:n(b);var E=/^(file)/.test(b.href)?["host","hostname"]:[];return Object.keys(b).forEach(function(e){~E.indexOf(e)||(b[e]=b[e]||null)}),b}s.parse=y,s.format=n,s.resolve=c,s.resolveObject=function(e,t){return y(c(e,t))},s.Url=h}(),e.exports=s}()},1982:e=>{!function(){"use strict";var t={114:function(e){function t(e){if("string"!=typeof e)throw TypeError("Path must be a string. Received "+JSON.stringify(e))}function r(e,t){for(var r,n="",i=0,s=-1,a=0,o=0;o<=e.length;++o){if(o<e.length)r=e.charCodeAt(o);else if(47===r)break;else r=47;if(47===r){if(s===o-1||1===a);else if(s!==o-1&&2===a){if(n.length<2||2!==i||46!==n.charCodeAt(n.length-1)||46!==n.charCodeAt(n.length-2)){if(n.length>2){var l=n.lastIndexOf("/");if(l!==n.length-1){-1===l?(n="",i=0):i=(n=n.slice(0,l)).length-1-n.lastIndexOf("/"),s=o,a=0;continue}}else if(2===n.length||1===n.length){n="",i=0,s=o,a=0;continue}}t&&(n.length>0?n+="/..":n="..",i=2)}else n.length>0?n+="/"+e.slice(s+1,o):n=e.slice(s+1,o),i=o-s-1;s=o,a=0}else 46===r&&-1!==a?++a:a=-1}return n}var n={resolve:function(){for(var e,n,i="",s=!1,a=arguments.length-1;a>=-1&&!s;a--)a>=0?n=arguments[a]:(void 0===e&&(e=""),n=e),t(n),0!==n.length&&(i=n+"/"+i,s=47===n.charCodeAt(0));return(i=r(i,!s),s)?i.length>0?"/"+i:"/":i.length>0?i:"."},normalize:function(e){if(t(e),0===e.length)return".";var n=47===e.charCodeAt(0),i=47===e.charCodeAt(e.length-1);return(0!==(e=r(e,!n)).length||n||(e="."),e.length>0&&i&&(e+="/"),n)?"/"+e:e},isAbsolute:function(e){return t(e),e.length>0&&47===e.charCodeAt(0)},join:function(){if(0==arguments.length)return".";for(var e,r=0;r<arguments.length;++r){var i=arguments[r];t(i),i.length>0&&(void 0===e?e=i:e+="/"+i)}return void 0===e?".":n.normalize(e)},relative:function(e,r){if(t(e),t(r),e===r||(e=n.resolve(e))===(r=n.resolve(r)))return"";for(var i=1;i<e.length&&47===e.charCodeAt(i);++i);for(var s=e.length,a=s-i,o=1;o<r.length&&47===r.charCodeAt(o);++o);for(var l=r.length-o,u=a<l?a:l,c=-1,h=0;h<=u;++h){if(h===u){if(l>u){if(47===r.charCodeAt(o+h))return r.slice(o+h+1);if(0===h)return r.slice(o+h)}else a>u&&(47===e.charCodeAt(i+h)?c=h:0===h&&(c=0));break}var d=e.charCodeAt(i+h);if(d!==r.charCodeAt(o+h))break;47===d&&(c=h)}var f="";for(h=i+c+1;h<=s;++h)(h===s||47===e.charCodeAt(h))&&(0===f.length?f+="..":f+="/..");return f.length>0?f+r.slice(o+c):(o+=c,47===r.charCodeAt(o)&&++o,r.slice(o))},_makeLong:function(e){return e},dirname:function(e){if(t(e),0===e.length)return".";for(var r=e.charCodeAt(0),n=47===r,i=-1,s=!0,a=e.length-1;a>=1;--a)if(47===(r=e.charCodeAt(a))){if(!s){i=a;break}}else s=!1;return -1===i?n?"/":".":n&&1===i?"//":e.slice(0,i)},basename:function(e,r){if(void 0!==r&&"string"!=typeof r)throw TypeError('"ext" argument must be a string');t(e);var n,i=0,s=-1,a=!0;if(void 0!==r&&r.length>0&&r.length<=e.length){if(r.length===e.length&&r===e)return"";var o=r.length-1,l=-1;for(n=e.length-1;n>=0;--n){var u=e.charCodeAt(n);if(47===u){if(!a){i=n+1;break}}else -1===l&&(a=!1,l=n+1),o>=0&&(u===r.charCodeAt(o)?-1==--o&&(s=n):(o=-1,s=l))}return i===s?s=l:-1===s&&(s=e.length),e.slice(i,s)}for(n=e.length-1;n>=0;--n)if(47===e.charCodeAt(n)){if(!a){i=n+1;break}}else -1===s&&(a=!1,s=n+1);return -1===s?"":e.slice(i,s)},extname:function(e){t(e);for(var r=-1,n=0,i=-1,s=!0,a=0,o=e.length-1;o>=0;--o){var l=e.charCodeAt(o);if(47===l){if(!s){n=o+1;break}continue}-1===i&&(s=!1,i=o+1),46===l?-1===r?r=o:1!==a&&(a=1):-1!==r&&(a=-1)}return -1===r||-1===i||0===a||1===a&&r===i-1&&r===n+1?"":e.slice(r,i)},format:function(e){var t,r;if(null===e||"object"!=typeof e)throw TypeError('The "pathObject" argument must be of type Object. Received type '+typeof e);return t=e.dir||e.root,r=e.base||(e.name||"")+(e.ext||""),t?t===e.root?t+r:t+"/"+r:r},parse:function(e){t(e);var r,n={root:"",dir:"",base:"",ext:"",name:""};if(0===e.length)return n;var i=e.charCodeAt(0),s=47===i;s?(n.root="/",r=1):r=0;for(var a=-1,o=0,l=-1,u=!0,c=e.length-1,h=0;c>=r;--c){if(47===(i=e.charCodeAt(c))){if(!u){o=c+1;break}continue}-1===l&&(u=!1,l=c+1),46===i?-1===a?a=c:1!==h&&(h=1):-1!==a&&(h=-1)}return -1===a||-1===l||0===h||1===h&&a===l-1&&a===o+1?-1!==l&&(0===o&&s?n.base=n.name=e.slice(1,l):n.base=n.name=e.slice(o,l)):(0===o&&s?(n.name=e.slice(1,a),n.base=e.slice(1,l)):(n.name=e.slice(o,a),n.base=e.slice(o,l)),n.ext=e.slice(a,l)),o>0?n.dir=e.slice(0,o-1):s&&(n.dir="/"),n},sep:"/",delimiter:":",win32:null,posix:null};n.posix=n,e.exports=n}},r={};function n(e){var i=r[e];if(void 0!==i)return i.exports;var s=r[e]={exports:{}},a=!0;try{t[e](s,s.exports,n),a=!1}finally{a&&delete r[e]}return s.exports}n.ab="//";var i=n(114);e.exports=i}()},7278:(e,t)=>{"use strict";function r(e,t){void 0===t&&(t={});for(var r=function(e){for(var t=[],r=0;r<e.length;){var n=e[r];if("*"===n||"+"===n||"?"===n){t.push({type:"MODIFIER",index:r,value:e[r++]});continue}if("\\"===n){t.push({type:"ESCAPED_CHAR",index:r++,value:e[r++]});continue}if("{"===n){t.push({type:"OPEN",index:r,value:e[r++]});continue}if("}"===n){t.push({type:"CLOSE",index:r,value:e[r++]});continue}if(":"===n){for(var i="",s=r+1;s<e.length;){var a=e.charCodeAt(s);if(a>=48&&a<=57||a>=65&&a<=90||a>=97&&a<=122||95===a){i+=e[s++];continue}break}if(!i)throw TypeError("Missing parameter name at "+r);t.push({type:"NAME",index:r,value:i}),r=s;continue}if("("===n){var o=1,l="",s=r+1;if("?"===e[s])throw TypeError('Pattern cannot start with "?" at '+s);for(;s<e.length;){if("\\"===e[s]){l+=e[s++]+e[s++];continue}if(")"===e[s]){if(0==--o){s++;break}}else if("("===e[s]&&(o++,"?"!==e[s+1]))throw TypeError("Capturing groups are not allowed at "+s);l+=e[s++]}if(o)throw TypeError("Unbalanced pattern at "+r);if(!l)throw TypeError("Missing pattern at "+r);t.push({type:"PATTERN",index:r,value:l}),r=s;continue}t.push({type:"CHAR",index:r,value:e[r++]})}return t.push({type:"END",index:r,value:""}),t}(e),i=t.prefixes,s=void 0===i?"./":i,a="[^"+n(t.delimiter||"/#?")+"]+?",o=[],l=0,u=0,c="",h=function(e){if(u<r.length&&r[u].type===e)return r[u++].value},d=function(e){var t=h(e);if(void 0!==t)return t;var n=r[u];throw TypeError("Unexpected "+n.type+" at "+n.index+", expected "+e)},f=function(){for(var e,t="";e=h("CHAR")||h("ESCAPED_CHAR");)t+=e;return t};u<r.length;){var p=h("CHAR"),g=h("NAME"),m=h("PATTERN");if(g||m){var y=p||"";-1===s.indexOf(y)&&(c+=y,y=""),c&&(o.push(c),c=""),o.push({name:g||l++,prefix:y,suffix:"",pattern:m||a,modifier:h("MODIFIER")||""});continue}var v=p||h("ESCAPED_CHAR");if(v){c+=v;continue}if(c&&(o.push(c),c=""),h("OPEN")){var y=f(),b=h("NAME")||"",w=h("PATTERN")||"",_=f();d("CLOSE"),o.push({name:b||(w?l++:""),pattern:b&&!w?a:w,prefix:y,suffix:_,modifier:h("MODIFIER")||""});continue}d("END")}return o}function n(e){return e.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1")}function i(e){return e&&e.sensitive?"":"i"}t.MY=function(e,t){var n,s,a,o,l,u,c,h;return n=r(e,t),void 0===(s=t)&&(s={}),a=i(s),l=void 0===(o=s.encode)?function(e){return e}:o,c=void 0===(u=s.validate)||u,h=n.map(function(e){if("object"==typeof e)return RegExp("^(?:"+e.pattern+")$",a)}),function(e){for(var t="",r=0;r<n.length;r++){var i=n[r];if("string"==typeof i){t+=i;continue}var s=e?e[i.name]:void 0,a="?"===i.modifier||"*"===i.modifier,o="*"===i.modifier||"+"===i.modifier;if(Array.isArray(s)){if(!o)throw TypeError('Expected "'+i.name+'" to not repeat, but got an array');if(0===s.length){if(a)continue;throw TypeError('Expected "'+i.name+'" to not be empty')}for(var u=0;u<s.length;u++){var d=l(s[u],i);if(c&&!h[r].test(d))throw TypeError('Expected all "'+i.name+'" to match "'+i.pattern+'", but got "'+d+'"');t+=i.prefix+d+i.suffix}continue}if("string"==typeof s||"number"==typeof s){var d=l(String(s),i);if(c&&!h[r].test(d))throw TypeError('Expected "'+i.name+'" to match "'+i.pattern+'", but got "'+d+'"');t+=i.prefix+d+i.suffix;continue}if(!a){var f=o?"an array":"a string";throw TypeError('Expected "'+i.name+'" to be '+f)}}return t}},t.WS=function(e,t,r){void 0===r&&(r={});var n=r.decode,i=void 0===n?function(e){return e}:n;return function(r){var n=e.exec(r);if(!n)return!1;for(var s=n[0],a=n.index,o=Object.create(null),l=1;l<n.length;l++)!function(e){if(void 0!==n[e]){var r=t[e-1];"*"===r.modifier||"+"===r.modifier?o[r.name]=n[e].split(r.prefix+r.suffix).map(function(e){return i(e,r)}):o[r.name]=i(n[e],r)}}(l);return{path:s,index:a,params:o}}},t.Bo=function e(t,s,a){return t instanceof RegExp?function(e,t){if(!t)return e;var r=e.source.match(/\((?!\?)/g);if(r)for(var n=0;n<r.length;n++)t.push({name:n,prefix:"",suffix:"",modifier:"",pattern:""});return e}(t,s):Array.isArray(t)?RegExp("(?:"+t.map(function(t){return e(t,s,a).source}).join("|")+")",i(a)):function(e,t,r){void 0===r&&(r={});for(var s=r.strict,a=void 0!==s&&s,o=r.start,l=r.end,u=r.encode,c=void 0===u?function(e){return e}:u,h="["+n(r.endsWith||"")+"]|$",d="["+n(r.delimiter||"/#?")+"]",f=void 0===o||o?"^":"",p=0;p<e.length;p++){var g=e[p];if("string"==typeof g)f+=n(c(g));else{var m=n(c(g.prefix)),y=n(c(g.suffix));if(g.pattern){if(t&&t.push(g),m||y){if("+"===g.modifier||"*"===g.modifier){var v="*"===g.modifier?"?":"";f+="(?:"+m+"((?:"+g.pattern+")(?:"+y+m+"(?:"+g.pattern+"))*)"+y+")"+v}else f+="(?:"+m+"("+g.pattern+")"+y+")"+g.modifier}else f+="("+g.pattern+")"+g.modifier}else f+="(?:"+m+y+")"+g.modifier}}if(void 0===l||l)a||(f+=d+"?"),f+=r.endsWith?"(?="+h+")":"$";else{var b=e[e.length-1],w="string"==typeof b?d.indexOf(b[b.length-1])>-1:void 0===b;a||(f+="(?:"+d+"(?="+h+"))?"),w||(f+="(?="+d+"|"+h+")")}return new RegExp(f,i(r))}(r(t,a),s,a)}},8004:e=>{!function(){"use strict";var t={815:function(e){e.exports=function(e,r,n,i){r=r||"&",n=n||"=";var s={};if("string"!=typeof e||0===e.length)return s;var a=/\+/g;e=e.split(r);var o=1e3;i&&"number"==typeof i.maxKeys&&(o=i.maxKeys);var l=e.length;o>0&&l>o&&(l=o);for(var u=0;u<l;++u){var c,h,d,f,p=e[u].replace(a,"%20"),g=p.indexOf(n);(g>=0?(c=p.substr(0,g),h=p.substr(g+1)):(c=p,h=""),d=decodeURIComponent(c),f=decodeURIComponent(h),Object.prototype.hasOwnProperty.call(s,d))?t(s[d])?s[d].push(f):s[d]=[s[d],f]:s[d]=f}return s};var t=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},577:function(e){var t=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,s,a,o){return(s=s||"&",a=a||"=",null===e&&(e=void 0),"object"==typeof e)?n(i(e),function(i){var o=encodeURIComponent(t(i))+a;return r(e[i])?n(e[i],function(e){return o+encodeURIComponent(t(e))}).join(s):o+encodeURIComponent(t(e[i]))}).join(s):o?encodeURIComponent(t(o))+a+encodeURIComponent(t(e)):""};var r=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function n(e,t){if(e.map)return e.map(t);for(var r=[],n=0;n<e.length;n++)r.push(t(e[n],n));return r}var i=Object.keys||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.push(r);return t}}},r={};function n(e){var i=r[e];if(void 0!==i)return i.exports;var s=r[e]={exports:{}},a=!0;try{t[e](s,s.exports,n),a=!1}finally{a&&delete r[e]}return s.exports}n.ab="//";var i={};i.decode=i.parse=n(815),i.encode=i.stringify=n(577),e.exports=i}()},6989:(e,t,r)=>{"use strict";var n=r(9220),i={usingClientEntryPoint:!1,Events:null,Dispatcher:{current:null}};function s(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(e,t){return"font"===e?"":"string"==typeof t?"use-credentials"===t?t:"":void 0}var o=i.Dispatcher,l=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentDispatcher;function u(){return l.current.useHostTransitionStatus()}function c(e,t,r){return l.current.useFormState(e,t,r)}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=i,t.createPortal=function(){throw Error(s(448))},t.experimental_useFormState=function(e,t,r){return c(e,t,r)},t.experimental_useFormStatus=function(){return u()},t.flushSync=function(){throw Error(s(449))},t.preconnect=function(e,t){var r=o.current;r&&"string"==typeof e&&(t=t?"string"==typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:null,r.preconnect(e,t))},t.prefetchDNS=function(e){var t=o.current;t&&"string"==typeof e&&t.prefetchDNS(e)},t.preinit=function(e,t){var r=o.current;if(r&&"string"==typeof e&&t&&"string"==typeof t.as){var n=t.as,i=a(n,t.crossOrigin),s="string"==typeof t.integrity?t.integrity:void 0,l="string"==typeof t.fetchPriority?t.fetchPriority:void 0;"style"===n?r.preinitStyle(e,"string"==typeof t.precedence?t.precedence:void 0,{crossOrigin:i,integrity:s,fetchPriority:l}):"script"===n&&r.preinitScript(e,{crossOrigin:i,integrity:s,fetchPriority:l,nonce:"string"==typeof t.nonce?t.nonce:void 0})}},t.preinitModule=function(e,t){var r=o.current;if(r&&"string"==typeof e){if("object"==typeof t&&null!==t){if(null==t.as||"script"===t.as){var n=a(t.as,t.crossOrigin);r.preinitModuleScript(e,{crossOrigin:n,integrity:"string"==typeof t.integrity?t.integrity:void 0,nonce:"string"==typeof t.nonce?t.nonce:void 0})}}else null==t&&r.preinitModuleScript(e)}},t.preload=function(e,t){var r=o.current;if(r&&"string"==typeof e&&"object"==typeof t&&null!==t&&"string"==typeof t.as){var n=t.as,i=a(n,t.crossOrigin);r.preload(e,n,{crossOrigin:i,integrity:"string"==typeof t.integrity?t.integrity:void 0,nonce:"string"==typeof t.nonce?t.nonce:void 0,type:"string"==typeof t.type?t.type:void 0,fetchPriority:"string"==typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"==typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"==typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"==typeof t.imageSizes?t.imageSizes:void 0})}},t.preloadModule=function(e,t){var r=o.current;if(r&&"string"==typeof e){if(t){var n=a(t.as,t.crossOrigin);r.preloadModule(e,{as:"string"==typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:n,integrity:"string"==typeof t.integrity?t.integrity:void 0})}else r.preloadModule(e)}},t.unstable_batchedUpdates=function(e,t){return e(t)},t.useFormState=c,t.useFormStatus=u,t.version="18.3.0-canary-178c267a4e-20241218"},1880:(e,t,r)=>{"use strict";var n=r(9220),i=r(8066),s=Symbol.for("react.element"),a=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),h=Symbol.for("react.consumer"),d=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.suspense_list"),m=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),v=Symbol.for("react.scope"),b=Symbol.for("react.debug_trace_mode"),w=Symbol.for("react.offscreen"),_=Symbol.for("react.legacy_hidden"),S=Symbol.for("react.cache"),E=Symbol.iterator,x=Array.isArray;function T(e,t){var r=3&e.length,n=e.length-r,i=t;for(t=0;t<n;){var s=255&e.charCodeAt(t)|(255&e.charCodeAt(++t))<<8|(255&e.charCodeAt(++t))<<16|(255&e.charCodeAt(++t))<<24;++t,i^=s=461845907*(65535&(s=(s=3432918353*(65535&s)+((3432918353*(s>>>16)&65535)<<16)&4294967295)<<15|s>>>17))+((461845907*(s>>>16)&65535)<<16)&4294967295,i=(65535&(i=5*(65535&(i=i<<13|i>>>19))+((5*(i>>>16)&65535)<<16)&4294967295))+27492+(((i>>>16)+58964&65535)<<16)}switch(s=0,r){case 3:s^=(255&e.charCodeAt(t+2))<<16;case 2:s^=(255&e.charCodeAt(t+1))<<8;case 1:s^=255&e.charCodeAt(t),i^=461845907*(65535&(s=(s=3432918353*(65535&s)+((3432918353*(s>>>16)&65535)<<16)&4294967295)<<15|s>>>17))+((461845907*(s>>>16)&65535)<<16)&4294967295}return i^=e.length,i^=i>>>16,i=2246822507*(65535&i)+((2246822507*(i>>>16)&65535)<<16)&4294967295,i^=i>>>13,((i=3266489909*(65535&i)+((3266489909*(i>>>16)&65535)<<16)&4294967295)^i>>>16)>>>0}var C=null,I=0;function R(e,t){if(0!==t.byteLength){if(2048<t.byteLength)0<I&&(e.enqueue(new Uint8Array(C.buffer,0,I)),C=new Uint8Array(2048),I=0),e.enqueue(t);else{var r=C.length-I;r<t.byteLength&&(0===r?e.enqueue(C):(C.set(t.subarray(0,r),I),e.enqueue(C),t=t.subarray(r)),C=new Uint8Array(2048),I=0),C.set(t,I),I+=t.byteLength}}}function k(e,t){return R(e,t),!0}function P(e){C&&0<I&&(e.enqueue(new Uint8Array(C.buffer,0,I)),C=null,I=0)}var O=new TextEncoder;function A(e){return O.encode(e)}function N(e){return O.encode(e)}function D(e,t){"function"==typeof e.error?e.error(t):e.close()}var M=Object.assign,L=Object.prototype.hasOwnProperty,j=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),$={},F={};function U(e){return!!L.call(F,e)||!L.call($,e)&&(j.test(e)?F[e]=!0:($[e]=!0,!1))}var V=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" ")),B=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),q=/["'&<>]/;function z(e){if("boolean"==typeof e||"number"==typeof e)return""+e;e=""+e;var t=q.exec(e);if(t){var r,n="",i=0;for(r=t.index;r<e.length;r++){switch(e.charCodeAt(r)){case 34:t="&quot;";break;case 38:t="&amp;";break;case 39:t="&#x27;";break;case 60:t="&lt;";break;case 62:t="&gt;";break;default:continue}i!==r&&(n+=e.slice(i,r)),i=r+1,n+=t}e=i!==r?n+e.slice(i,r):n}return e}var H=/([A-Z])/g,G=/^ms-/,W=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,K={pending:!1,data:null,method:null,action:null},J=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.Dispatcher,X={prefetchDNS:function(e){var t=n_();if(t){var r,n,i=t.resumableState,s=t.renderState;"string"==typeof e&&e&&(i.dnsResources.hasOwnProperty(e)||(i.dnsResources[e]=null,(n=(i=s.headers)&&0<i.remainingCapacity)&&(r="<"+(""+e).replace(ry,rv)+">; rel=dns-prefetch",n=2<=(i.remainingCapacity-=r.length)),n?(s.resets.dns[e]=null,i.preconnects&&(i.preconnects+=", "),i.preconnects+=r):(eU(r=[],{href:e,rel:"dns-prefetch"}),s.preconnects.add(r))),n2(t))}},preconnect:function(e,t){var r=n_();if(r){var n=r.resumableState,i=r.renderState;if("string"==typeof e&&e){var s,a,o="use-credentials"===t?"credentials":"string"==typeof t?"anonymous":"default";n.connectResources[o].hasOwnProperty(e)||(n.connectResources[o][e]=null,(a=(n=i.headers)&&0<n.remainingCapacity)&&(a="<"+(""+e).replace(ry,rv)+">; rel=preconnect","string"==typeof t&&(a+='; crossorigin="'+(""+t).replace(rb,rw)+'"'),s=a,a=2<=(n.remainingCapacity-=s.length)),a?(i.resets.connect[o][e]=null,n.preconnects&&(n.preconnects+=", "),n.preconnects+=s):(eU(o=[],{rel:"preconnect",href:e,crossOrigin:t}),i.preconnects.add(o))),n2(r)}}},preload:function(e,t,r){var n=n_();if(n){var i=n.resumableState,s=n.renderState;if(t&&e){switch(t){case"image":if(r)var a,o=r.imageSrcSet,l=r.imageSizes,u=r.fetchPriority;var c=o?o+"\n"+(l||""):e;if(i.imageResources.hasOwnProperty(c))return;i.imageResources[c]=Y,(i=s.headers)&&0<i.remainingCapacity&&"high"===u&&(a=rm(e,t,r),2<=(i.remainingCapacity-=a.length))?(s.resets.image[c]=Y,i.highImagePreloads&&(i.highImagePreloads+=", "),i.highImagePreloads+=a):(eU(i=[],M({rel:"preload",href:o?void 0:e,as:t},r)),"high"===u?s.highImagePreloads.add(i):(s.bulkPreloads.add(i),s.preloads.images.set(c,i)));break;case"style":if(i.styleResources.hasOwnProperty(e))return;eU(o=[],M({rel:"preload",href:e,as:t},r)),i.styleResources[e]=r&&("string"==typeof r.crossOrigin||"string"==typeof r.integrity)?[r.crossOrigin,r.integrity]:Y,s.preloads.stylesheets.set(e,o),s.bulkPreloads.add(o);break;case"script":if(i.scriptResources.hasOwnProperty(e))return;o=[],s.preloads.scripts.set(e,o),s.bulkPreloads.add(o),eU(o,M({rel:"preload",href:e,as:t},r)),i.scriptResources[e]=r&&("string"==typeof r.crossOrigin||"string"==typeof r.integrity)?[r.crossOrigin,r.integrity]:Y;break;default:if(i.unknownResources.hasOwnProperty(t)){if((o=i.unknownResources[t]).hasOwnProperty(e))return}else o={},i.unknownResources[t]=o;(o[e]=Y,(i=s.headers)&&0<i.remainingCapacity&&"font"===t&&(c=rm(e,t,r),2<=(i.remainingCapacity-=c.length)))?(s.resets.font[e]=Y,i.fontPreloads&&(i.fontPreloads+=", "),i.fontPreloads+=c):(eU(i=[],e=M({rel:"preload",href:e,as:t},r)),"font"===t)?s.fontPreloads.add(i):s.bulkPreloads.add(i)}n2(n)}}},preloadModule:function(e,t){var r=n_();if(r){var n=r.resumableState,i=r.renderState;if(e){var s=t&&"string"==typeof t.as?t.as:"script";if("script"===s){if(n.moduleScriptResources.hasOwnProperty(e))return;s=[],n.moduleScriptResources[e]=t&&("string"==typeof t.crossOrigin||"string"==typeof t.integrity)?[t.crossOrigin,t.integrity]:Y,i.preloads.moduleScripts.set(e,s)}else{if(n.moduleUnknownResources.hasOwnProperty(s)){var a=n.unknownResources[s];if(a.hasOwnProperty(e))return}else a={},n.moduleUnknownResources[s]=a;s=[],a[e]=Y}eU(s,M({rel:"modulepreload",href:e},t)),i.bulkPreloads.add(s),n2(r)}}},preinitStyle:function(e,t,r){var n=n_();if(n){var i=n.resumableState,s=n.renderState;if(e){t=t||"default";var a=s.styles.get(t),o=i.styleResources.hasOwnProperty(e)?i.styleResources[e]:void 0;null!==o&&(i.styleResources[e]=null,a||(a={precedence:A(z(t)),rules:[],hrefs:[],sheets:new Map},s.styles.set(t,a)),t={state:0,props:M({rel:"stylesheet",href:e,"data-precedence":t},r)},o&&(2===o.length&&rg(t.props,o),(s=s.preloads.stylesheets.get(e))&&0<s.length?s.length=0:t.state=1),a.sheets.set(e,t),n2(n))}}},preinitScript:function(e,t){var r=n_();if(r){var n=r.resumableState,i=r.renderState;if(e){var s=n.scriptResources.hasOwnProperty(e)?n.scriptResources[e]:void 0;null!==s&&(n.scriptResources[e]=null,t=M({src:e,async:!0},t),s&&(2===s.length&&rg(t,s),e=i.preloads.scripts.get(e))&&(e.length=0),e=[],i.scripts.add(e),eq(e,t),n2(r))}}},preinitModuleScript:function(e,t){var r=n_();if(r){var n=r.resumableState,i=r.renderState;if(e){var s=n.moduleScriptResources.hasOwnProperty(e)?n.moduleScriptResources[e]:void 0;null!==s&&(n.moduleScriptResources[e]=null,t=M({src:e,type:"module",async:!0},t),s&&(2===s.length&&rg(t,s),e=i.preloads.moduleScripts.get(e))&&(e.length=0),e=[],i.scripts.add(e),eq(e,t),n2(r))}}}},Y=[],Q=N('"></template>'),Z=N("<script>"),ee=N("</script>"),et=N('<script src="'),er=N('<script type="module" src="'),en=N('" nonce="'),ei=N('" integrity="'),es=N('" crossorigin="'),ea=N('" async=""></script>'),eo=/(<\/|<)(s)(cript)/gi;function el(e,t,r,n){return""+t+("s"===r?"\\u0073":"\\u0053")+n}var eu=N('<script type="importmap">'),ec=N("</script>");function eh(e,t,r){return{insertionMode:e,selectedValue:t,tagScope:r}}function ed(e,t,r){switch(t){case"noscript":return eh(2,null,1|e.tagScope);case"select":return eh(2,null!=r.value?r.value:r.defaultValue,e.tagScope);case"svg":return eh(3,null,e.tagScope);case"picture":return eh(2,null,2|e.tagScope);case"math":return eh(4,null,e.tagScope);case"foreignObject":return eh(2,null,e.tagScope);case"table":return eh(5,null,e.tagScope);case"thead":case"tbody":case"tfoot":return eh(6,null,e.tagScope);case"colgroup":return eh(8,null,e.tagScope);case"tr":return eh(7,null,e.tagScope)}return 5<=e.insertionMode?eh(2,null,e.tagScope):0===e.insertionMode?"html"===t?eh(1,null,e.tagScope):eh(2,null,e.tagScope):1===e.insertionMode?eh(2,null,e.tagScope):e}var ef=N("<!-- -->");function ep(e,t,r,n){return""===t?n:(n&&e.push(ef),e.push(A(z(t))),!0)}var eg=new Map,em=N(' style="'),ey=N(":"),ev=N(";");function eb(e,t){if("object"!=typeof t)throw Error("The `style` prop expects a mapping from style properties to values, not a string. For example, style={{marginRight: spacing + 'em'}} when using JSX.");var r,n=!0;for(r in t)if(L.call(t,r)){var i=t[r];if(null!=i&&"boolean"!=typeof i&&""!==i){if(0===r.indexOf("--")){var s=A(z(r));i=A(z((""+i).trim()))}else void 0===(s=eg.get(r))&&(s=N(z(r.replace(H,"-$1").toLowerCase().replace(G,"-ms-"))),eg.set(r,s)),i="number"==typeof i?0===i||V.has(r)?A(""+i):A(i+"px"):A(z((""+i).trim()));n?(n=!1,e.push(em,s,ey,i)):e.push(ev,s,ey,i)}}n||e.push(eS)}var ew=N(" "),e_=N('="'),eS=N('"'),eE=N('=""');function ex(e,t,r){r&&"function"!=typeof r&&"symbol"!=typeof r&&e.push(ew,A(t),eE)}function eT(e,t,r){"function"!=typeof r&&"symbol"!=typeof r&&"boolean"!=typeof r&&e.push(ew,A(t),e_,A(z(r)),eS)}function eC(e){var t=e.nextFormID++;return e.idPrefix+t}var eI=N(z("javascript:throw new Error('React form unexpectedly submitted.')")),eR=N('<input type="hidden"');function ek(e,t){if(this.push(eR),"string"!=typeof e)throw Error("File/Blob fields are not yet supported in progressive forms. It probably means you are closing over binary data or FormData in a Server Action.");eT(this,"name",t),eT(this,"value",e),this.push(eN)}function eP(e,t,r,n,i,s,a,o){var l=null;return"function"==typeof n&&("function"==typeof n.$$FORM_ACTION?(i=eC(t),o=(t=n.$$FORM_ACTION(i)).name,n=t.action||"",i=t.encType,s=t.method,a=t.target,l=t.data):(e.push(ew,A("formAction"),e_,eI,eS),a=s=i=n=o=null,ej(t,r))),null!=o&&eO(e,"name",o),null!=n&&eO(e,"formAction",n),null!=i&&eO(e,"formEncType",i),null!=s&&eO(e,"formMethod",s),null!=a&&eO(e,"formTarget",a),l}function eO(e,t,r){switch(t){case"className":eT(e,"class",r);break;case"tabIndex":eT(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":eT(e,t,r);break;case"style":eb(e,r);break;case"src":case"href":case"action":case"formAction":if(null==r||"function"==typeof r||"symbol"==typeof r||"boolean"==typeof r)break;r=""+r,e.push(ew,A(t),e_,A(z(r)),eS);break;case"defaultValue":case"defaultChecked":case"innerHTML":case"suppressContentEditableWarning":case"suppressHydrationWarning":case"ref":break;case"autoFocus":case"multiple":case"muted":ex(e,t.toLowerCase(),r);break;case"xlinkHref":if("function"==typeof r||"symbol"==typeof r||"boolean"==typeof r)break;r=""+r,e.push(ew,A("xlink:href"),e_,A(z(r)),eS);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":"function"!=typeof r&&"symbol"!=typeof r&&e.push(ew,A(t),e_,A(z(r)),eS);break;case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&"function"!=typeof r&&"symbol"!=typeof r&&e.push(ew,A(t),eE);break;case"capture":case"download":!0===r?e.push(ew,A(t),eE):!1!==r&&"function"!=typeof r&&"symbol"!=typeof r&&e.push(ew,A(t),e_,A(z(r)),eS);break;case"cols":case"rows":case"size":case"span":"function"!=typeof r&&"symbol"!=typeof r&&!isNaN(r)&&1<=r&&e.push(ew,A(t),e_,A(z(r)),eS);break;case"rowSpan":case"start":"function"==typeof r||"symbol"==typeof r||isNaN(r)||e.push(ew,A(t),e_,A(z(r)),eS);break;case"xlinkActuate":eT(e,"xlink:actuate",r);break;case"xlinkArcrole":eT(e,"xlink:arcrole",r);break;case"xlinkRole":eT(e,"xlink:role",r);break;case"xlinkShow":eT(e,"xlink:show",r);break;case"xlinkTitle":eT(e,"xlink:title",r);break;case"xlinkType":eT(e,"xlink:type",r);break;case"xmlBase":eT(e,"xml:base",r);break;case"xmlLang":eT(e,"xml:lang",r);break;case"xmlSpace":eT(e,"xml:space",r);break;default:if((!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&U(t=B.get(t)||t)){switch(typeof r){case"function":case"symbol":return;case"boolean":var n=t.toLowerCase().slice(0,5);if("data-"!==n&&"aria-"!==n)return}e.push(ew,A(t),e_,A(z(r)),eS)}}}var eA=N(">"),eN=N("/>");function eD(e,t,r){if(null!=t){if(null!=r)throw Error("Can only set one of `children` or `props.dangerouslySetInnerHTML`.");if("object"!=typeof t||!("__html"in t))throw Error("`props.dangerouslySetInnerHTML` must be in the form `{__html: ...}`. Please visit https://reactjs.org/link/dangerously-set-inner-html for more information.");null!=(t=t.__html)&&e.push(A(""+t))}}var eM=N(' selected=""'),eL=N('addEventListener("submit",function(a){if(!a.defaultPrevented){var c=a.target,d=a.submitter,e=c.action,b=d;if(d){var f=d.getAttribute("formAction");null!=f&&(e=f,b=null)}"javascript:throw new Error(\'React form unexpectedly submitted.\')"===e&&(a.preventDefault(),b?(a=document.createElement("input"),a.name=b.name,a.value=b.value,b.parentNode.insertBefore(a,b),b=new FormData(c),a.parentNode.removeChild(a)):b=new FormData(c),a=c.ownerDocument||c,(a.$$reactFormReplay=a.$$reactFormReplay||[]).push(c,d,b))}});');function ej(e,t){0!=(16&e.instructions)||t.externalRuntimeScript||(e.instructions|=16,t.bootstrapChunks.unshift(t.startInlineScript,eL,ee))}var e$=N("<!--F!-->"),eF=N("<!--F-->");function eU(e,t){for(var r in e.push(eK("link")),t)if(L.call(t,r)){var n=t[r];if(null!=n)switch(r){case"children":case"dangerouslySetInnerHTML":throw Error("link is a self-closing tag and must neither have `children` nor use `dangerouslySetInnerHTML`.");default:eO(e,r,n)}}return e.push(eN),null}function eV(e,t,r){for(var n in e.push(eK(r)),t)if(L.call(t,n)){var i=t[n];if(null!=i)switch(n){case"children":case"dangerouslySetInnerHTML":throw Error(r+" is a self-closing tag and must neither have `children` nor use `dangerouslySetInnerHTML`.");default:eO(e,n,i)}}return e.push(eN),null}function eB(e,t){e.push(eK("title"));var r,n=null,i=null;for(r in t)if(L.call(t,r)){var s=t[r];if(null!=s)switch(r){case"children":n=s;break;case"dangerouslySetInnerHTML":i=s;break;default:eO(e,r,s)}}return e.push(eA),"function"!=typeof(t=Array.isArray(n)?2>n.length?n[0]:null:n)&&"symbol"!=typeof t&&null!=t&&e.push(A(z(""+t))),eD(e,i,n),e.push(eY("title")),null}function eq(e,t){e.push(eK("script"));var r,n=null,i=null;for(r in t)if(L.call(t,r)){var s=t[r];if(null!=s)switch(r){case"children":n=s;break;case"dangerouslySetInnerHTML":i=s;break;default:eO(e,r,s)}}return e.push(eA),eD(e,i,n),"string"==typeof n&&e.push(A(z(n))),e.push(eY("script")),null}function ez(e,t,r){e.push(eK(r));var n,i=r=null;for(n in t)if(L.call(t,n)){var s=t[n];if(null!=s)switch(n){case"children":r=s;break;case"dangerouslySetInnerHTML":i=s;break;default:eO(e,n,s)}}return e.push(eA),eD(e,i,r),"string"==typeof r?(e.push(A(z(r))),null):r}var eH=N("\n"),eG=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,eW=new Map;function eK(e){var t=eW.get(e);if(void 0===t){if(!eG.test(e))throw Error("Invalid tag: "+e);t=N("<"+e),eW.set(e,t)}return t}var eJ=N("<!DOCTYPE html>"),eX=new Map;function eY(e){var t=eX.get(e);return void 0===t&&(t=N("</"+e+">"),eX.set(e,t)),t}function eQ(e,t){t=t.bootstrapChunks;for(var r=0;r<t.length-1;r++)R(e,t[r]);return!(r<t.length)||(r=t[r],t.length=0,k(e,r))}var eZ=N('<template id="'),e0=N('"></template>'),e1=N("<!--$-->"),e2=N('<!--$?--><template id="'),e4=N('"></template>'),e9=N("<!--$!-->"),e6=N("<!--/$-->"),e5=N("<template"),e3=N('"'),e8=N(' data-dgst="');N(' data-msg="'),N(' data-stck="');var e7=N("></template>");function te(e,t,r){if(R(e,e2),null===r)throw Error("An ID must have been assigned before we can complete the boundary.");return R(e,t.boundaryPrefix),R(e,A(r.toString(16))),k(e,e4)}var tt=N('<div hidden id="'),tr=N('">'),tn=N("</div>"),ti=N('<svg aria-hidden="true" style="display:none" id="'),ts=N('">'),ta=N("</svg>"),to=N('<math aria-hidden="true" style="display:none" id="'),tl=N('">'),tu=N("</math>"),tc=N('<table hidden id="'),th=N('">'),td=N("</table>"),tf=N('<table hidden><tbody id="'),tp=N('">'),tg=N("</tbody></table>"),tm=N('<table hidden><tr id="'),ty=N('">'),tv=N("</tr></table>"),tb=N('<table hidden><colgroup id="'),tw=N('">'),t_=N("</colgroup></table>"),tS=N('$RS=function(a,b){a=document.getElementById(a);b=document.getElementById(b);for(a.parentNode.removeChild(a);a.firstChild;)b.parentNode.insertBefore(a.firstChild,b);b.parentNode.removeChild(b)};$RS("'),tE=N('$RS("'),tx=N('","'),tT=N('")</script>'),tC=N('<template data-rsi="" data-sid="'),tI=N('" data-pid="'),tR=N('$RC=function(b,c,e){c=document.getElementById(c);c.parentNode.removeChild(c);var a=document.getElementById(b);if(a){b=a.previousSibling;if(e)b.data="$!",a.setAttribute("data-dgst",e);else{e=b.parentNode;a=b.nextSibling;var f=0;do{if(a&&8===a.nodeType){var d=a.data;if("/$"===d)if(0===f)break;else f--;else"$"!==d&&"$?"!==d&&"$!"!==d||f++}d=a.nextSibling;e.removeChild(a);a=d}while(a);for(;c.firstChild;)e.insertBefore(c.firstChild,a);b.data="$"}b._reactRetry&&b._reactRetry()}};$RC("'),tk=N('$RC("'),tP=N('$RC=function(b,c,e){c=document.getElementById(c);c.parentNode.removeChild(c);var a=document.getElementById(b);if(a){b=a.previousSibling;if(e)b.data="$!",a.setAttribute("data-dgst",e);else{e=b.parentNode;a=b.nextSibling;var f=0;do{if(a&&8===a.nodeType){var d=a.data;if("/$"===d)if(0===f)break;else f--;else"$"!==d&&"$?"!==d&&"$!"!==d||f++}d=a.nextSibling;e.removeChild(a);a=d}while(a);for(;c.firstChild;)e.insertBefore(c.firstChild,a);b.data="$"}b._reactRetry&&b._reactRetry()}};$RM=new Map;\n$RR=function(r,t,w){for(var u=$RC,n=$RM,p=new Map,q=document,g,b,h=q.querySelectorAll("link[data-precedence],style[data-precedence]"),v=[],k=0;b=h[k++];)"not all"===b.getAttribute("media")?v.push(b):("LINK"===b.tagName&&n.set(b.getAttribute("href"),b),p.set(b.dataset.precedence,g=b));b=0;h=[];var l,a;for(k=!0;;){if(k){var f=w[b++];if(!f){k=!1;b=0;continue}var c=!1,m=0;var d=f[m++];if(a=n.get(d)){var e=a._p;c=!0}else{a=q.createElement("link");a.href=d;a.rel="stylesheet";for(a.dataset.precedence=\nl=f[m++];e=f[m++];)a.setAttribute(e,f[m++]);e=a._p=new Promise(function(x,y){a.onload=x;a.onerror=y});n.set(d,a)}d=a.getAttribute("media");!e||"l"===e.s||d&&!matchMedia(d).matches||h.push(e);if(c)continue}else{a=v[b++];if(!a)break;l=a.getAttribute("data-precedence");a.removeAttribute("media")}c=p.get(l)||g;c===g&&(g=a);p.set(l,a);c?c.parentNode.insertBefore(a,c.nextSibling):(c=q.head,c.insertBefore(a,c.firstChild))}Promise.all(h).then(u.bind(null,r,t,""),u.bind(null,r,t,"Resource failed to load"))};$RR("'),tO=N('$RM=new Map;\n$RR=function(r,t,w){for(var u=$RC,n=$RM,p=new Map,q=document,g,b,h=q.querySelectorAll("link[data-precedence],style[data-precedence]"),v=[],k=0;b=h[k++];)"not all"===b.getAttribute("media")?v.push(b):("LINK"===b.tagName&&n.set(b.getAttribute("href"),b),p.set(b.dataset.precedence,g=b));b=0;h=[];var l,a;for(k=!0;;){if(k){var f=w[b++];if(!f){k=!1;b=0;continue}var c=!1,m=0;var d=f[m++];if(a=n.get(d)){var e=a._p;c=!0}else{a=q.createElement("link");a.href=d;a.rel="stylesheet";for(a.dataset.precedence=\nl=f[m++];e=f[m++];)a.setAttribute(e,f[m++]);e=a._p=new Promise(function(x,y){a.onload=x;a.onerror=y});n.set(d,a)}d=a.getAttribute("media");!e||"l"===e.s||d&&!matchMedia(d).matches||h.push(e);if(c)continue}else{a=v[b++];if(!a)break;l=a.getAttribute("data-precedence");a.removeAttribute("media")}c=p.get(l)||g;c===g&&(g=a);p.set(l,a);c?c.parentNode.insertBefore(a,c.nextSibling):(c=q.head,c.insertBefore(a,c.firstChild))}Promise.all(h).then(u.bind(null,r,t,""),u.bind(null,r,t,"Resource failed to load"))};$RR("'),tA=N('$RR("'),tN=N('","'),tD=N('",'),tM=N('"'),tL=N(")</script>"),tj=N('<template data-rci="" data-bid="'),t$=N('<template data-rri="" data-bid="'),tF=N('" data-sid="'),tU=N('" data-sty="'),tV=N('$RX=function(b,c,d,e){var a=document.getElementById(b);a&&(b=a.previousSibling,b.data="$!",a=a.dataset,c&&(a.dgst=c),d&&(a.msg=d),e&&(a.stck=e),b._reactRetry&&b._reactRetry())};;$RX("'),tB=N('$RX("'),tq=N('"'),tz=N(","),tH=N(")</script>"),tG=N('<template data-rxi="" data-bid="'),tW=N('" data-dgst="'),tK=N('" data-msg="'),tJ=N('" data-stck="'),tX=/[<\u2028\u2029]/g;function tY(e){return JSON.stringify(e).replace(tX,function(e){switch(e){case"<":return"\\u003c";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw Error("escapeJSStringsForInstructionScripts encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}})}var tQ=/[&><\u2028\u2029]/g;function tZ(e){return JSON.stringify(e).replace(tQ,function(e){switch(e){case"&":return"\\u0026";case">":return"\\u003e";case"<":return"\\u003c";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw Error("escapeJSObjectForInstructionScripts encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}})}var t0=N('<style media="not all" data-precedence="'),t1=N('" data-href="'),t2=N('">'),t4=N("</style>"),t9=!1,t6=!0;function t5(e){var t=e.rules,r=e.hrefs,n=0;if(r.length){for(R(this,t0),R(this,e.precedence),R(this,t1);n<r.length-1;n++)R(this,r[n]),R(this,ri);for(R(this,r[n]),R(this,t2),n=0;n<t.length;n++)R(this,t[n]);t6=k(this,t4),t9=!0,t.length=0,r.length=0}}function t3(e){return 2!==e.state&&(t9=!0)}function t8(e,t,r){return t9=!1,t6=!0,t.styles.forEach(t5,e),t.stylesheets.forEach(t3),t9&&(r.stylesToHoist=!0),t6}function t7(e){for(var t=0;t<e.length;t++)R(this,e[t]);e.length=0}var re=[];function rt(e){eU(re,e.props);for(var t=0;t<re.length;t++)R(this,re[t]);re.length=0,e.state=2}var rr=N('<style data-precedence="'),rn=N('" data-href="'),ri=N(" "),rs=N('">'),ra=N("</style>");function ro(e){var t=0<e.sheets.size;e.sheets.forEach(rt,this),e.sheets.clear();var r=e.rules,n=e.hrefs;if(!t||n.length){if(R(this,rr),R(this,e.precedence),e=0,n.length){for(R(this,rn);e<n.length-1;e++)R(this,n[e]),R(this,ri);R(this,n[e])}for(R(this,rs),e=0;e<r.length;e++)R(this,r[e]);R(this,ra),r.length=0,n.length=0}}function rl(e){if(0===e.state){e.state=1;var t=e.props;for(eU(re,{rel:"preload",as:"style",href:e.props.href,crossOrigin:t.crossOrigin,fetchPriority:t.fetchPriority,integrity:t.integrity,media:t.media,hrefLang:t.hrefLang,referrerPolicy:t.referrerPolicy}),e=0;e<re.length;e++)R(this,re[e]);re.length=0}}function ru(e){e.sheets.forEach(rl,this),e.sheets.clear()}var rc=N("["),rh=N(",["),rd=N(","),rf=N("]");function rp(){return{styles:new Set,stylesheets:new Set}}function rg(e,t){null==e.crossOrigin&&(e.crossOrigin=t[0]),null==e.integrity&&(e.integrity=t[1])}function rm(e,t,r){for(var n in t="<"+(e=(""+e).replace(ry,rv))+'>; rel=preload; as="'+(t=(""+t).replace(rb,rw))+'"',r)L.call(r,n)&&"string"==typeof(e=r[n])&&(t+="; "+n.toLowerCase()+'="'+(""+e).replace(rb,rw)+'"');return t}var ry=/[<>\r\n]/g;function rv(e){switch(e){case"<":return"%3C";case">":return"%3E";case"\n":return"%0A";case"\r":return"%0D";default:throw Error("escapeLinkHrefForHeaderContextReplacer encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}}var rb=/["';,\r\n]/g;function rw(e){switch(e){case'"':return"%22";case"'":return"%27";case";":return"%3B";case",":return"%2C";case"\n":return"%0A";case"\r":return"%0D";default:throw Error("escapeStringForLinkHeaderQuotedParamValueContextReplacer encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}}function r_(e){this.styles.add(e)}function rS(e){this.stylesheets.add(e)}var rE="function"==typeof AsyncLocalStorage,rx=rE?new AsyncLocalStorage:null,rT=Symbol.for("react.client.reference");function rC(e){if(null==e)return null;if("function"==typeof e)return e.$$typeof===rT?null:e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case o:return"Fragment";case a:return"Portal";case u:return"Profiler";case l:return"StrictMode";case p:return"Suspense";case g:return"SuspenseList";case S:return"Cache"}if("object"==typeof e)switch(e.$$typeof){case c:return(e._context.displayName||"Context")+".Provider";case d:return(e.displayName||"Context")+".Consumer";case f:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case m:return null!==(t=e.displayName||null)?t:rC(e.type)||"Memo";case y:t=e._payload,e=e._init;try{return rC(e(t))}catch(e){}}return null}var rI={};function rR(e,t){if(!(e=e.contextTypes))return rI;var r,n={};for(r in e)n[r]=t[r];return n}var rk=null;function rP(e,t){if(e!==t){e.context._currentValue=e.parentValue,e=e.parent;var r=t.parent;if(null===e){if(null!==r)throw Error("The stacks must reach the root at the same time. This is a bug in React.")}else{if(null===r)throw Error("The stacks must reach the root at the same time. This is a bug in React.");rP(e,r)}t.context._currentValue=t.value}}function rO(e){var t=rk;t!==e&&(null===t?function e(t){var r=t.parent;null!==r&&e(r),t.context._currentValue=t.value}(e):null===e?function e(t){t.context._currentValue=t.parentValue,null!==(t=t.parent)&&e(t)}(t):t.depth===e.depth?rP(t,e):t.depth>e.depth?function e(t,r){if(t.context._currentValue=t.parentValue,null===(t=t.parent))throw Error("The depth must equal at least at zero before reaching the root. This is a bug in React.");t.depth===r.depth?rP(t,r):e(t,r)}(t,e):function e(t,r){var n=r.parent;if(null===n)throw Error("The depth must equal at least at zero before reaching the root. This is a bug in React.");t.depth===n.depth?rP(t,n):e(t,n),r.context._currentValue=r.value}(t,e),rk=e)}var rA={isMounted:function(){return!1},enqueueSetState:function(e,t){null!==(e=e._reactInternals).queue&&e.queue.push(t)},enqueueReplaceState:function(e,t){(e=e._reactInternals).replace=!0,e.queue=[t]},enqueueForceUpdate:function(){}};function rN(e,t,r,n){var i=void 0!==e.state?e.state:null;e.updater=rA,e.props=r,e.state=i;var s={queue:[],replace:!1};e._reactInternals=s;var a=t.contextType;if(e.context="object"==typeof a&&null!==a?a._currentValue:n,"function"==typeof(a=t.getDerivedStateFromProps)&&(i=null==(a=a(r,i))?i:M({},i,a),e.state=i),"function"!=typeof t.getDerivedStateFromProps&&"function"!=typeof e.getSnapshotBeforeUpdate&&("function"==typeof e.UNSAFE_componentWillMount||"function"==typeof e.componentWillMount)){if(t=e.state,"function"==typeof e.componentWillMount&&e.componentWillMount(),"function"==typeof e.UNSAFE_componentWillMount&&e.UNSAFE_componentWillMount(),t!==e.state&&rA.enqueueReplaceState(e,e.state,null),null!==s.queue&&0<s.queue.length){if(t=s.queue,a=s.replace,s.queue=null,s.replace=!1,a&&1===t.length)e.state=t[0];else{for(s=a?t[0]:e.state,i=!0,a=a?1:0;a<t.length;a++){var o=t[a];null!=(o="function"==typeof o?o.call(e,s,r,n):o)&&(i?(i=!1,s=M({},s,o)):M(s,o))}e.state=s}}else s.queue=null}}var rD={id:1,overflow:""};function rM(e,t,r){var n=e.id;e=e.overflow;var i=32-rL(n)-1;n&=~(1<<i),r+=1;var s=32-rL(t)+i;if(30<s){var a=i-i%5;return s=(n&(1<<a)-1).toString(32),n>>=a,i-=a,{id:1<<32-rL(t)+i|r<<i|n,overflow:s+e}}return{id:1<<s|r<<i|n,overflow:e}}var rL=Math.clz32?Math.clz32:function(e){return 0==(e>>>=0)?32:31-(rj(e)/r$|0)|0},rj=Math.log,r$=Math.LN2,rF=Error("Suspense Exception: This is not a real error! It's an implementation detail of `use` to interrupt the current render. You must either rethrow it immediately, or move the `use` call outside of the `try/catch` block. Capturing without rethrowing will lead to unexpected behavior.\n\nTo handle async errors, wrap your component in an error boundary, or call the promise's `.catch` method and pass the result to `use`");function rU(){}var rV=null;function rB(){if(null===rV)throw Error("Expected a suspended thenable. This is a bug in React. Please file an issue.");var e=rV;return rV=null,e}var rq="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},rz=null,rH=null,rG=null,rW=null,rK=null,rJ=null,rX=!1,rY=!1,rQ=0,rZ=0,r0=-1,r1=0,r2=null,r4=null,r9=0;function r6(){if(null===rz)throw Error("Invalid hook call. Hooks can only be called inside of the body of a function component. This could happen for one of the following reasons:\n1. You might have mismatching versions of React and the renderer (such as React DOM)\n2. You might be breaking the Rules of Hooks\n3. You might have more than one copy of React in the same app\nSee https://reactjs.org/link/invalid-hook-call for tips about how to debug and fix this problem.");return rz}function r5(){if(0<r9)throw Error("Rendered more hooks than during the previous render");return{memoizedState:null,queue:null,next:null}}function r3(){return null===rJ?null===rK?(rX=!1,rK=rJ=r5()):(rX=!0,rJ=rK):null===rJ.next?(rX=!1,rJ=rJ.next=r5()):(rX=!0,rJ=rJ.next),rJ}function r8(){var e=r2;return r2=null,e}function r7(){rW=rG=rH=rz=null,rY=!1,rK=null,r9=0,rJ=r4=null}function ne(e,t){return"function"==typeof t?t(e):t}function nt(e,t,r){if(rz=r6(),rJ=r3(),rX){var n=rJ.queue;if(t=n.dispatch,null!==r4&&void 0!==(r=r4.get(n))){r4.delete(n),n=rJ.memoizedState;do n=e(n,r.action),r=r.next;while(null!==r);return rJ.memoizedState=n,[n,t]}return[rJ.memoizedState,t]}return e=e===ne?"function"==typeof t?t():t:void 0!==r?r(t):t,rJ.memoizedState=e,e=(e=rJ.queue={last:null,dispatch:null}).dispatch=nn.bind(null,rz,e),[rJ.memoizedState,e]}function nr(e,t){if(rz=r6(),rJ=r3(),t=void 0===t?null:t,null!==rJ){var r=rJ.memoizedState;if(null!==r&&null!==t){var n=r[1];e:if(null===n)n=!1;else{for(var i=0;i<n.length&&i<t.length;i++)if(!rq(t[i],n[i])){n=!1;break e}n=!0}if(n)return r[0]}}return e=e(),rJ.memoizedState=[e,t],e}function nn(e,t,r){if(25<=r9)throw Error("Too many re-renders. React limits the number of renders to prevent an infinite loop.");if(e===rz){if(rY=!0,e={action:r,next:null},null===r4&&(r4=new Map),void 0===(r=r4.get(t)))r4.set(t,e);else{for(t=r;null!==t.next;)t=t.next;t.next=e}}}function ni(){throw Error("startTransition cannot be called during server rendering.")}function ns(){throw Error("Cannot update optimistic state while rendering.")}function na(e){var t=r1;return r1+=1,null===r2&&(r2=[]),function(e,t,r){switch(void 0===(r=e[r])?e.push(t):r!==t&&(t.then(rU,rU),t=r),t.status){case"fulfilled":return t.value;case"rejected":throw t.reason;default:if("string"!=typeof t.status)switch((e=t).status="pending",e.then(function(e){if("pending"===t.status){var r=t;r.status="fulfilled",r.value=e}},function(e){if("pending"===t.status){var r=t;r.status="rejected",r.reason=e}}),t.status){case"fulfilled":return t.value;case"rejected":throw t.reason}throw rV=t,rF}}(r2,e,t)}function no(){throw Error("Cache cannot be refreshed during server rendering.")}function nl(){}var nu,nc={readContext:function(e){return e._currentValue},use:function(e){if(null!==e&&"object"==typeof e){if("function"==typeof e.then)return na(e);if(e.$$typeof===d)return e._currentValue}throw Error("An unsupported type was passed to use(): "+String(e))},useContext:function(e){return r6(),e._currentValue},useMemo:nr,useReducer:nt,useRef:function(e){rz=r6();var t=(rJ=r3()).memoizedState;return null===t?(e={current:e},rJ.memoizedState=e):t},useState:function(e){return nt(ne,e)},useInsertionEffect:nl,useLayoutEffect:nl,useCallback:function(e,t){return nr(function(){return e},t)},useImperativeHandle:nl,useEffect:nl,useDebugValue:nl,useDeferredValue:function(e){return r6(),e},useTransition:function(){return r6(),[!1,ni]},useId:function(){var e=rH.treeContext,t=e.overflow;e=((e=e.id)&~(1<<32-rL(e)-1)).toString(32)+t;var r=nh;if(null===r)throw Error("Invalid hook call. Hooks can only be called inside of the body of a function component.");return t=rQ++,e=":"+r.idPrefix+"R"+e,0<t&&(e+="H"+t.toString(32)),e+":"},useSyncExternalStore:function(e,t,r){if(void 0===r)throw Error("Missing getServerSnapshot, which is required for server-rendered content. Will revert to client rendering.");return r()},useCacheRefresh:function(){return no},useHostTransitionStatus:function(){return r6(),K},useOptimistic:function(e){return r6(),[e,ns]},useFormState:function(e,t,r){r6();var n=rZ++,i=rG;if("function"==typeof e.$$FORM_ACTION){var s=null,a=rW;i=i.formState;var o=e.$$IS_SIGNATURE_EQUAL;if(null!==i&&"function"==typeof o){var l=i[1];o.call(e,i[2],i[3])&&l===(s=void 0!==r?"p"+r:"k"+T(JSON.stringify([a,null,n]),0))&&(r0=n,t=i[0])}var u=e.bind(null,t);return e=function(e){u(e)},"function"==typeof u.$$FORM_ACTION&&(e.$$FORM_ACTION=function(e){e=u.$$FORM_ACTION(e),void 0!==r&&(r+="",e.action=r);var t=e.data;return t&&(null===s&&(s=void 0!==r?"p"+r:"k"+T(JSON.stringify([a,null,n]),0)),t.append("$ACTION_KEY",s)),e}),[t,e]}var c=e.bind(null,t);return[t,function(e){c(e)}]}},nh=null,nd={getCacheSignal:function(){throw Error("Not implemented.")},getCacheForType:function(){throw Error("Not implemented.")}};function nf(e){if(void 0===nu)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);nu=t&&t[1]||""}return"\n"+nu+e}var np=!1;function ng(e,t){if(!e||np)return"";np=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;var n={DetermineComponentFrameRoot:function(){try{if(t){var r=function(){throw Error()};if(Object.defineProperty(r.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(r,[])}catch(e){var n=e}Reflect.construct(e,[],r)}else{try{r.call()}catch(e){n=e}e.call(r.prototype)}}else{try{throw Error()}catch(e){n=e}(r=e())&&"function"==typeof r.catch&&r.catch(function(){})}}catch(e){if(e&&n&&"string"==typeof e.stack)return[e.stack,n.stack]}return[null,null]}};n.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(n.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(n.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});try{var s=n.DetermineComponentFrameRoot(),a=s[0],o=s[1];if(a&&o){var l=a.split("\n"),u=o.split("\n");for(i=n=0;n<l.length&&!l[n].includes("DetermineComponentFrameRoot");)n++;for(;i<u.length&&!u[i].includes("DetermineComponentFrameRoot");)i++;if(n===l.length||i===u.length)for(n=l.length-1,i=u.length-1;1<=n&&0<=i&&l[n]!==u[i];)i--;for(;1<=n&&0<=i;n--,i--)if(l[n]!==u[i]){if(1!==n||1!==i)do if(n--,i--,0>i||l[n]!==u[i]){var c="\n"+l[n].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=n&&0<=i);break}}}finally{np=!1,Error.prepareStackTrace=r}return(r=e?e.displayName||e.name:"")?nf(r):""}var nm=W.ReactCurrentDispatcher,ny=W.ReactCurrentCache;function nv(e){return console.error(e),null}function nb(){}var nw=null;function n_(){if(nw)return nw;if(rE){var e=rx.getStore();if(e)return e}return null}function nS(e,t){e.pingedTasks.push(t),1===e.pingedTasks.length&&(e.flushScheduled=null!==e.destination,setTimeout(function(){return nK(e)},0))}function nE(e,t){return{status:0,rootSegmentID:-1,parentFlushed:!1,pendingTasks:0,completedSegments:[],byteSize:0,fallbackAbortableTasks:t,errorDigest:null,contentState:rp(),fallbackState:rp(),trackedContentKeyPath:null,trackedFallbackNode:null}}function nx(e,t,r,n,i,s,a,o,l,u,c,h,d,f,p){e.allPendingTasks++,null===i?e.pendingRootTasks++:i.pendingTasks++;var g={replay:null,node:r,childIndex:n,ping:function(){return nS(e,g)},blockedBoundary:i,blockedSegment:s,hoistableState:a,abortSet:o,keyPath:l,formatContext:u,legacyContext:c,context:h,treeContext:d,componentStack:f,thenableState:t,isFallback:p};return o.add(g),g}function nT(e,t,r,n,i,s,a,o,l,u,c,h,d,f,p){e.allPendingTasks++,null===s?e.pendingRootTasks++:s.pendingTasks++,r.pendingTasks++;var g={replay:r,node:n,childIndex:i,ping:function(){return nS(e,g)},blockedBoundary:s,blockedSegment:null,hoistableState:a,abortSet:o,keyPath:l,formatContext:u,legacyContext:c,context:h,treeContext:d,componentStack:f,thenableState:t,isFallback:p};return o.add(g),g}function nC(e,t,r,n,i,s){return{status:0,id:-1,index:t,parentFlushed:!1,chunks:[],children:[],parentFormatContext:n,boundary:r,lastPushedText:i,textEmbedded:s}}function nI(e,t){return{tag:0,parent:e.componentStack,type:t}}function nR(e,t){if(t&&null!==e.trackedPostpones){try{e="";do{switch(t.tag){case 0:e+=nf(t.type,null);break;case 1:e+=ng(t.type,!1);break;case 2:e+=ng(t.type,!0)}t=t.parent}while(t);var r=e}catch(e){r="\nError generating stack: "+e.message+"\n"+e.stack}r={componentStack:r}}else r={};return r}function nk(e,t,r){if(null==(e=e.onError(t,r))||"string"==typeof e)return e}function nP(e,t){var r=e.onShellError;r(t),(r=e.onFatalError)(t),null!==e.destination?(e.status=2,D(e.destination,t)):(e.status=1,e.fatalError=t)}function nO(e,t,r,n,i,s){var a=t.thenableState;for(t.thenableState=null,rz={},rH=t,rG=e,rW=r,rZ=rQ=0,r0=-1,r1=0,r2=a,e=n(i,s);rY;)rY=!1,rZ=rQ=0,r0=-1,r1=0,r9+=1,rJ=null,e=n(i,s);return r7(),e}function nA(e,t,r,n,i){var s=n.render(),a=i.childContextTypes;if(null!=a){if(r=t.legacyContext,"function"!=typeof n.getChildContext)i=r;else{for(var o in n=n.getChildContext())if(!(o in a))throw Error((rC(i)||"Unknown")+'.getChildContext(): key "'+o+'" is not defined in childContextTypes.');i=M({},r,n)}t.legacyContext=i,nj(e,t,s,-1),t.legacyContext=r}else i=t.keyPath,t.keyPath=r,nj(e,t,s,-1),t.keyPath=i}function nN(e,t,r,n,i,s,a){var o=!1;if(0!==s&&null!==e.formState){var l=t.blockedSegment;if(null!==l){o=!0,l=l.chunks;for(var u=0;u<s;u++)u===a?l.push(e$):l.push(eF)}}s=t.keyPath,t.keyPath=r,i?(r=t.treeContext,t.treeContext=rM(r,1,0),nU(e,t,n,-1),t.treeContext=r):o?nU(e,t,n,-1):nj(e,t,n,-1),t.keyPath=s}function nD(e,t){if(e&&e.defaultProps)for(var r in t=M({},t),e=e.defaultProps)void 0===t[r]&&(t[r]=e[r]);return t}function nM(e,t,r,i,s,a){if("function"==typeof i){if(i.prototype&&i.prototype.isReactComponent){a=t.componentStack,t.componentStack={tag:2,parent:t.componentStack,type:i};var S=rR(i,t.legacyContext),E=i.contextType;rN(E=new i(s,"object"==typeof E&&null!==E?E._currentValue:S),i,s,S),nA(e,t,r,E,i),t.componentStack=a}else{a=rR(i,t.legacyContext),S=t.componentStack,t.componentStack={tag:1,parent:t.componentStack,type:i},E=nO(e,t,r,i,s,a);var T=0!==rQ,C=rZ,I=r0;"object"==typeof E&&null!==E&&"function"==typeof E.render&&void 0===E.$$typeof?(rN(E,i,s,a),nA(e,t,r,E,i)):nN(e,t,r,E,T,C,I),t.componentStack=S}}else if("string"==typeof i){if(a=t.componentStack,t.componentStack=nI(t,i),null===(S=t.blockedSegment))S=s.children,E=t.formatContext,T=t.keyPath,t.formatContext=ed(E,i,s),t.keyPath=r,nU(e,t,S,-1),t.formatContext=E,t.keyPath=T;else{T=function(e,t,r,i,s,a,o,l,u){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":break;case"select":e.push(eK("select"));var c,h=null,d=null;for(c in r)if(L.call(r,c)){var f=r[c];if(null!=f)switch(c){case"children":h=f;break;case"dangerouslySetInnerHTML":d=f;break;case"defaultValue":case"value":break;default:eO(e,c,f)}}return e.push(eA),eD(e,d,h),h;case"option":var p=o.selectedValue;e.push(eK("option"));var g,m=null,y=null,v=null,b=null;for(g in r)if(L.call(r,g)){var w=r[g];if(null!=w)switch(g){case"children":m=w;break;case"selected":v=w;break;case"dangerouslySetInnerHTML":b=w;break;case"value":y=w;default:eO(e,g,w)}}if(null!=p){var _,S,E=null!==y?""+y:(_=m,S="",n.Children.forEach(_,function(e){null!=e&&(S+=e)}),S);if(x(p)){for(var T=0;T<p.length;T++)if(""+p[T]===E){e.push(eM);break}}else""+p===E&&e.push(eM)}else v&&e.push(eM);return e.push(eA),eD(e,b,m),m;case"textarea":e.push(eK("textarea"));var C,I=null,R=null,k=null;for(C in r)if(L.call(r,C)){var P=r[C];if(null!=P)switch(C){case"children":k=P;break;case"value":I=P;break;case"defaultValue":R=P;break;case"dangerouslySetInnerHTML":throw Error("`dangerouslySetInnerHTML` does not make sense on <textarea>.");default:eO(e,C,P)}}if(null===I&&null!==R&&(I=R),e.push(eA),null!=k){if(null!=I)throw Error("If you supply `defaultValue` on a <textarea>, do not pass children.");if(x(k)){if(1<k.length)throw Error("<textarea> can only have at most one child.");I=""+k[0]}I=""+k}return"string"==typeof I&&"\n"===I[0]&&e.push(eH),null!==I&&e.push(A(z(""+I))),null;case"input":e.push(eK("input"));var O,N=null,D=null,j=null,$=null,F=null,V=null,B=null,q=null,H=null;for(O in r)if(L.call(r,O)){var G=r[O];if(null!=G)switch(O){case"children":case"dangerouslySetInnerHTML":throw Error("input is a self-closing tag and must neither have `children` nor use `dangerouslySetInnerHTML`.");case"name":N=G;break;case"formAction":D=G;break;case"formEncType":j=G;break;case"formMethod":$=G;break;case"formTarget":F=G;break;case"defaultChecked":H=G;break;case"defaultValue":B=G;break;case"checked":q=G;break;case"value":V=G;break;default:eO(e,O,G)}}var W=eP(e,i,s,D,j,$,F,N);return null!==q?ex(e,"checked",q):null!==H&&ex(e,"checked",H),null!==V?eO(e,"value",V):null!==B&&eO(e,"value",B),e.push(eN),null!==W&&W.forEach(ek,e),null;case"button":e.push(eK("button"));var K,J=null,X=null,Q=null,Z=null,ee=null,et=null,er=null;for(K in r)if(L.call(r,K)){var en=r[K];if(null!=en)switch(K){case"children":J=en;break;case"dangerouslySetInnerHTML":X=en;break;case"name":Q=en;break;case"formAction":Z=en;break;case"formEncType":ee=en;break;case"formMethod":et=en;break;case"formTarget":er=en;break;default:eO(e,K,en)}}var ei=eP(e,i,s,Z,ee,et,er,Q);if(e.push(eA),null!==ei&&ei.forEach(ek,e),eD(e,X,J),"string"==typeof J){e.push(A(z(J)));var es=null}else es=J;return es;case"form":e.push(eK("form"));var ea,eo=null,el=null,eu=null,ec=null,eh=null,ed=null;for(ea in r)if(L.call(r,ea)){var ep=r[ea];if(null!=ep)switch(ea){case"children":eo=ep;break;case"dangerouslySetInnerHTML":el=ep;break;case"action":eu=ep;break;case"encType":ec=ep;break;case"method":eh=ep;break;case"target":ed=ep;break;default:eO(e,ea,ep)}}var eg=null,em=null;if("function"==typeof eu){if("function"==typeof eu.$$FORM_ACTION){var ey=eC(i),ev=eu.$$FORM_ACTION(ey);eu=ev.action||"",ec=ev.encType,eh=ev.method,ed=ev.target,eg=ev.data,em=ev.name}else e.push(ew,A("action"),e_,eI,eS),ed=eh=ec=eu=null,ej(i,s)}if(null!=eu&&eO(e,"action",eu),null!=ec&&eO(e,"encType",ec),null!=eh&&eO(e,"method",eh),null!=ed&&eO(e,"target",ed),e.push(eA),null!==em&&(e.push(eR),eT(e,"name",em),e.push(eN),null!==eg&&eg.forEach(ek,e)),eD(e,el,eo),"string"==typeof eo){e.push(A(z(eo)));var eE=null}else eE=eo;return eE;case"menuitem":for(var eL in e.push(eK("menuitem")),r)if(L.call(r,eL)){var e$=r[eL];if(null!=e$)switch(eL){case"children":case"dangerouslySetInnerHTML":throw Error("menuitems cannot have `children` nor `dangerouslySetInnerHTML`.");default:eO(e,eL,e$)}}return e.push(eA),null;case"title":if(3===o.insertionMode||1&o.tagScope||null!=r.itemProp)var eF=eB(e,r);else u?eF=null:(eB(s.hoistableChunks,r),eF=void 0);return eF;case"link":var eG=r.rel,eW=r.href,eX=r.precedence;if(3===o.insertionMode||1&o.tagScope||null!=r.itemProp||"string"!=typeof eG||"string"!=typeof eW||""===eW){eU(e,r);var eQ=null}else if("stylesheet"===r.rel){if("string"!=typeof eX||null!=r.disabled||r.onLoad||r.onError)eQ=eU(e,r);else{var eZ=s.styles.get(eX),e0=i.styleResources.hasOwnProperty(eW)?i.styleResources[eW]:void 0;if(null!==e0){i.styleResources[eW]=null,eZ||(eZ={precedence:A(z(eX)),rules:[],hrefs:[],sheets:new Map},s.styles.set(eX,eZ));var e1={state:0,props:M({},r,{"data-precedence":r.precedence,precedence:null})};if(e0){2===e0.length&&rg(e1.props,e0);var e2=s.preloads.stylesheets.get(eW);e2&&0<e2.length?e2.length=0:e1.state=1}eZ.sheets.set(eW,e1),a&&a.stylesheets.add(e1)}else if(eZ){var e4=eZ.sheets.get(eW);e4&&a&&a.stylesheets.add(e4)}l&&e.push(ef),eQ=null}}else r.onLoad||r.onError?eQ=eU(e,r):(l&&e.push(ef),eQ=u?null:eU(s.hoistableChunks,r));return eQ;case"script":var e9=r.async;if("string"!=typeof r.src||!r.src||!e9||"function"==typeof e9||"symbol"==typeof e9||r.onLoad||r.onError||3===o.insertionMode||1&o.tagScope||null!=r.itemProp)var e6=eq(e,r);else{var e5=r.src;if("module"===r.type)var e3=i.moduleScriptResources,e8=s.preloads.moduleScripts;else e3=i.scriptResources,e8=s.preloads.scripts;var e7=e3.hasOwnProperty(e5)?e3[e5]:void 0;if(null!==e7){e3[e5]=null;var te=r;if(e7){2===e7.length&&rg(te=M({},r),e7);var tt=e8.get(e5);tt&&(tt.length=0)}var tr=[];s.scripts.add(tr),eq(tr,te)}l&&e.push(ef),e6=null}return e6;case"style":var tn=r.precedence,ti=r.href;if(3===o.insertionMode||1&o.tagScope||null!=r.itemProp||"string"!=typeof tn||"string"!=typeof ti||""===ti){e.push(eK("style"));var ts,ta=null,to=null;for(ts in r)if(L.call(r,ts)){var tl=r[ts];if(null!=tl)switch(ts){case"children":ta=tl;break;case"dangerouslySetInnerHTML":to=tl;break;default:eO(e,ts,tl)}}e.push(eA);var tu=Array.isArray(ta)?2>ta.length?ta[0]:null:ta;"function"!=typeof tu&&"symbol"!=typeof tu&&null!=tu&&e.push(A(z(""+tu))),eD(e,to,ta),e.push(eY("style"));var tc=null}else{var th=s.styles.get(tn);if(null!==(i.styleResources.hasOwnProperty(ti)?i.styleResources[ti]:void 0)){i.styleResources[ti]=null,th?th.hrefs.push(A(z(ti))):(th={precedence:A(z(tn)),rules:[],hrefs:[A(z(ti))],sheets:new Map},s.styles.set(tn,th));var td,tf=th.rules,tp=null,tg=null;for(td in r)if(L.call(r,td)){var tm=r[td];if(null!=tm)switch(td){case"children":tp=tm;break;case"dangerouslySetInnerHTML":tg=tm}}var ty=Array.isArray(tp)?2>tp.length?tp[0]:null:tp;"function"!=typeof ty&&"symbol"!=typeof ty&&null!=ty&&tf.push(A(z(""+ty))),eD(tf,tg,tp)}th&&a&&a.styles.add(th),l&&e.push(ef),tc=void 0}return tc;case"meta":if(3===o.insertionMode||1&o.tagScope||null!=r.itemProp)var tv=eV(e,r,"meta");else l&&e.push(ef),tv=u?null:"string"==typeof r.charSet?eV(s.charsetChunks,r,"meta"):"viewport"===r.name?eV(s.viewportChunks,r,"meta"):eV(s.hoistableChunks,r,"meta");return tv;case"listing":case"pre":e.push(eK(t));var tb,tw=null,t_=null;for(tb in r)if(L.call(r,tb)){var tS=r[tb];if(null!=tS)switch(tb){case"children":tw=tS;break;case"dangerouslySetInnerHTML":t_=tS;break;default:eO(e,tb,tS)}}if(e.push(eA),null!=t_){if(null!=tw)throw Error("Can only set one of `children` or `props.dangerouslySetInnerHTML`.");if("object"!=typeof t_||!("__html"in t_))throw Error("`props.dangerouslySetInnerHTML` must be in the form `{__html: ...}`. Please visit https://reactjs.org/link/dangerously-set-inner-html for more information.");var tE=t_.__html;null!=tE&&("string"==typeof tE&&0<tE.length&&"\n"===tE[0]?e.push(eH,A(tE)):e.push(A(""+tE)))}return"string"==typeof tw&&"\n"===tw[0]&&e.push(eH),tw;case"img":var tx=r.src,tT=r.srcSet;if(!("lazy"===r.loading||!tx&&!tT||"string"!=typeof tx&&null!=tx||"string"!=typeof tT&&null!=tT)&&"low"!==r.fetchPriority&&!1==!!(2&o.tagScope)&&("string"!=typeof tx||":"!==tx[4]||"d"!==tx[0]&&"D"!==tx[0]||"a"!==tx[1]&&"A"!==tx[1]||"t"!==tx[2]&&"T"!==tx[2]||"a"!==tx[3]&&"A"!==tx[3])&&("string"!=typeof tT||":"!==tT[4]||"d"!==tT[0]&&"D"!==tT[0]||"a"!==tT[1]&&"A"!==tT[1]||"t"!==tT[2]&&"T"!==tT[2]||"a"!==tT[3]&&"A"!==tT[3])){var tC="string"==typeof r.sizes?r.sizes:void 0,tI=tT?tT+"\n"+(tC||""):tx,tR=s.preloads.images,tk=tR.get(tI);if(tk)("high"===r.fetchPriority||10>s.highImagePreloads.size)&&(tR.delete(tI),s.highImagePreloads.add(tk));else if(!i.imageResources.hasOwnProperty(tI)){i.imageResources[tI]=Y;var tP,tO=r.crossOrigin,tA="string"==typeof tO?"use-credentials"===tO?tO:"":void 0,tN=s.headers;tN&&0<tN.remainingCapacity&&("high"===r.fetchPriority||500>tN.highImagePreloads.length)&&(tP=rm(tx,"image",{imageSrcSet:r.srcSet,imageSizes:r.sizes,crossOrigin:tA,integrity:r.integrity,nonce:r.nonce,type:r.type,fetchPriority:r.fetchPriority,referrerPolicy:r.refererPolicy}),2<=(tN.remainingCapacity-=tP.length))?(s.resets.image[tI]=Y,tN.highImagePreloads&&(tN.highImagePreloads+=", "),tN.highImagePreloads+=tP):(eU(tk=[],{rel:"preload",as:"image",href:tT?void 0:tx,imageSrcSet:tT,imageSizes:tC,crossOrigin:tA,integrity:r.integrity,type:r.type,fetchPriority:r.fetchPriority,referrerPolicy:r.referrerPolicy}),"high"===r.fetchPriority||10>s.highImagePreloads.size?s.highImagePreloads.add(tk):(s.bulkPreloads.add(tk),tR.set(tI,tk)))}}return eV(e,r,"img");case"base":case"area":case"br":case"col":case"embed":case"hr":case"keygen":case"param":case"source":case"track":case"wbr":return eV(e,r,t);case"head":if(2>o.insertionMode&&null===s.headChunks){s.headChunks=[];var tD=ez(s.headChunks,r,"head")}else tD=ez(e,r,"head");return tD;case"html":if(0===o.insertionMode&&null===s.htmlChunks){s.htmlChunks=[eJ];var tM=ez(s.htmlChunks,r,"html")}else tM=ez(e,r,"html");return tM;default:if(-1!==t.indexOf("-")){e.push(eK(t));var tL,tj=null,t$=null;for(tL in r)if(L.call(r,tL)){var tF=r[tL];if(null!=tF)switch(tL){case"children":tj=tF;break;case"dangerouslySetInnerHTML":t$=tF;break;case"style":eb(e,tF);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"ref":break;default:U(tL)&&"function"!=typeof tF&&"symbol"!=typeof tF&&e.push(ew,A(tL),e_,A(z(tF)),eS)}}return e.push(eA),eD(e,t$,tj),tj}}return ez(e,r,t)}(S.chunks,i,s,e.resumableState,e.renderState,t.hoistableState,t.formatContext,S.lastPushedText,t.isFallback),S.lastPushedText=!1,E=t.formatContext,C=t.keyPath,t.formatContext=ed(E,i,s),t.keyPath=r,nU(e,t,T,-1),t.formatContext=E,t.keyPath=C;e:{switch(r=S.chunks,e=e.resumableState,i){case"title":case"style":case"script":case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"input":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":break e;case"body":if(1>=E.insertionMode){e.hasBody=!0;break e}break;case"html":if(0===E.insertionMode){e.hasHtml=!0;break e}}r.push(eY(i))}S.lastPushedText=!1}t.componentStack=a}else{switch(i){case _:case b:case l:case u:case o:i=t.keyPath,t.keyPath=r,nj(e,t,s.children,-1),t.keyPath=i;return;case w:"hidden"!==s.mode&&(i=t.keyPath,t.keyPath=r,nj(e,t,s.children,-1),t.keyPath=i);return;case g:i=t.componentStack,t.componentStack=nI(t,"SuspenseList"),a=t.keyPath,t.keyPath=r,nj(e,t,s.children,-1),t.keyPath=a,t.componentStack=i;return;case v:throw Error("ReactDOMServer does not yet support scope components.");case p:e:if(null!==t.replay){i=t.keyPath,t.keyPath=r,r=s.children;try{nU(e,t,r,-1)}finally{t.keyPath=i}}else{var R=t.componentStack;i=t.componentStack=nI(t,"Suspense");var k=t.keyPath;a=t.blockedBoundary;var P=t.hoistableState,O=t.blockedSegment;S=s.fallback;var N=s.children;E=nE(e,s=new Set),null!==e.trackedPostpones&&(E.trackedContentKeyPath=r),T=nC(e,O.chunks.length,E,t.formatContext,!1,!1),O.children.push(T),O.lastPushedText=!1;var D=nC(e,0,null,t.formatContext,!1,!1);D.parentFlushed=!0,t.blockedBoundary=E,t.hoistableState=E.contentState,t.blockedSegment=D,t.keyPath=r;try{if(nU(e,t,N,-1),D.lastPushedText&&D.textEmbedded&&D.chunks.push(ef),D.status=1,nG(E,D),0===E.pendingTasks&&0===E.status){E.status=1,t.componentStack=R;break e}}catch(r){D.status=4,E.status=4,C=nR(e,t.componentStack),I=nk(e,r,C),E.errorDigest=I,nF(e,E)}finally{t.blockedBoundary=a,t.hoistableState=P,t.blockedSegment=O,t.keyPath=k,t.componentStack=R}C=[r[0],"Suspense Fallback",r[2]],null!==(I=e.trackedPostpones)&&(R=[C[1],C[2],[],null],I.workingMap.set(C,R),5===E.status?I.workingMap.get(r)[4]=R:E.trackedFallbackNode=R),t=nx(e,null,S,-1,a,T,E.fallbackState,s,C,t.formatContext,t.legacyContext,t.context,t.treeContext,i,!0),e.pingedTasks.push(t)}return}if("object"==typeof i&&null!==i)switch(i.$$typeof){case f:S=t.componentStack,t.componentStack={tag:1,parent:t.componentStack,type:i.render},s=nO(e,t,r,i.render,s,a),nN(e,t,r,s,0!==rQ,rZ,r0),t.componentStack=S;return;case m:s=nD(i=i.type,s),nM(e,t,r,i,s,a);return;case c:if(S=s.children,a=t.keyPath,i=i._context,s=s.value,E=i._currentValue,i._currentValue=s,rk=s={parent:T=rk,depth:null===T?0:T.depth+1,context:i,parentValue:E,value:s},t.context=s,t.keyPath=r,nj(e,t,S,-1),null===(e=rk))throw Error("Tried to pop a Context at the root of the app. This is a bug in React.");e.context._currentValue=e.parentValue,e=rk=e.parent,t.context=e,t.keyPath=a;return;case d:s=(s=s.children)(i._currentValue),i=t.keyPath,t.keyPath=r,nj(e,t,s,-1),t.keyPath=i;return;case h:case y:a=t.componentStack,t.componentStack=nI(t,"Lazy"),s=nD(i=(S=i._init)(i._payload),s),nM(e,t,r,i,s,void 0),t.componentStack=a;return}throw Error("Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: "+(null==i?i:typeof i)+".")}}function nL(e,t,r,n,i){var s=t.replay,a=t.blockedBoundary,o=nC(e,0,null,t.formatContext,!1,!1);o.id=r,o.parentFlushed=!0;try{t.replay=null,t.blockedSegment=o,nU(e,t,n,i),o.status=1,null===a?e.completedRootSegment=o:(nG(a,o),a.parentFlushed&&e.partialBoundaries.push(a))}finally{t.replay=s,t.blockedSegment=null}}function nj(e,t,r,n){if(null!==t.replay&&"number"==typeof t.replay.slots)nL(e,t,t.replay.slots,r,n);else if(t.node=r,t.childIndex=n,null!==r){if("object"==typeof r){switch(r.$$typeof){case s:var i=r.type,o=r.key,l=r.props,u=r.ref,c=rC(i),h=null==o?-1===n?0:n:o;if(o=[t.keyPath,c,h],null!==t.replay)e:{var f=t.replay;for(r=0,n=f.nodes;r<n.length;r++){var g=n[r];if(h===g[1]){if(4===g.length){if(null!==c&&c!==g[0])throw Error("Expected the resume to render <"+g[0]+"> in this slot but instead it rendered <"+c+">. The tree doesn't match so React will fallback to client rendering.");var m=g[2];c=g[3],h=t.node,t.replay={nodes:m,slots:c,pendingTasks:1};try{if(nM(e,t,o,i,l,u),1===t.replay.pendingTasks&&0<t.replay.nodes.length)throw Error("Couldn't find all resumable slots by key/index during replaying. The tree doesn't match so React will fallback to client rendering.");t.replay.pendingTasks--}catch(r){if("object"==typeof r&&null!==r&&(r===rF||"function"==typeof r.then))throw t.node===h&&(t.replay=f),r;t.replay.pendingTasks--,l=nR(e,t.componentStack),o=e,e=t.blockedBoundary,l=nk(o,i=r,l),nB(o,e,m,c,i,l)}t.replay=f}else{if(i!==p)throw Error("Expected the resume to render <Suspense> in this slot but instead it rendered <"+(rC(i)||"Unknown")+">. The tree doesn't match so React will fallback to client rendering.");t:{f=void 0,i=g[5],u=g[2],c=g[3],h=null===g[4]?[]:g[4][2],g=null===g[4]?null:g[4][3];var v=t.componentStack,b=t.componentStack=nI(t,"Suspense"),w=t.keyPath,_=t.replay,S=t.blockedBoundary,T=t.hoistableState,C=l.children;l=l.fallback;var I=new Set,R=nE(e,I);R.parentFlushed=!0,R.rootSegmentID=i,t.blockedBoundary=R,t.hoistableState=R.contentState,t.replay={nodes:u,slots:c,pendingTasks:1};try{if(nU(e,t,C,-1),1===t.replay.pendingTasks&&0<t.replay.nodes.length)throw Error("Couldn't find all resumable slots by key/index during replaying. The tree doesn't match so React will fallback to client rendering.");if(t.replay.pendingTasks--,0===R.pendingTasks&&0===R.status){R.status=1,e.completedBoundaries.push(R);break t}}catch(r){R.status=4,m=nR(e,t.componentStack),f=nk(e,r,m),R.errorDigest=f,t.replay.pendingTasks--,e.clientRenderedBoundaries.push(R)}finally{t.blockedBoundary=S,t.hoistableState=T,t.replay=_,t.keyPath=w,t.componentStack=v}t=nT(e,null,{nodes:h,slots:g,pendingTasks:0},l,-1,S,R.fallbackState,I,[o[0],"Suspense Fallback",o[2]],t.formatContext,t.legacyContext,t.context,t.treeContext,b,!0),e.pingedTasks.push(t)}}n.splice(r,1);break e}}}else nM(e,t,o,i,l,u);return;case a:throw Error("Portals are not currently supported by the server renderer. Render them conditionally so that they only appear on the client render.");case y:l=t.componentStack,t.componentStack=nI(t,"Lazy"),r=(o=r._init)(r._payload),t.componentStack=l,nj(e,t,r,n);return}if(x(r)){n$(e,t,r,n);return}if((l=null===r||"object"!=typeof r?null:"function"==typeof(l=E&&r[E]||r["@@iterator"])?l:null)&&(l=l.call(r))){if(!(r=l.next()).done){o=[];do o.push(r.value),r=l.next();while(!r.done);n$(e,t,o,n)}return}if("function"==typeof r.then)return t.thenableState=null,nj(e,t,na(r),n);if(r.$$typeof===d)return nj(e,t,r._currentValue,n);throw Error("Objects are not valid as a React child (found: "+("[object Object]"===(n=Object.prototype.toString.call(r))?"object with keys {"+Object.keys(r).join(", ")+"}":n)+"). If you meant to render a collection of children, use an array instead.")}"string"==typeof r?null!==(n=t.blockedSegment)&&(n.lastPushedText=ep(n.chunks,r,e.renderState,n.lastPushedText)):"number"==typeof r&&null!==(n=t.blockedSegment)&&(n.lastPushedText=ep(n.chunks,""+r,e.renderState,n.lastPushedText))}}function n$(e,t,r,n){var i=t.keyPath;if(-1!==n&&(t.keyPath=[t.keyPath,"Fragment",n],null!==t.replay)){for(var s=t.replay,a=s.nodes,o=0;o<a.length;o++){var l=a[o];if(l[1]===n){n=l[2],l=l[3],t.replay={nodes:n,slots:l,pendingTasks:1};try{if(n$(e,t,r,-1),1===t.replay.pendingTasks&&0<t.replay.nodes.length)throw Error("Couldn't find all resumable slots by key/index during replaying. The tree doesn't match so React will fallback to client rendering.");t.replay.pendingTasks--}catch(i){if("object"==typeof i&&null!==i&&(i===rF||"function"==typeof i.then))throw i;t.replay.pendingTasks--,r=nR(e,t.componentStack);var u=t.blockedBoundary;r=nk(e,i,r),nB(e,u,n,l,i,r)}t.replay=s,a.splice(o,1);break}}t.keyPath=i;return}if(s=t.treeContext,a=r.length,null!==t.replay&&null!==(o=t.replay.slots)&&"object"==typeof o){for(n=0;n<a;n++)l=r[n],t.treeContext=rM(s,a,n),"number"==typeof(u=o[n])?(nL(e,t,u,l,n),delete o[n]):nU(e,t,l,n);t.treeContext=s,t.keyPath=i;return}for(o=0;o<a;o++)n=r[o],t.treeContext=rM(s,a,o),nU(e,t,n,o);t.treeContext=s,t.keyPath=i}function nF(e,t){null!==(e=e.trackedPostpones)&&null!==(t=t.trackedContentKeyPath)&&void 0!==(t=e.workingMap.get(t))&&(t.length=4,t[2]=[],t[3]=null)}function nU(e,t,r,n){var i=t.formatContext,s=t.legacyContext,a=t.context,o=t.keyPath,l=t.treeContext,u=t.componentStack,c=t.blockedSegment;if(null===c)try{return nj(e,t,r,n)}catch(c){if(r7(),"object"==typeof(r=c===rF?rB():c)&&null!==r&&"function"==typeof r.then){e=nT(e,n=r8(),t.replay,t.node,t.childIndex,t.blockedBoundary,t.hoistableState,t.abortSet,t.keyPath,t.formatContext,t.legacyContext,t.context,t.treeContext,null!==t.componentStack?t.componentStack.parent:null,t.isFallback).ping,r.then(e,e),t.formatContext=i,t.legacyContext=s,t.context=a,t.keyPath=o,t.treeContext=l,t.componentStack=u,rO(a);return}}else{var h=c.children.length,d=c.chunks.length;try{return nj(e,t,r,n)}catch(f){if(r7(),c.children.length=h,c.chunks.length=d,"object"==typeof(r=f===rF?rB():f)&&null!==r&&"function"==typeof r.then){n=r8(),h=nC(e,(c=t.blockedSegment).chunks.length,null,t.formatContext,c.lastPushedText,!0),c.children.push(h),c.lastPushedText=!1,e=nx(e,n,t.node,t.childIndex,t.blockedBoundary,h,t.hoistableState,t.abortSet,t.keyPath,t.formatContext,t.legacyContext,t.context,t.treeContext,null!==t.componentStack?t.componentStack.parent:null,t.isFallback).ping,r.then(e,e),t.formatContext=i,t.legacyContext=s,t.context=a,t.keyPath=o,t.treeContext=l,t.componentStack=u,rO(a);return}}}throw t.formatContext=i,t.legacyContext=s,t.context=a,t.keyPath=o,t.treeContext=l,rO(a),r}function nV(e){var t=e.blockedBoundary;null!==(e=e.blockedSegment)&&(e.status=3,nW(this,t,e))}function nB(e,t,r,n,i,s){for(var a=0;a<r.length;a++){var o=r[a];if(4===o.length)nB(e,t,o[2],o[3],i,s);else{o=o[5];var l=nE(e,new Set);l.parentFlushed=!0,l.rootSegmentID=o,l.status=4,l.errorDigest=s,l.parentFlushed&&e.clientRenderedBoundaries.push(l)}}if(r.length=0,null!==n){if(null===t)throw Error("We should not have any resumable nodes in the shell. This is a bug in React.");if(4!==t.status&&(t.status=4,t.errorDigest=s,t.parentFlushed&&e.clientRenderedBoundaries.push(t)),"object"==typeof n)for(var u in n)delete n[u]}}function nq(e,t){try{var r=e.renderState,n=r.onHeaders;if(n){var i=r.headers;if(i){r.headers=null;var s=i.preconnects;if(i.fontPreloads&&(s&&(s+=", "),s+=i.fontPreloads),i.highImagePreloads&&(s&&(s+=", "),s+=i.highImagePreloads),!t){var a=r.styles.values(),o=a.next();t:for(;0<i.remainingCapacity&&!o.done;o=a.next())for(var l=o.value.sheets.values(),u=l.next();0<i.remainingCapacity&&!u.done;u=l.next()){var c=u.value,h=c.props,d=h.href,f=c.props,p=rm(f.href,"style",{crossOrigin:f.crossOrigin,integrity:f.integrity,nonce:f.nonce,type:f.type,fetchPriority:f.fetchPriority,referrerPolicy:f.referrerPolicy,media:f.media});if(2<=(i.remainingCapacity-=p.length))r.resets.style[d]=Y,s&&(s+=", "),s+=p,r.resets.style[d]="string"==typeof h.crossOrigin||"string"==typeof h.integrity?[h.crossOrigin,h.integrity]:Y;else break t}}n(s?{Link:s}:{})}}}catch(t){nk(e,t,{})}}function nz(e){null===e.trackedPostpones&&nq(e,!0),e.onShellError=nb,(e=e.onShellReady)()}function nH(e){nq(e,null===e.trackedPostpones||null===e.completedRootSegment||5!==e.completedRootSegment.status),(e=e.onAllReady)()}function nG(e,t){if(0===t.chunks.length&&1===t.children.length&&null===t.children[0].boundary&&-1===t.children[0].id){var r=t.children[0];r.id=t.id,r.parentFlushed=!0,1===r.status&&nG(e,r)}else e.completedSegments.push(t)}function nW(e,t,r){if(null===t){if(null!==r&&r.parentFlushed){if(null!==e.completedRootSegment)throw Error("There can only be one root segment. This is a bug in React.");e.completedRootSegment=r}e.pendingRootTasks--,0===e.pendingRootTasks&&nz(e)}else t.pendingTasks--,4!==t.status&&(0===t.pendingTasks?(0===t.status&&(t.status=1),null!==r&&r.parentFlushed&&1===r.status&&nG(t,r),t.parentFlushed&&e.completedBoundaries.push(t),1===t.status&&(t.fallbackAbortableTasks.forEach(nV,e),t.fallbackAbortableTasks.clear())):null!==r&&r.parentFlushed&&1===r.status&&(nG(t,r),1===t.completedSegments.length&&t.parentFlushed&&e.partialBoundaries.push(t)));e.allPendingTasks--,0===e.allPendingTasks&&nH(e)}function nK(e){if(2!==e.status){var t=rk,r=nm.current;nm.current=nc;var n=ny.current;ny.current=nd;var i=nw;nw=e;var s=nh;nh=e.resumableState;try{var a,o=e.pingedTasks;for(a=0;a<o.length;a++){var l=o[a],u=e,c=l.blockedSegment;if(null===c){var h=u;if(0!==l.replay.pendingTasks){rO(l.context);try{if(nj(h,l,l.node,l.childIndex),1===l.replay.pendingTasks&&0<l.replay.nodes.length)throw Error("Couldn't find all resumable slots by key/index during replaying. The tree doesn't match so React will fallback to client rendering.");l.replay.pendingTasks--,l.abortSet.delete(l),nW(h,l.blockedBoundary,null)}catch(e){r7();var d=e===rF?rB():e;if("object"==typeof d&&null!==d&&"function"==typeof d.then){var f=l.ping;d.then(f,f),l.thenableState=r8()}else{l.replay.pendingTasks--,l.abortSet.delete(l);var p=nR(h,l.componentStack);u=void 0;var g=h,m=l.blockedBoundary,y=l.replay.nodes,v=l.replay.slots;u=nk(g,d,p),nB(g,m,y,v,d,u),h.pendingRootTasks--,0===h.pendingRootTasks&&nz(h),h.allPendingTasks--,0===h.allPendingTasks&&nH(h)}}finally{}}}else if(h=void 0,g=c,0===g.status){rO(l.context);var b=g.children.length,w=g.chunks.length;try{nj(u,l,l.node,l.childIndex),g.lastPushedText&&g.textEmbedded&&g.chunks.push(ef),l.abortSet.delete(l),g.status=1,nW(u,l.blockedBoundary,g)}catch(e){r7(),g.children.length=b,g.chunks.length=w;var _=e===rF?rB():e;if("object"==typeof _&&null!==_&&"function"==typeof _.then){var S=l.ping;_.then(S,S),l.thenableState=r8()}else{var E=nR(u,l.componentStack);l.abortSet.delete(l),g.status=4;var x=l.blockedBoundary;h=nk(u,_,E),null===x?nP(u,_):(x.pendingTasks--,4!==x.status&&(x.status=4,x.errorDigest=h,nF(u,x),x.parentFlushed&&u.clientRenderedBoundaries.push(x))),u.allPendingTasks--,0===u.allPendingTasks&&nH(u)}}finally{}}}o.splice(0,a),null!==e.destination&&n0(e,e.destination)}catch(t){nk(e,t,{}),nP(e,t)}finally{nh=s,nm.current=r,ny.current=n,r===nc&&rO(t),nw=i}}}function nJ(e,t,r,n){switch(r.parentFlushed=!0,r.status){case 0:r.id=e.nextSegmentId++;case 5:return n=r.id,r.lastPushedText=!1,r.textEmbedded=!1,e=e.renderState,R(t,eZ),R(t,e.placeholderPrefix),R(t,e=A(n.toString(16))),k(t,e0);case 1:r.status=2;var i=!0,s=r.chunks,a=0;r=r.children;for(var o=0;o<r.length;o++){for(i=r[o];a<i.index;a++)R(t,s[a]);i=nX(e,t,i,n)}for(;a<s.length-1;a++)R(t,s[a]);return a<s.length&&(i=k(t,s[a])),i;default:throw Error("Aborted, errored or already flushed boundaries should not be flushed again. This is a bug in React.")}}function nX(e,t,r,n){var i=r.boundary;if(null===i)return nJ(e,t,r,n);if(i.parentFlushed=!0,4===i.status)i=i.errorDigest,k(t,e9),R(t,e5),i&&(R(t,e8),R(t,A(z(i))),R(t,e3)),k(t,e7),nJ(e,t,r,n);else if(1!==i.status)0===i.status&&(i.rootSegmentID=e.nextSegmentId++),0<i.completedSegments.length&&e.partialBoundaries.push(i),te(t,e.renderState,i.rootSegmentID),n&&((i=i.fallbackState).styles.forEach(r_,n),i.stylesheets.forEach(rS,n)),nJ(e,t,r,n);else if(i.byteSize>e.progressiveChunkSize)i.rootSegmentID=e.nextSegmentId++,e.completedBoundaries.push(i),te(t,e.renderState,i.rootSegmentID),nJ(e,t,r,n);else{if(n&&((r=i.contentState).styles.forEach(r_,n),r.stylesheets.forEach(rS,n)),k(t,e1),1!==(r=i.completedSegments).length)throw Error("A previously unvisited boundary must have exactly one root segment. This is a bug in React.");nX(e,t,r[0],n)}return k(t,e6)}function nY(e,t,r,n){return!function(e,t,r,n){switch(r.insertionMode){case 0:case 1:case 2:return R(e,tt),R(e,t.segmentPrefix),R(e,A(n.toString(16))),k(e,tr);case 3:return R(e,ti),R(e,t.segmentPrefix),R(e,A(n.toString(16))),k(e,ts);case 4:return R(e,to),R(e,t.segmentPrefix),R(e,A(n.toString(16))),k(e,tl);case 5:return R(e,tc),R(e,t.segmentPrefix),R(e,A(n.toString(16))),k(e,th);case 6:return R(e,tf),R(e,t.segmentPrefix),R(e,A(n.toString(16))),k(e,tp);case 7:return R(e,tm),R(e,t.segmentPrefix),R(e,A(n.toString(16))),k(e,ty);case 8:return R(e,tb),R(e,t.segmentPrefix),R(e,A(n.toString(16))),k(e,tw);default:throw Error("Unknown insertion mode. This is a bug in React.")}}(t,e.renderState,r.parentFormatContext,r.id),nX(e,t,r,n),function(e,t){switch(t.insertionMode){case 0:case 1:case 2:return k(e,tn);case 3:return k(e,ta);case 4:return k(e,tu);case 5:return k(e,td);case 6:return k(e,tg);case 7:return k(e,tv);case 8:return k(e,t_);default:throw Error("Unknown insertion mode. This is a bug in React.")}}(t,r.parentFormatContext)}function nQ(e,t,r){for(var n,i,s,a,o=r.completedSegments,l=0;l<o.length;l++)nZ(e,t,r,o[l]);o.length=0,t8(t,r.contentState,e.renderState),o=e.resumableState,e=e.renderState,l=r.rootSegmentID,r=r.contentState;var u=e.stylesToHoist;e.stylesToHoist=!1;var c=0===o.streamingFormat;return c?(R(t,e.startInlineScript),u?0==(2&o.instructions)?(o.instructions|=10,R(t,tP)):0==(8&o.instructions)?(o.instructions|=8,R(t,tO)):R(t,tA):0==(2&o.instructions)?(o.instructions|=2,R(t,tR)):R(t,tk)):u?R(t,t$):R(t,tj),o=A(l.toString(16)),R(t,e.boundaryPrefix),R(t,o),c?R(t,tN):R(t,tF),R(t,e.segmentPrefix),R(t,o),u?(c?(R(t,tD),n=r,R(t,rc),i=rc,n.stylesheets.forEach(function(e){if(2!==e.state){if(3===e.state)R(t,i),R(t,A(tZ(""+e.props.href))),R(t,rf),i=rh;else{R(t,i);var r=e.props["data-precedence"],n=e.props;for(var s in R(t,A(tZ(""+e.props.href))),r=""+r,R(t,rd),R(t,A(tZ(r))),n)if(L.call(n,s)){var a=n[s];if(null!=a)switch(s){case"href":case"rel":case"precedence":case"data-precedence":break;case"children":case"dangerouslySetInnerHTML":throw Error("link is a self-closing tag and must neither have `children` nor use `dangerouslySetInnerHTML`.");default:e:{r=t;var o=s.toLowerCase();switch(typeof a){case"function":case"symbol":break e}switch(s){case"innerHTML":case"dangerouslySetInnerHTML":case"suppressContentEditableWarning":case"suppressHydrationWarning":case"style":case"ref":break e;case"className":o="class",a=""+a;break;case"hidden":if(!1===a)break e;a="";break;case"src":case"href":a=""+a;break;default:if(2<s.length&&("o"===s[0]||"O"===s[0])&&("n"===s[1]||"N"===s[1])||!U(s))break e;a=""+a}R(r,rd),R(r,A(tZ(o))),R(r,rd),R(r,A(tZ(a)))}}}R(t,rf),i=rh,e.state=3}}})):(R(t,tU),s=r,R(t,rc),a=rc,s.stylesheets.forEach(function(e){if(2!==e.state){if(3===e.state)R(t,a),R(t,A(z(JSON.stringify(""+e.props.href)))),R(t,rf),a=rh;else{R(t,a);var r=e.props["data-precedence"],n=e.props;for(var i in R(t,A(z(JSON.stringify(""+e.props.href)))),r=""+r,R(t,rd),R(t,A(z(JSON.stringify(r)))),n)if(L.call(n,i)){var s=n[i];if(null!=s)switch(i){case"href":case"rel":case"precedence":case"data-precedence":break;case"children":case"dangerouslySetInnerHTML":throw Error("link is a self-closing tag and must neither have `children` nor use `dangerouslySetInnerHTML`.");default:e:{r=t;var o=i.toLowerCase();switch(typeof s){case"function":case"symbol":break e}switch(i){case"innerHTML":case"dangerouslySetInnerHTML":case"suppressContentEditableWarning":case"suppressHydrationWarning":case"style":case"ref":break e;case"className":o="class",s=""+s;break;case"hidden":if(!1===s)break e;s="";break;case"src":case"href":s=""+s;break;default:if(2<i.length&&("o"===i[0]||"O"===i[0])&&("n"===i[1]||"N"===i[1])||!U(i))break e;s=""+s}R(r,rd),R(r,A(z(JSON.stringify(o)))),R(r,rd),R(r,A(z(JSON.stringify(s))))}}}R(t,rf),a=rh,e.state=3}}})),R(t,rf)):c&&R(t,tM),o=c?k(t,tL):k(t,Q),eQ(t,e)&&o}function nZ(e,t,r,n){if(2===n.status)return!0;var i=r.contentState,s=n.id;if(-1===s){if(-1===(n.id=r.rootSegmentID))throw Error("A root segment ID must have been assigned by now. This is a bug in React.");return nY(e,t,n,i)}return s===r.rootSegmentID?nY(e,t,n,i):(nY(e,t,n,i),r=e.resumableState,e=e.renderState,(n=0===r.streamingFormat)?(R(t,e.startInlineScript),0==(1&r.instructions)?(r.instructions|=1,R(t,tS)):R(t,tE)):R(t,tC),R(t,e.segmentPrefix),R(t,s=A(s.toString(16))),n?R(t,tx):R(t,tI),R(t,e.placeholderPrefix),R(t,s),t=n?k(t,tT):k(t,Q))}function n0(e,t){C=new Uint8Array(2048),I=0;try{var r,n=e.completedRootSegment;if(null!==n){if(5===n.status||0!==e.pendingRootTasks)return;var i=e.renderState;if((0!==e.allPendingTasks||null!==e.trackedPostpones)&&i.externalRuntimeScript){var s=i.externalRuntimeScript,a=e.resumableState,o=s.src,l=s.chunks;a.scriptResources.hasOwnProperty(o)||(a.scriptResources[o]=null,i.scripts.add(l))}var u,c=i.htmlChunks,h=i.headChunks;if(c){for(u=0;u<c.length;u++)R(t,c[u]);if(h)for(u=0;u<h.length;u++)R(t,h[u]);else R(t,eK("head")),R(t,eA)}else if(h)for(u=0;u<h.length;u++)R(t,h[u]);var d=i.charsetChunks;for(u=0;u<d.length;u++)R(t,d[u]);d.length=0,i.preconnects.forEach(t7,t),i.preconnects.clear();var f=i.viewportChunks;for(u=0;u<f.length;u++)R(t,f[u]);f.length=0,i.fontPreloads.forEach(t7,t),i.fontPreloads.clear(),i.highImagePreloads.forEach(t7,t),i.highImagePreloads.clear(),i.styles.forEach(ro,t);var p=i.importMapChunks;for(u=0;u<p.length;u++)R(t,p[u]);p.length=0,i.bootstrapScripts.forEach(t7,t),i.scripts.forEach(t7,t),i.scripts.clear(),i.bulkPreloads.forEach(t7,t),i.bulkPreloads.clear();var g=i.hoistableChunks;for(u=0;u<g.length;u++)R(t,g[u]);g.length=0,c&&null===h&&R(t,eY("head")),nX(e,t,n,null),e.completedRootSegment=null,eQ(t,e.renderState)}var m=e.renderState;n=0;var y=m.viewportChunks;for(n=0;n<y.length;n++)R(t,y[n]);y.length=0,m.preconnects.forEach(t7,t),m.preconnects.clear(),m.fontPreloads.forEach(t7,t),m.fontPreloads.clear(),m.highImagePreloads.forEach(t7,t),m.highImagePreloads.clear(),m.styles.forEach(ru,t),m.scripts.forEach(t7,t),m.scripts.clear(),m.bulkPreloads.forEach(t7,t),m.bulkPreloads.clear();var v=m.hoistableChunks;for(n=0;n<v.length;n++)R(t,v[n]);v.length=0;var b=e.clientRenderedBoundaries;for(r=0;r<b.length;r++){var w=b[r];m=t;var _=e.resumableState,S=e.renderState,E=w.rootSegmentID,x=w.errorDigest,T=w.errorMessage,O=w.errorComponentStack,N=0===_.streamingFormat;if(N?(R(m,S.startInlineScript),0==(4&_.instructions)?(_.instructions|=4,R(m,tV)):R(m,tB)):R(m,tG),R(m,S.boundaryPrefix),R(m,A(E.toString(16))),N&&R(m,tq),(x||T||O)&&(N?(R(m,tz),R(m,A(tY(x||"")))):(R(m,tW),R(m,A(z(x||""))))),(T||O)&&(N?(R(m,tz),R(m,A(tY(T||"")))):(R(m,tK),R(m,A(z(T||""))))),O&&(N?(R(m,tz),R(m,A(tY(O)))):(R(m,tJ),R(m,A(z(O))))),N?!k(m,tH):!k(m,Q)){e.destination=null,r++,b.splice(0,r);return}}b.splice(0,r);var D=e.completedBoundaries;for(r=0;r<D.length;r++)if(!nQ(e,t,D[r])){e.destination=null,r++,D.splice(0,r);return}D.splice(0,r),P(t),C=new Uint8Array(2048),I=0;var M=e.partialBoundaries;for(r=0;r<M.length;r++){var L=M[r];e:{b=e,w=t;var j=L.completedSegments;for(_=0;_<j.length;_++)if(!nZ(b,w,L,j[_])){_++,j.splice(0,_);var $=!1;break e}j.splice(0,_),$=t8(w,L.contentState,b.renderState)}if(!$){e.destination=null,r++,M.splice(0,r);return}}M.splice(0,r);var F=e.completedBoundaries;for(r=0;r<F.length;r++)if(!nQ(e,t,F[r])){e.destination=null,r++,F.splice(0,r);return}F.splice(0,r)}finally{0===e.allPendingTasks&&0===e.pingedTasks.length&&0===e.clientRenderedBoundaries.length&&0===e.completedBoundaries.length?(e.flushScheduled=!1,(r=e.resumableState).hasBody&&R(t,eY("body")),r.hasHtml&&R(t,eY("html")),P(t),t.close(),e.destination=null):P(t)}}function n1(e){nq(e,0===e.pendingRootTasks)}function n2(e){!1===e.flushScheduled&&0===e.pingedTasks.length&&null!==e.destination&&(e.flushScheduled=!0,setTimeout(function(){var t=e.destination;t?n0(e,t):e.flushScheduled=!1},0))}function n4(e,t){try{var r=e.abortableTasks;if(0<r.size){var n=void 0===t?Error("The render was aborted by the server without a reason."):t;r.forEach(function(t){return function e(t,r,n){var i=t.blockedBoundary,s=t.blockedSegment;if(null!==s&&(s.status=3),null===i){if(i={},1!==r.status&&2!==r.status){if(null===(t=t.replay)){nk(r,n,i),nP(r,n);return}t.pendingTasks--,0===t.pendingTasks&&0<t.nodes.length&&(i=nk(r,n,i),nB(r,null,t.nodes,t.slots,n,i)),r.pendingRootTasks--,0===r.pendingRootTasks&&nz(r)}}else i.pendingTasks--,4!==i.status&&(i.status=4,t=nR(r,t.componentStack),t=nk(r,n,t),i.errorDigest=t,nF(r,i),i.parentFlushed&&r.clientRenderedBoundaries.push(i)),i.fallbackAbortableTasks.forEach(function(t){return e(t,r,n)}),i.fallbackAbortableTasks.clear();r.allPendingTasks--,0===r.allPendingTasks&&nH(r)}(t,e,n)}),r.clear()}null!==e.destination&&n0(e,e.destination)}catch(t){nk(e,t,{}),nP(e,t)}}t.renderToReadableStream=function(e,t){return new Promise(function(r,n){var i,s,a,o,l,u,c,h,d,f,p,g,m,y,v,b,w,_,S,E,x,T,C,I,R=new Promise(function(e,t){C=e,T=t}),k=t?t.onHeaders:void 0;k&&(I=function(e){k(new Headers(e))});var P=(i=t?t.identifierPrefix:void 0,s=t?t.unstable_externalRuntimeSrc:void 0,a=t?t.bootstrapScriptContent:void 0,o=t?t.bootstrapScripts:void 0,l=t?t.bootstrapModules:void 0,u=0,void 0!==s&&(u=1),{idPrefix:void 0===i?"":i,nextFormID:0,streamingFormat:u,bootstrapScriptContent:a,bootstrapScripts:o,bootstrapModules:l,instructions:0,hasBody:!1,hasHtml:!1,unknownResources:{},dnsResources:{},connectResources:{default:{},anonymous:{},credentials:{}},imageResources:{},styleResources:{},scriptResources:{},moduleUnknownResources:{},moduleScriptResources:{}}),O=(h=e,d=P,f=function(e,t,r,n,i,s){var a=void 0===t?Z:N('<script nonce="'+z(t)+'">'),o=e.idPrefix,l=[],u=null,c=e.bootstrapScriptContent,h=e.bootstrapScripts,d=e.bootstrapModules;if(void 0!==c&&l.push(a,A((""+c).replace(eo,el)),ee),void 0!==r&&("string"==typeof r?eq((u={src:r,chunks:[]}).chunks,{src:r,async:!0,integrity:void 0,nonce:t}):eq((u={src:r.src,chunks:[]}).chunks,{src:r.src,async:!0,integrity:r.integrity,nonce:t})),r=[],void 0!==n&&(r.push(eu),r.push(A((""+JSON.stringify(n)).replace(eo,el))),r.push(ec)),n=i?{preconnects:"",fontPreloads:"",highImagePreloads:"",remainingCapacity:"number"==typeof s?s:2e3}:null,i={placeholderPrefix:N(o+"P:"),segmentPrefix:N(o+"S:"),boundaryPrefix:N(o+"B:"),startInlineScript:a,htmlChunks:null,headChunks:null,externalRuntimeScript:u,bootstrapChunks:l,importMapChunks:r,onHeaders:i,headers:n,resets:{font:{},dns:{},connect:{default:{},anonymous:{},credentials:{}},image:{},style:{}},charsetChunks:[],viewportChunks:[],hoistableChunks:[],preconnects:new Set,fontPreloads:new Set,highImagePreloads:new Set,styles:new Map,bootstrapScripts:new Set,scripts:new Set,bulkPreloads:new Set,preloads:{images:new Map,stylesheets:new Map,scripts:new Map,moduleScripts:new Map},nonce:t,hoistableState:null,stylesToHoist:!1},void 0!==h)for(a=0;a<h.length;a++)r=h[a],n=u=void 0,s={rel:"preload",as:"script",fetchPriority:"low",nonce:t},"string"==typeof r?s.href=o=r:(s.href=o=r.src,s.integrity=n="string"==typeof r.integrity?r.integrity:void 0,s.crossOrigin=u="string"==typeof r||null==r.crossOrigin?void 0:"use-credentials"===r.crossOrigin?"use-credentials":""),r=e,c=o,r.scriptResources[c]=null,r.moduleScriptResources[c]=null,eU(r=[],s),i.bootstrapScripts.add(r),l.push(et,A(z(o))),t&&l.push(en,A(z(t))),"string"==typeof n&&l.push(ei,A(z(n))),"string"==typeof u&&l.push(es,A(z(u))),l.push(ea);if(void 0!==d)for(h=0;h<d.length;h++)s=d[h],u=o=void 0,n={rel:"modulepreload",fetchPriority:"low",nonce:t},"string"==typeof s?n.href=a=s:(n.href=a=s.src,n.integrity=u="string"==typeof s.integrity?s.integrity:void 0,n.crossOrigin=o="string"==typeof s||null==s.crossOrigin?void 0:"use-credentials"===s.crossOrigin?"use-credentials":""),s=e,r=a,s.scriptResources[r]=null,s.moduleScriptResources[r]=null,eU(s=[],n),i.bootstrapScripts.add(s),l.push(er,A(z(a))),t&&l.push(en,A(z(t))),"string"==typeof u&&l.push(ei,A(z(u))),"string"==typeof o&&l.push(es,A(z(o))),l.push(ea);return i}(P,t?t.nonce:void 0,t?t.unstable_externalRuntimeSrc:void 0,t?t.importMap:void 0,I,t?t.maxHeadersLength:void 0),p=eh("http://www.w3.org/2000/svg"===(c=t?t.namespaceURI:void 0)?3:"http://www.w3.org/1998/Math/MathML"===c?4:0,null,0),g=t?t.progressiveChunkSize:void 0,m=t?t.onError:void 0,y=C,v=function(){var e=new ReadableStream({type:"bytes",pull:function(e){if(1===O.status)O.status=2,D(e,O.fatalError);else if(2!==O.status&&null===O.destination){O.destination=e;try{n0(O,e)}catch(e){nk(O,e,{}),nP(O,e)}}},cancel:function(e){O.destination=null,n4(O,e)}},{highWaterMark:0});e.allReady=R,r(e)},b=function(e){R.catch(function(){}),n(e)},w=T,_=t?t.onPostpone:void 0,S=t?t.formState:void 0,J.current=X,E=[],(f=nC(d={destination:null,flushScheduled:!1,resumableState:d,renderState:f,rootFormatContext:p,progressiveChunkSize:void 0===g?12800:g,status:0,fatalError:null,nextSegmentId:0,allPendingTasks:0,pendingRootTasks:0,completedRootSegment:null,abortableTasks:x=new Set,pingedTasks:E,clientRenderedBoundaries:[],completedBoundaries:[],partialBoundaries:[],trackedPostpones:null,onError:void 0===m?nv:m,onPostpone:void 0===_?nb:_,onAllReady:void 0===y?nb:y,onShellReady:void 0===v?nb:v,onShellError:void 0===b?nb:b,onFatalError:void 0===w?nb:w,formState:void 0===S?null:S},0,null,p,!1,!1)).parentFlushed=!0,h=nx(d,null,h,-1,null,f,null,x,null,p,rI,null,rD,null,!1),E.push(h),d);if(t&&t.signal){var M=t.signal;if(M.aborted)n4(O,M.reason);else{var L=function(){n4(O,M.reason),M.removeEventListener("abort",L)};M.addEventListener("abort",L)}}O.flushScheduled=null!==O.destination,rE?setTimeout(function(){return rx.run(O,nK,O)},0):setTimeout(function(){return nK(O)},0),null===O.trackedPostpones&&(rE?setTimeout(function(){return rx.run(O,n1,O)},0):setTimeout(function(){return n1(O)},0))})},t.version="18.3.0-canary-178c267a4e-20241218"},8066:(e,t,r)=>{"use strict";e.exports=r(6989)},4174:(e,t,r)=>{"use strict";var n=r(8066),i={stream:!0},s=new Map;function a(e){var t=globalThis.__next_require__(e);return"function"!=typeof t.then||"fulfilled"===t.status?null:(t.then(function(e){t.status="fulfilled",t.value=e},function(e){t.status="rejected",t.reason=e}),t)}function o(){}var l=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.Dispatcher,u=Symbol.for("react.element"),c=Symbol.for("react.lazy"),h=Symbol.iterator,d=Array.isArray,f=Object.getPrototypeOf,p=Object.prototype,g=new WeakMap;function m(e,t,r,n){var i=1,s=0,a=null;e=JSON.stringify(e,function e(o,l){if(null===l)return null;if("object"==typeof l){if("function"==typeof l.then){null===a&&(a=new FormData),s++;var u,c,m=i++;return l.then(function(n){n=JSON.stringify(n,e);var i=a;i.append(t+m,n),0==--s&&r(i)},function(e){n(e)}),"$@"+m.toString(16)}if(d(l))return l;if(l instanceof FormData){null===a&&(a=new FormData);var y=a,v=t+(o=i++)+"_";return l.forEach(function(e,t){y.append(v+t,e)}),"$K"+o.toString(16)}if(l instanceof Map)return l=JSON.stringify(Array.from(l),e),null===a&&(a=new FormData),o=i++,a.append(t+o,l),"$Q"+o.toString(16);if(l instanceof Set)return l=JSON.stringify(Array.from(l),e),null===a&&(a=new FormData),o=i++,a.append(t+o,l),"$W"+o.toString(16);if(null===(c=l)||"object"!=typeof c?null:"function"==typeof(c=h&&c[h]||c["@@iterator"])?c:null)return Array.from(l);if((o=f(l))!==p&&(null===o||null!==f(o)))throw Error("Only plain objects, and a few built-ins, can be passed to Server Actions. Classes or null prototypes are not supported.");return l}if("string"==typeof l)return"Z"===l[l.length-1]&&this[o]instanceof Date?"$D"+l:l="$"===l[0]?"$"+l:l;if("boolean"==typeof l)return l;if("number"==typeof l)return Number.isFinite(u=l)?0===u&&-1/0==1/u?"$-0":u:1/0===u?"$Infinity":-1/0===u?"$-Infinity":"$NaN";if(void 0===l)return"$undefined";if("function"==typeof l){if(void 0!==(l=g.get(l)))return l=JSON.stringify(l,e),null===a&&(a=new FormData),o=i++,a.set(t+o,l),"$F"+o.toString(16);throw Error("Client Functions cannot be passed directly to Server Functions. Only Functions passed from the Server can be passed back again.")}if("symbol"==typeof l){if(Symbol.for(o=l.description)!==l)throw Error("Only global symbols received from Symbol.for(...) can be passed to Server Functions. The symbol Symbol.for("+l.description+") cannot be found among global symbols.");return"$S"+o}if("bigint"==typeof l)return"$n"+l.toString(10);throw Error("Type "+typeof l+" is not supported as an argument to a Server Function.")}),null===a?r(e):(a.set(t+"0",e),0===s&&r(a))}var y=new WeakMap;function v(e){var t=g.get(this);if(!t)throw Error("Tried to encode a Server Action from a different instance than the encoder is from. This is a bug in React.");var r=null;if(null!==t.bound){if((r=y.get(t))||(n=t,a=new Promise(function(e,t){i=e,s=t}),m(n,"",function(e){if("string"==typeof e){var t=new FormData;t.append("0",e),e=t}a.status="fulfilled",a.value=e,i(e)},function(e){a.status="rejected",a.reason=e,s(e)}),r=a,y.set(t,r)),"rejected"===r.status)throw r.reason;if("fulfilled"!==r.status)throw r;t=r.value;var n,i,s,a,o=new FormData;t.forEach(function(t,r){o.append("$ACTION_"+e+":"+r,t)}),r=o,t="$ACTION_REF_"+e}else t="$ACTION_ID_"+t.id;return{name:t,method:"POST",encType:"multipart/form-data",data:r}}function b(e,t){var r=g.get(this);if(!r)throw Error("Tried to encode a Server Action from a different instance than the encoder is from. This is a bug in React.");if(r.id!==e)return!1;var n=r.bound;if(null===n)return 0===t;switch(n.status){case"fulfilled":return n.value.length===t;case"pending":throw n;case"rejected":throw n.reason;default:throw"string"!=typeof n.status&&(n.status="pending",n.then(function(e){n.status="fulfilled",n.value=e},function(e){n.status="rejected",n.reason=e})),n}}function w(e,t,r){Object.defineProperties(e,{$$FORM_ACTION:{value:void 0===r?v:function(){var e=g.get(this);if(!e)throw Error("Tried to encode a Server Action from a different instance than the encoder is from. This is a bug in React.");var t=e.bound;return null===t&&(t=Promise.resolve([])),r(e.id,t)}},$$IS_SIGNATURE_EQUAL:{value:b},bind:{value:E}}),g.set(e,t)}var _=Function.prototype.bind,S=Array.prototype.slice;function E(){var e=_.apply(this,arguments),t=g.get(this);if(t){var r=S.call(arguments,1),n=null;n=null!==t.bound?Promise.resolve(t.bound).then(function(e){return e.concat(r)}):Promise.resolve(r),Object.defineProperties(e,{$$FORM_ACTION:{value:this.$$FORM_ACTION},$$IS_SIGNATURE_EQUAL:{value:b},bind:{value:E}}),g.set(e,{id:t.id,bound:n})}return e}function x(e,t,r,n){this.status=e,this.value=t,this.reason=r,this._response=n}function T(e){switch(e.status){case"resolved_model":A(e);break;case"resolved_module":N(e)}switch(e.status){case"fulfilled":return e.value;case"pending":case"blocked":case"cyclic":throw e;default:throw e.reason}}function C(e,t){for(var r=0;r<e.length;r++)(0,e[r])(t)}function I(e,t,r){switch(e.status){case"fulfilled":C(t,e.value);break;case"pending":case"blocked":case"cyclic":e.value=t,e.reason=r;break;case"rejected":r&&C(r,e.reason)}}function R(e,t){if("pending"===e.status||"blocked"===e.status){var r=e.reason;e.status="rejected",e.reason=t,null!==r&&C(r,t)}}function k(e,t){if("pending"===e.status||"blocked"===e.status){var r=e.value,n=e.reason;e.status="resolved_module",e.value=t,null!==r&&(N(e),I(e,r,n))}}x.prototype=Object.create(Promise.prototype),x.prototype.then=function(e,t){switch(this.status){case"resolved_model":A(this);break;case"resolved_module":N(this)}switch(this.status){case"fulfilled":e(this.value);break;case"pending":case"blocked":case"cyclic":e&&(null===this.value&&(this.value=[]),this.value.push(e)),t&&(null===this.reason&&(this.reason=[]),this.reason.push(t));break;default:t(this.reason)}};var P=null,O=null;function A(e){var t=P,r=O;P=e,O=null;var n=e.value;e.status="cyclic",e.value=null,e.reason=null;try{var i=JSON.parse(n,e._response._fromJSON);if(null!==O&&0<O.deps)O.value=i,e.status="blocked",e.value=null,e.reason=null;else{var s=e.value;e.status="fulfilled",e.value=i,null!==s&&C(s,i)}}catch(t){e.status="rejected",e.reason=t}finally{P=t,O=r}}function N(e){try{var t=e.value,r=globalThis.__next_require__(t[0]);if(4===t.length&&"function"==typeof r.then){if("fulfilled"===r.status)r=r.value;else throw r.reason}var n="*"===t[2]?r:""===t[2]?r.__esModule?r.default:r:r[t[2]];e.status="fulfilled",e.value=n}catch(t){e.status="rejected",e.reason=t}}function D(e,t){e._chunks.forEach(function(e){"pending"===e.status&&R(e,t)})}function M(e,t){var r=e._chunks,n=r.get(t);return n||(n=new x("pending",null,null,e),r.set(t,n)),n}function L(e,t){if("resolved_model"===(e=M(e,t)).status&&A(e),"fulfilled"===e.status)return e.value;throw e.reason}function j(){throw Error('Trying to call a function from "use server" but the callServer option was not implemented in your router runtime.')}function $(){throw Error("Server Functions cannot be called during initial render. This would create a fetch waterfall. Try to use a Server Component to pass data to Client Components instead.")}function F(e){var t,r=e.ssrManifest.moduleMap;return(r={_bundlerConfig:r,_moduleLoading:e.ssrManifest.moduleLoading,_callServer:void 0!==$?$:j,_encodeFormAction:e.encodeFormAction,_nonce:e="string"==typeof e.nonce?e.nonce:void 0,_chunks:new Map,_stringDecoder:new TextDecoder,_fromJSON:null,_rowState:0,_rowID:0,_rowTag:0,_rowLength:0,_buffer:[]})._fromJSON=(t=r,function(e,r){return"string"==typeof r?function(e,t,r,n){if("$"===n[0]){if("$"===n)return u;switch(n[1]){case"$":return n.slice(1);case"L":return{$$typeof:c,_payload:e=M(e,t=parseInt(n.slice(2),16)),_init:T};case"@":if(2===n.length)return new Promise(function(){});return M(e,t=parseInt(n.slice(2),16));case"S":return Symbol.for(n.slice(2));case"F":return t=L(e,t=parseInt(n.slice(2),16)),function(e,t){function r(){var e=Array.prototype.slice.call(arguments),r=t.bound;return r?"fulfilled"===r.status?n(t.id,r.value.concat(e)):Promise.resolve(r).then(function(r){return n(t.id,r.concat(e))}):n(t.id,e)}var n=e._callServer;return w(r,t,e._encodeFormAction),r}(e,t);case"Q":return new Map(e=L(e,t=parseInt(n.slice(2),16)));case"W":return new Set(e=L(e,t=parseInt(n.slice(2),16)));case"I":return 1/0;case"-":return"$-0"===n?-0:-1/0;case"N":return NaN;case"u":return;case"D":return new Date(Date.parse(n.slice(2)));case"n":return BigInt(n.slice(2));default:switch((e=M(e,n=parseInt(n.slice(1),16))).status){case"resolved_model":A(e);break;case"resolved_module":N(e)}switch(e.status){case"fulfilled":return e.value;case"pending":case"blocked":case"cyclic":var i;return n=P,e.then(function(e,t,r,n){if(O){var i=O;n||i.deps++}else i=O={deps:n?0:1,value:null};return function(n){t[r]=n,i.deps--,0===i.deps&&"blocked"===e.status&&(n=e.value,e.status="fulfilled",e.value=i.value,null!==n&&C(n,i.value))}}(n,t,r,"cyclic"===e.status),(i=n,function(e){return R(i,e)})),null;default:throw e.reason}}}return n}(t,this,e,r):"object"==typeof r&&null!==r?e=r[0]===u?{$$typeof:u,type:r[1],key:r[2],ref:null,props:r[3],_owner:null}:r:r}),r}function U(e,t){function n(t){D(e,t)}var u=t.getReader();u.read().then(function t(c){var h=c.value;if(c.done)D(e,Error("Connection closed."));else{var d=0,f=e._rowState,p=e._rowID,g=e._rowTag,m=e._rowLength;c=e._buffer;for(var y=h.length;d<y;){var v=-1;switch(f){case 0:58===(v=h[d++])?f=1:p=p<<4|(96<v?v-87:v-48);continue;case 1:84===(f=h[d])?(g=f,f=2,d++):64<f&&91>f?(g=f,f=3,d++):(g=0,f=3);continue;case 2:44===(v=h[d++])?f=4:m=m<<4|(96<v?v-87:v-48);continue;case 3:v=h.indexOf(10,d);break;case 4:(v=d+m)>h.length&&(v=-1)}var b=h.byteOffset+d;if(-1<v){d=new Uint8Array(h.buffer,b,v-d),m=e,b=g;var w=m._stringDecoder;g="";for(var _=0;_<c.length;_++)g+=w.decode(c[_],i);switch(g+=w.decode(d),b){case 73:!function(e,t,n){var i=e._chunks,u=i.get(t);n=JSON.parse(n,e._fromJSON);var c=function(e,t){if(e){var r=e[t[0]];if(e=r[t[2]])r=e.name;else{if(!(e=r["*"]))throw Error('Could not find the module "'+t[0]+'" in the React SSR Manifest. This is probably a bug in the React Server Components bundler.');r=t[2]}return 4===t.length?[e.id,e.chunks,r,1]:[e.id,e.chunks,r]}return t}(e._bundlerConfig,n);if(!function(e,t,r){if(null!==e)for(var n=1;n<t.length;n+=2){var i=l.current;if(i){var s=i.preinitScript,a=e.prefix+t[n],o=e.crossOrigin;o="string"==typeof o?"use-credentials"===o?o:"":void 0,s.call(i,a,{crossOrigin:o,nonce:r})}}}(e._moduleLoading,n[1],e._nonce),n=function(e){for(var t=e[1],n=[],i=0;i<t.length;){var l=t[i++];t[i++];var u=s.get(l);if(void 0===u){u=r.e(l),n.push(u);var c=s.set.bind(s,l,null);u.then(c,o),s.set(l,u)}else null!==u&&n.push(u)}return 4===e.length?0===n.length?a(e[0]):Promise.all(n).then(function(){return a(e[0])}):0<n.length?Promise.all(n):null}(c)){if(u){var h=u;h.status="blocked"}else h=new x("blocked",null,null,e),i.set(t,h);n.then(function(){return k(h,c)},function(e){return R(h,e)})}else u?k(u,c):i.set(t,new x("resolved_module",c,null,e))}(m,p,g);break;case 72:if(p=g[0],m=JSON.parse(g=g.slice(1),m._fromJSON),g=l.current)switch(p){case"D":g.prefetchDNS(m);break;case"C":"string"==typeof m?g.preconnect(m):g.preconnect(m[0],m[1]);break;case"L":p=m[0],d=m[1],3===m.length?g.preload(p,d,m[2]):g.preload(p,d);break;case"m":"string"==typeof m?g.preloadModule(m):g.preloadModule(m[0],m[1]);break;case"S":"string"==typeof m?g.preinitStyle(m):g.preinitStyle(m[0],0===m[1]?void 0:m[1],3===m.length?m[2]:void 0);break;case"X":"string"==typeof m?g.preinitScript(m):g.preinitScript(m[0],m[1]);break;case"M":"string"==typeof m?g.preinitModuleScript(m):g.preinitModuleScript(m[0],m[1])}break;case 69:d=(g=JSON.parse(g)).digest,(g=Error("An error occurred in the Server Components render. The specific message is omitted in production builds to avoid leaking sensitive details. A digest property is included on this error instance which may provide additional details about the nature of the error.")).stack="Error: "+g.message,g.digest=d,(b=(d=m._chunks).get(p))?R(b,g):d.set(p,new x("rejected",null,g,m));break;case 84:m._chunks.set(p,new x("fulfilled",g,null,m));break;case 68:case 87:throw Error("Failed to read a RSC payload created by a development version of React on the server while using a production version on the client. Always use matching versions on the server and the client.");default:(b=(d=m._chunks).get(p))?(m=b,p=g,"pending"===m.status&&(g=m.value,d=m.reason,m.status="resolved_model",m.value=p,null!==g&&(A(m),I(m,g,d)))):d.set(p,new x("resolved_model",g,null,m))}d=v,3===f&&d++,m=p=g=f=0,c.length=0}else{h=new Uint8Array(h.buffer,b,h.byteLength-d),c.push(h),m-=h.byteLength;break}}return e._rowState=f,e._rowID=p,e._rowTag=g,e._rowLength=m,u.read().then(t).catch(n)}}).catch(n)}t.createFromFetch=function(e,t){var r=F(t);return e.then(function(e){U(r,e.body)},function(e){D(r,e)}),M(r,0)},t.createFromReadableStream=function(e,t){return U(t=F(t),e),M(t,0)},t.createServerReference=function(e){return function(e,t,r){function n(){var r=Array.prototype.slice.call(arguments);return t(e,r)}return w(n,{id:e,bound:null},r),n}(e,$)},t.encodeReply=function(e){return new Promise(function(t,r){m(e,"",t,r)})}},2505:(e,t,r)=>{"use strict";e.exports=r(4174)},1112:(e,t,r)=>{"use strict";var n=r(9220),i=Symbol.for("react.element"),s=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,o=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner;function l(e,t,r){var n,s={},l=null,u=null;for(n in void 0!==r&&(l=""+r),void 0!==t.key&&(l=""+t.key),void 0!==t.ref&&(u=t.ref),t)a.call(t,n)&&"key"!==n&&"ref"!==n&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps)void 0===s[n]&&(s[n]=t[n]);return{$$typeof:i,type:e,key:l,ref:u,props:s,_owner:o.current}}t.Fragment=s,t.jsx=l,t.jsxs=l},2795:(e,t)=>{"use strict";var r=Symbol.for("react.element"),n=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.iterator,p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,m={};function y(e,t,r){this.props=e,this.context=t,this.refs=m,this.updater=r||p}function v(){}function b(e,t,r){this.props=e,this.context=t,this.refs=m,this.updater=r||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=y.prototype;var w=b.prototype=new v;w.constructor=b,g(w,y.prototype),w.isPureReactComponent=!0;var _=Array.isArray,S={current:null},E={current:null},x={transition:null},T={ReactCurrentDispatcher:S,ReactCurrentCache:E,ReactCurrentBatchConfig:x,ReactCurrentOwner:{current:null}},C=Object.prototype.hasOwnProperty,I=T.ReactCurrentOwner;function R(e,t,n){var i,s={},a=null,o=null;if(null!=t)for(i in void 0!==t.ref&&(o=t.ref),void 0!==t.key&&(a=""+t.key),t)C.call(t,i)&&"key"!==i&&"ref"!==i&&"__self"!==i&&"__source"!==i&&(s[i]=t[i]);var l=arguments.length-2;if(1===l)s.children=n;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];s.children=u}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===s[i]&&(s[i]=l[i]);return{$$typeof:r,type:e,key:a,ref:o,props:s,_owner:I.current}}function k(e){return"object"==typeof e&&null!==e&&e.$$typeof===r}var P=/\/+/g;function O(e,t){var r,n;return"object"==typeof e&&null!==e&&null!=e.key?(r=""+e.key,n={"=":"=0",":":"=2"},"$"+r.replace(/[=:]/g,function(e){return n[e]})):t.toString(36)}function A(){}function N(e,t,i){if(null==e)return e;var s=[],a=0;return!function e(t,i,s,a,o){var l,u,c,h=typeof t;("undefined"===h||"boolean"===h)&&(t=null);var p=!1;if(null===t)p=!0;else switch(h){case"string":case"number":p=!0;break;case"object":switch(t.$$typeof){case r:case n:p=!0;break;case d:return e((p=t._init)(t._payload),i,s,a,o)}}if(p)return o=o(t),p=""===a?"."+O(t,0):a,_(o)?(s="",null!=p&&(s=p.replace(P,"$&/")+"/"),e(o,i,s,"",function(e){return e})):null!=o&&(k(o)&&(l=o,u=s+(!o.key||t&&t.key===o.key?"":(""+o.key).replace(P,"$&/")+"/")+p,o={$$typeof:r,type:l.type,key:u,ref:l.ref,props:l.props,_owner:l._owner}),i.push(o)),1;p=0;var g=""===a?".":a+":";if(_(t))for(var m=0;m<t.length;m++)h=g+O(a=t[m],m),p+=e(a,i,s,h,o);else if("function"==typeof(m=null===(c=t)||"object"!=typeof c?null:"function"==typeof(c=f&&c[f]||c["@@iterator"])?c:null))for(t=m.call(t),m=0;!(a=t.next()).done;)h=g+O(a=a.value,m++),p+=e(a,i,s,h,o);else if("object"===h){if("function"==typeof t.then)return e(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"==typeof e.status?e.then(A,A):(e.status="pending",e.then(function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)},function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(t),i,s,a,o);throw Error("Objects are not valid as a React child (found: "+("[object Object]"===(i=String(t))?"object with keys {"+Object.keys(t).join(", ")+"}":i)+"). If you meant to render a collection of children, use an array instead.")}return p}(e,s,"","",function(e){return t.call(i,e,a++)}),s}function D(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){(0===e._status||-1===e._status)&&(e._status=1,e._result=t)},function(t){(0===e._status||-1===e._status)&&(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}function M(){return new WeakMap}function L(){return{s:0,v:void 0,o:null,p:null}}function j(){}var $="function"==typeof reportError?reportError:function(e){console.error(e)};t.Children={map:N,forEach:function(e,t,r){N(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return N(e,function(){t++}),t},toArray:function(e){return N(e,function(e){return e})||[]},only:function(e){if(!k(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=a,t.PureComponent=b,t.StrictMode=s,t.Suspense=c,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=T,t.act=function(){throw Error("act(...) is not supported in production builds of React.")},t.cache=function(e){return function(){var t=E.current;if(!t)return e.apply(null,arguments);var r=t.getCacheForType(M);void 0===(t=r.get(e))&&(t=L(),r.set(e,t)),r=0;for(var n=arguments.length;r<n;r++){var i=arguments[r];if("function"==typeof i||"object"==typeof i&&null!==i){var s=t.o;null===s&&(t.o=s=new WeakMap),void 0===(t=s.get(i))&&(t=L(),s.set(i,t))}else null===(s=t.p)&&(t.p=s=new Map),void 0===(t=s.get(i))&&(t=L(),s.set(i,t))}if(1===t.s)return t.v;if(2===t.s)throw t.v;try{var a=e.apply(null,arguments);return(r=t).s=1,r.v=a}catch(e){throw(a=t).s=2,a.v=e,e}}},t.cloneElement=function(e,t,n){if(null==e)throw Error("The argument must be a React element, but you passed "+e+".");var i=g({},e.props),s=e.key,a=e.ref,o=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,o=I.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(u in t)C.call(t,u)&&"key"!==u&&"ref"!==u&&"__self"!==u&&"__source"!==u&&(i[u]=void 0===t[u]&&void 0!==l?l[u]:t[u])}var u=arguments.length-2;if(1===u)i.children=n;else if(1<u){l=Array(u);for(var c=0;c<u;c++)l[c]=arguments[c+2];i.children=l}return{$$typeof:r,type:e.type,key:s,ref:a,props:i,_owner:o}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=R,t.createFactory=function(e){var t=R.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=k,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:D}},t.memo=function(e,t){return{$$typeof:h,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=x.transition,r=new Set;x.transition={_callbacks:r};var n=x.transition;try{var i=e();"object"==typeof i&&null!==i&&"function"==typeof i.then&&(r.forEach(function(e){return e(n,i)}),i.then(j,$))}catch(e){$(e)}finally{x.transition=t}},t.unstable_useCacheRefresh=function(){return S.current.useCacheRefresh()},t.use=function(e){return S.current.use(e)},t.useCallback=function(e,t){return S.current.useCallback(e,t)},t.useContext=function(e){return S.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e,t){return S.current.useDeferredValue(e,t)},t.useEffect=function(e,t){return S.current.useEffect(e,t)},t.useId=function(){return S.current.useId()},t.useImperativeHandle=function(e,t,r){return S.current.useImperativeHandle(e,t,r)},t.useInsertionEffect=function(e,t){return S.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return S.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return S.current.useMemo(e,t)},t.useOptimistic=function(e,t){return S.current.useOptimistic(e,t)},t.useReducer=function(e,t,r){return S.current.useReducer(e,t,r)},t.useRef=function(e){return S.current.useRef(e)},t.useState=function(e){return S.current.useState(e)},t.useSyncExternalStore=function(e,t,r){return S.current.useSyncExternalStore(e,t,r)},t.useTransition=function(){return S.current.useTransition()},t.version="18.3.0-canary-178c267a4e-20241218"},9220:(e,t,r)=>{"use strict";e.exports=r(2795)},926:(e,t,r)=>{"use strict";e.exports=r(1112)},5650:e=>{(()=>{"use strict";var t={328:e=>{e.exports=function(e){for(var t=5381,r=e.length;r;)t=33*t^e.charCodeAt(--r);return t>>>0}}},r={};function n(e){var i=r[e];if(void 0!==i)return i.exports;var s=r[e]={exports:{}},a=!0;try{t[e](s,s.exports,n),a=!1}finally{a&&delete r[e]}return s.exports}n.ab="//";var i=n(328);e.exports=i})()},815:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n.default});var n=r(6924)},7106:(e,t,r)=>{"use strict";r.d(t,{O4:()=>c,ZK:()=>l,vU:()=>o});var n=r(3e3);let i={wait:(0,n.ix)((0,n.Se)("")),error:(0,n.Q6)((0,n.Se)("")),warn:(0,n.er)((0,n.Se)("")),ready:"",info:(0,n.ix)((0,n.Se)(" ")),event:(0,n.ek)((0,n.Se)("")),trace:(0,n.Ce)((0,n.Se)("\xbb"))},s={log:"log",warn:"warn",error:"error"};function a(e,...t){(""===t[0]||void 0===t[0])&&1===t.length&&t.shift();let r=e in s?s[e]:"log",n=i[e];0===t.length?console[r](""):console[r](" "+n,...t)}function o(...e){a("error",...e)}function l(...e){a("warn",...e)}let u=new Set;function c(...e){u.has(e[0])||(u.add(e.join(" ")),l(...e))}},2553:(e,t,r)=>{var n;function i(){throw Error("Internal Error: do not use legacy react-dom/server APIs. If you encountered this error, please open an issue on the Next.js repo.")}n=r(1880),t.version=n.version,t.renderToReadableStream=n.renderToReadableStream,t.renderToNodeStream=n.renderToNodeStream,t.renderToStaticNodeStream=n.renderToStaticNodeStream,t.renderToString=i,t.renderToStaticMarkup=i,n.resume&&(t.resume=n.resume)},518:(e,t,r)=>{"use strict";r.d(t,{d:()=>ta});var n,i=r(7506);Error("Invariant: AsyncLocalStorage accessed in runtime where it is not available"),globalThis.AsyncLocalStorage;let s=Symbol.for("@next/request-context");var a=r(4737);let o="(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])",l=`(${o}[.]){3}${o}`,u="(?:[0-9a-fA-F]{1,4})",c=RegExp(`^((?:${u}:){7}(?:${u}|:)|(?:${u}:){6}(?:${l}|:${u}|:)|(?:${u}:){5}(?::${l}|(:${u}){1,2}|:)|(?:${u}:){4}(?:(:${u}){0,1}:${l}|(:${u}){1,3}|:)|(?:${u}:){3}(?:(:${u}){0,2}:${l}|(:${u}){1,4}|:)|(?:${u}:){2}(?:(:${u}){0,3}:${l}|(:${u}){1,5}|:)|(?:${u}:){1}(?:(:${u}){0,4}:${l}|(:${u}){1,6}|:)|(?::((?::${u}){0,5}:${l}|(?::${u}){1,7}|:)))(%[0-9a-zA-Z-.:]{1,})?$`);var h=r(8613);function d(e){return e.statusCode||(e.permanent?h.X.PermanentRedirect:h.X.TemporaryRedirect)}var f=r(7580);r(8027);let p={client:"client",server:"server",edgeServer:"edge-server"};p.client,p.server,p.edgeServer;let g="/_not-found",m=""+g+"/page",y="pages-manifest.json",v="app-paths-manifest.json",b="server",w=["/_document","/_app","/_error"];Symbol("polyfills");let _=["/500"];var S=r(8631),E=r(1057);function x({revalidate:e,swrDelta:t}){let r=t?`stale-while-revalidate=${t}`:"stale-while-revalidate";return 0===e?"private, no-cache, no-store, max-age=0, must-revalidate":"number"==typeof e?`s-maxage=${e}, ${r}`:`s-maxage=${f.BR}, ${r}`}var T=r(9022),C=r(2650),I=r(9558);function R(e){let t=e.replace(/\\/g,"/");return t.startsWith("/index/")&&!(0,S.$)(t)?t.slice(6):"/index"!==t?t:"/"}var k=r(7106),P=r(3786),O=r(7278);function A(e,t){let r=[],n=(0,O.Bo)(e,r,{delimiter:"/",sensitive:"boolean"==typeof(null==t?void 0:t.sensitive)&&t.sensitive,strict:null==t?void 0:t.strict}),i=(0,O.WS)((null==t?void 0:t.regexModifier)?new RegExp(t.regexModifier(n.source),n.flags):n,r);return(e,n)=>{if("string"!=typeof e)return!1;let s=i(e);if(!s)return!1;if(null==t?void 0:t.removeUnnamedParams)for(let e of r)"number"==typeof e.name&&delete s.params[e.name];return{...n,...s.params}}}var N=r(9963),D=r(8215),M=r(5374),L=r(6037);function j(e){if(e.startsWith("/"))return function(e,t){let r=new URL("http://n"),n=e.startsWith(".")?new URL("http://n"):r,{pathname:i,searchParams:s,search:a,hash:o,href:l,origin:u}=new URL(e,n);if(u!==r.origin)throw Error("invariant: invalid relative URL, router received "+e);return{pathname:i,query:(0,L.u5)(s),search:a,hash:o,href:l.slice(r.origin.length)}}(e);let t=new URL(e);return{hash:t.hash,hostname:t.hostname,href:t.href,pathname:t.pathname,port:t.port,protocol:t.protocol,query:(0,L.u5)(t.searchParams),search:t.search}}var $=r(9567),F=r(9338);function U(e){return function(){let{cookie:t}=e;if(!t)return{};let{parse:n}=r(3143);return n(Array.isArray(t)?t.join("; "):t)}}function V(e){return e.replace(/__ESC_COLON_/gi,":")}function B(e,t){if(!e.includes(":"))return e;for(let r of Object.keys(t))e.includes(":"+r)&&(e=e.replace(RegExp(":"+r+"\\*","g"),":"+r+"--ESCAPED_PARAM_ASTERISKS").replace(RegExp(":"+r+"\\?","g"),":"+r+"--ESCAPED_PARAM_QUESTION").replace(RegExp(":"+r+"\\+","g"),":"+r+"--ESCAPED_PARAM_PLUS").replace(RegExp(":"+r+"(?!\\w)","g"),"--ESCAPED_PARAM_COLON"+r));return e=e.replace(/(:|\*|\?|\+|\(|\)|\{|\})/g,"\\$1").replace(/--ESCAPED_PARAM_PLUS/g,"+").replace(/--ESCAPED_PARAM_COLON/g,":").replace(/--ESCAPED_PARAM_QUESTION/g,"?").replace(/--ESCAPED_PARAM_ASTERISKS/g,"*"),(0,O.MY)("/"+e,{validate:!1})(t).slice(1)}var q=r(1959);function z(e,t,r,n,i){if(n&&t&&i){let t=(0,a.parse)(e.url,!0);for(let e of(delete t.search,Object.keys(t.query)))(e!==f.dN&&e.startsWith(f.dN)||(r||Object.keys(i.groups)).includes(e))&&delete t.query[e];e.url=(0,a.format)(t)}}function H(e,t,r){if(!r)return e;for(let n of Object.keys(r.groups)){let{optional:i,repeat:s}=r.groups[n],a=`[${s?"...":""}${n}]`;i&&(a=`[${a}]`);let o=e.indexOf(a);if(o>-1){let r;let i=t[n];r=Array.isArray(i)?i.map(e=>e&&encodeURIComponent(e)).join("/"):i?encodeURIComponent(i):"",e=e.slice(0,o)+r+e.slice(o+a.length)}}return e}function G(e,t,r,n){let i=!0;return r?{params:e=Object.keys(r.groups).reduce((s,a)=>{let o=e[a];"string"==typeof o&&(o=(0,q.b)(o)),Array.isArray(o)&&(o=o.map(e=>("string"==typeof e&&(e=(0,q.b)(e)),e)));let l=n[a],u=r.groups[a].optional;return((Array.isArray(l)?l.some(e=>Array.isArray(o)?o.some(t=>t.includes(e)):null==o?void 0:o.includes(e)):null==o?void 0:o.includes(l))||void 0===o&&!(u&&t))&&(i=!1),u&&(!o||Array.isArray(o)&&1===o.length&&("index"===o[0]||o[0]===`[[...${a}]]`))&&(o=void 0,delete e[a]),o&&"string"==typeof o&&r.groups[a].repeat&&(o=o.split("/")),o&&(s[a]=o),s},{}),hasValidParams:i}:{params:e,hasValidParams:!1}}function W(e){return"object"==typeof e&&null!==e&&"name"in e&&"message"in e}function K(e){return W(e)?e:Error(!function(e){if("[object Object]"!==Object.prototype.toString.call(e))return!1;let t=Object.getPrototypeOf(e);return null===t||t.hasOwnProperty("isPrototypeOf")}(e)?e+"":JSON.stringify(e))}var J=r(2070),X=r(7274),Y=r(9556),Q=r(4372);class Z{constructor(e){this.provider=e}normalize(e){return this.provider.analyze(e).pathname}}class ee{insert(e){this._insert(e.split("/").filter(Boolean),[],!1)}smoosh(){return this._smoosh()}_smoosh(e){void 0===e&&(e="/");let t=[...this.children.keys()].sort();null!==this.slugName&&t.splice(t.indexOf("[]"),1),null!==this.restSlugName&&t.splice(t.indexOf("[...]"),1),null!==this.optionalRestSlugName&&t.splice(t.indexOf("[[...]]"),1);let r=t.map(t=>this.children.get(t)._smoosh(""+e+t+"/")).reduce((e,t)=>[...e,...t],[]);if(null!==this.slugName&&r.push(...this.children.get("[]")._smoosh(e+"["+this.slugName+"]/")),!this.placeholder){let t="/"===e?"/":e.slice(0,-1);if(null!=this.optionalRestSlugName)throw Error('You cannot define a route with the same specificity as a optional catch-all route ("'+t+'" and "'+t+"[[..."+this.optionalRestSlugName+']]").');r.unshift(t)}return null!==this.restSlugName&&r.push(...this.children.get("[...]")._smoosh(e+"[..."+this.restSlugName+"]/")),null!==this.optionalRestSlugName&&r.push(...this.children.get("[[...]]")._smoosh(e+"[[..."+this.optionalRestSlugName+"]]/")),r}_insert(e,t,r){if(0===e.length){this.placeholder=!1;return}if(r)throw Error("Catch-all must be the last part of the URL.");let n=e[0];if(n.startsWith("[")&&n.endsWith("]")){let s=n.slice(1,-1),a=!1;if(s.startsWith("[")&&s.endsWith("]")&&(s=s.slice(1,-1),a=!0),s.startsWith("...")&&(s=s.substring(3),r=!0),s.startsWith("[")||s.endsWith("]"))throw Error("Segment names may not start or end with extra brackets ('"+s+"').");if(s.startsWith("."))throw Error("Segment names may not start with erroneous periods ('"+s+"').");function i(e,r){if(null!==e&&e!==r)throw Error("You cannot use different slug names for the same dynamic path ('"+e+"' !== '"+r+"').");t.forEach(e=>{if(e===r)throw Error('You cannot have the same slug name "'+r+'" repeat within a single dynamic path');if(e.replace(/\W/g,"")===n.replace(/\W/g,""))throw Error('You cannot have the slug names "'+e+'" and "'+r+'" differ only by non-word symbols within a single dynamic path')}),t.push(r)}if(r){if(a){if(null!=this.restSlugName)throw Error('You cannot use both an required and optional catch-all route at the same level ("[...'+this.restSlugName+']" and "'+e[0]+'" ).');i(this.optionalRestSlugName,s),this.optionalRestSlugName=s,n="[[...]]"}else{if(null!=this.optionalRestSlugName)throw Error('You cannot use both an optional and required catch-all route at the same level ("[[...'+this.optionalRestSlugName+']]" and "'+e[0]+'").');i(this.restSlugName,s),this.restSlugName=s,n="[...]"}}else{if(a)throw Error('Optional route parameters are not yet supported ("'+e[0]+'").');i(this.slugName,s),this.slugName=s,n="[]"}}this.children.has(n)||this.children.set(n,new ee),this.children.get(n)._insert(e.slice(1),t,r)}constructor(){this.placeholder=!0,this.children=new Map,this.slugName=null,this.restSlugName=null,this.optionalRestSlugName=null}}class et{constructor(e){this.definition=e,(0,S.$)(e.pathname)&&(this.dynamic=(0,D.t)((0,N.vG)(e.pathname)))}get identity(){return this.definition.pathname}get isDynamic(){return void 0!==this.dynamic}match(e){let t=this.test(e);return t?{definition:this.definition,params:t.params}:null}test(e){if(this.dynamic){let t=this.dynamic(e);return t?{params:t}:null}return e===this.definition.pathname?{}:null}}class er extends et{get identity(){var e;return`${this.definition.pathname}?__nextLocale=${null==(e=this.definition.i18n)?void 0:e.locale}`}match(e,t){var r,n;let i=this.test(e,t);return i?{definition:this.definition,params:i.params,detectedLocale:(null==t?void 0:null==(r=t.i18n)?void 0:r.detectedLocale)??(null==(n=this.definition.i18n)?void 0:n.locale)}:null}test(e,t){return this.definition.i18n&&(null==t?void 0:t.i18n)?this.definition.i18n.locale&&t.i18n.detectedLocale&&this.definition.i18n.locale!==t.i18n.detectedLocale?null:super.test(t.i18n.pathname):super.test(e)}}var en=r(9951),ei=r(4439);class es{get compilationID(){return this.providers.length}async waitTillReady(){this.waitTillReadyPromise&&(await this.waitTillReadyPromise,delete this.waitTillReadyPromise)}async reload(){let{promise:e,resolve:t,reject:r}=new ei.Y;this.waitTillReadyPromise=e;let n=this.compilationID;try{let e=[],t=await Promise.all(this.providers.map(e=>e.matchers())),r=new Map,i={};for(let n of t)for(let t of n){t.duplicated&&delete t.duplicated;let n=r.get(t.definition.pathname);if(n){let e=i[t.definition.pathname]??[n];e.push(t),i[t.definition.pathname]=e,n.duplicated=e,t.duplicated=e}e.push(t),r.set(t.definition.pathname,t)}if(this.matchers.duplicates=i,this.previousMatchers.length===e.length&&this.previousMatchers.every((t,r)=>t===e[r]))return;this.previousMatchers=e,this.matchers.static=e.filter(e=>!e.isDynamic);let s=e.filter(e=>e.isDynamic),a=new Map,o=[];for(let e=0;e<s.length;e++){let t=s[e].definition.pathname,r=a.get(t)??[];r.push(e),1===r.length&&(a.set(t,r),o.push(t))}let l=function(e){let t=new ee;return e.forEach(e=>t.insert(e)),t.smoosh()}(o),u=[];for(let e of l){let t=a.get(e);if(!Array.isArray(t))throw Error("Invariant: expected to find identity in indexes map");let r=t.map(e=>s[e]);u.push(...r)}if(this.matchers.dynamic=u,this.compilationID!==n)throw Error("Invariant: expected compilation to finish before new matchers were added, possible missing await")}catch(e){r(e)}finally{this.lastCompilationID=n,t()}}push(e){this.providers.push(e)}async test(e,t){return null!==await this.match(e,t)}async match(e,t){for await(let r of this.matchAll(e,t))return r;return null}validate(e,t,r){var n;return t instanceof er?t.match(e,r):(null==(n=r.i18n)?void 0:n.inferredFromDefault)?t.match(r.i18n.pathname):t.match(e)}async *matchAll(e,t){if(this.lastCompilationID!==this.compilationID)throw Error("Invariant: expected routes to have been loaded before match");if(e=(0,en.e)(e),!(0,S.$)(e))for(let r of this.matchers.static){let n=this.validate(e,r,t);n&&(yield n)}if(null==t?void 0:t.skipDynamic)return null;for(let r of this.matchers.dynamic){let n=this.validate(e,r,t);n&&(yield n)}return null}constructor(){this.providers=[],this.matchers={static:[],dynamic:[],duplicates:{}},this.lastCompilationID=this.compilationID,this.previousMatchers=[]}}class ea{constructor(e=[]){this.normalizers=e}push(e){this.normalizers.push(e)}normalize(e){return this.normalizers.reduce((e,t)=>t.normalize(e),e)}}var eo=r(3889),el=r.n(eo);class eu{constructor(...e){this.prefix=el().posix.join(...e)}normalize(e){return el().posix.join(this.prefix,e)}}var ec=r(6419);class eh extends eu{constructor(){super("app")}normalize(e){return super.normalize((0,ec.y)(e))}}class ed extends eu{constructor(e){super(e,b)}normalize(e){return super.normalize(e)}}r(9094);function ef(e){return{normalize:e}}r(1958);class ep{normalize(e){return e.replace(/%5F/g,"_")}}class eg extends ea{constructor(){super([ef(q.w),new ep])}normalize(e){return super.normalize(e)}}class em{constructor(e){this.filename=new ed(e),this.pathname=new eg,this.bundlePath=new eh}}!function(e){e.PAGES="PAGES",e.PAGES_API="PAGES_API",e.APP_PAGE="APP_PAGE",e.APP_ROUTE="APP_ROUTE"}(n||(n={}));class ey extends et{get identity(){return`${this.definition.pathname}?__nextPage=${this.definition.page}`}}class ev{constructor(e){this.loader=e,this.cached=[]}async matchers(){let e=await this.loader.load();if(!e)return[];if(this.data&&this.loader.compare(this.data,e))return this.cached;this.data=e;let t=await this.transform(e);return this.cached=t,t}}class eb extends ev{constructor(e,t){super({load:async()=>t.load(e),compare:(e,t)=>e===t})}}class ew extends eb{constructor(e,t){super(v,t),this.normalizers=new em(e)}async transform(e){let t=Object.keys(e).filter(e=>e.endsWith("/page")),r={};for(let e of t){let t=this.normalizers.pathname.normalize(e);t in r?r[t].push(e):r[t]=[e]}let i=[];for(let[t,s]of Object.entries(r)){let r=s[0],a=this.normalizers.filename.normalize(e[r]),o=this.normalizers.bundlePath.normalize(r);i.push(new ey({kind:n.APP_PAGE,pathname:t,page:r,bundlePath:o,filename:a,appPaths:s}))}return i}}class e_ extends et{}class eS extends eb{constructor(e,t){super(v,t),this.normalizers=new em(e)}async transform(e){let t=Object.keys(e).filter(e=>e.endsWith("/route")),r=[];for(let i of t){let t=this.normalizers.filename.normalize(e[i]),s=this.normalizers.pathname.normalize(i),a=this.normalizers.bundlePath.normalize(i);r.push(new e_({kind:n.APP_ROUTE,pathname:s,page:i,bundlePath:a,filename:t}))}return r}}function eE(e){return"/api"===e||!!(null==e?void 0:e.startsWith("/api/"))}class ex extends et{}class eT extends er{}class eC extends ea{constructor(){super([ef(ec.y),new eu("pages")])}normalize(e){return super.normalize(e)}}class eI extends eu{constructor(e){super(e,b)}normalize(e){return super.normalize(e)}}class eR{constructor(e){this.filename=new eI(e),this.bundlePath=new eC}}class ek extends eb{constructor(e,t,r){super(y,t),this.i18nProvider=r,this.normalizers=new eR(e)}async transform(e){let t=Object.keys(e).filter(e=>eE(e)),r=[];for(let i of t)if(this.i18nProvider){let{detectedLocale:t,pathname:s}=this.i18nProvider.analyze(i);r.push(new eT({kind:n.PAGES_API,pathname:s,page:i,bundlePath:this.normalizers.bundlePath.normalize(i),filename:this.normalizers.filename.normalize(e[i]),i18n:{locale:t}}))}else r.push(new ex({kind:n.PAGES_API,pathname:i,page:i,bundlePath:this.normalizers.bundlePath.normalize(i),filename:this.normalizers.filename.normalize(e[i])}));return r}}class eP extends et{}class eO extends er{}class eA extends eb{constructor(e,t,r){super(y,t),this.i18nProvider=r,this.normalizers=new eR(e)}async transform(e){let t=Object.keys(e).filter(e=>!eE(e)).filter(e=>{var t;let r=(null==(t=this.i18nProvider)?void 0:t.analyze(e).pathname)??e;return!w.includes(r)}),r=[];for(let i of t)if(this.i18nProvider){let{detectedLocale:t,pathname:s}=this.i18nProvider.analyze(i);r.push(new eO({kind:n.PAGES,pathname:s,page:i,bundlePath:this.normalizers.bundlePath.normalize(i),filename:this.normalizers.filename.normalize(e[i]),i18n:{locale:t}}))}else r.push(new eP({kind:n.PAGES,pathname:i,page:i,bundlePath:this.normalizers.bundlePath.normalize(i),filename:this.normalizers.filename.normalize(e[i])}));return r}}class eN{constructor(e){this.getter=e}load(e){return this.getter(e)}}var eD=r(7081),eM=r(1427);class eL{constructor(e){var t;if(this.config=e,!e.locales.length)throw Error("Invariant: No locales provided");this.lowerCaseLocales=e.locales.map(e=>e.toLowerCase()),this.lowerCaseDomains=null==(t=e.domains)?void 0:t.map(e=>{var t;let r=e.domain.toLowerCase();return{defaultLocale:e.defaultLocale.toLowerCase(),hostname:r.split(":",1)[0],domain:r,locales:null==(t=e.locales)?void 0:t.map(e=>e.toLowerCase()),http:e.http}})}detectDomainLocale(e,t){if(e&&this.lowerCaseDomains&&this.config.domains){t&&(t=t.toLowerCase());for(let n=0;n<this.lowerCaseDomains.length;n++){var r;let i=this.lowerCaseDomains[n];if(i.hostname===e||(null==(r=i.locales)?void 0:r.some(e=>e===t)))return this.config.domains[n]}}}fromQuery(e,t){let r=t.__nextLocale;if(r){let t=this.analyze(e);if(t.detectedLocale){if(t.detectedLocale!==r)throw Error(`Invariant: The detected locale does not match the locale in the query. Expected to find '${r}' in '${e}' but found '${t.detectedLocale}'}`);e=t.pathname}}return{pathname:e,detectedLocale:r,inferredFromDefault:"1"===t.__nextInferredLocaleFromDefault}}validate(e){return this.lowerCaseLocales.includes(e.toLowerCase())}validateQuery(e){return(!e.__nextLocale||!!this.validate(e.__nextLocale))&&(!e.__nextDefaultLocale||!!this.validate(e.__nextDefaultLocale))}analyze(e,t={}){let r=t.defaultLocale,n="string"==typeof r,i=e.split("/",2);if(!i[1])return{detectedLocale:r,pathname:e,inferredFromDefault:n};let s=i[1].toLowerCase(),a=this.lowerCaseLocales.indexOf(s);return a<0||(r=this.config.locales[a],n=!1,e=e.slice(r.length+1)||"/"),{detectedLocale:r,pathname:e,inferredFromDefault:n}}}async function ej(e,t,r,n){}r(4009),r(3655);var e$=r(6536),eF=r(3395);let eU=A("/_next/data/:path*");class eV{constructor(e){this.suffix=e}match(e){return!!e.endsWith(this.suffix)}normalize(e,t){return t||this.match(e)?e.substring(0,e.length-this.suffix.length):e}}class eB extends eV{constructor(){super(f.hd)}}class eq{constructor(e){if(this.prefix=e,e.endsWith("/"))throw Error(`PrefixPathnameNormalizer: prefix "${e}" should not end with a slash`)}match(e){return!!(e===this.prefix||e.startsWith(this.prefix+"/"))}normalize(e,t){return t||this.match(e)?e.length===this.prefix.length?"/":e.substring(this.prefix.length):e}}class ez extends eq{constructor(){super("/_next/postponed/resume")}normalize(e,t){return t||this.match(e)?R(e=super.normalize(e,!0)):e}}class eH extends eV{constructor(){super(f.Vz)}}function eG(e){for(let[t]of F.vu)delete e[t.toLowerCase()]}class eW extends eV{constructor(){super(f.Sx)}}class eK{constructor(e){if(this.suffix=new eV(".json"),!e)throw Error("Invariant: buildID is required");this.prefix=new eq(`/_next/data/${e}`)}match(e){return this.prefix.match(e)&&this.suffix.match(e)}normalize(e,t){return t||this.match(e)?(e=this.prefix.normalize(e,!0),R(e=this.suffix.normalize(e,!0))):e}}var eJ=r(7514),eX=r(1577),eY=r(6195).Buffer;class eQ extends Error{}class eZ extends Error{constructor(e){super(),this.innerError=e}}class e0{constructor(e){var t,r,n;this.handleRSCRequest=(e,t,r)=>{var n,i;if(!r.pathname)return!1;if(null==(n=this.normalizers.prefetchRSC)?void 0:n.match(r.pathname))r.pathname=this.normalizers.prefetchRSC.normalize(r.pathname,!0),e.headers[F.A.toLowerCase()]="1",e.headers[F.qw.toLowerCase()]="1",(0,J.kL)(e,"isRSCRequest",!0),(0,J.kL)(e,"isPrefetchRSCRequest",!0);else if(null==(i=this.normalizers.rsc)?void 0:i.match(r.pathname))r.pathname=this.normalizers.rsc.normalize(r.pathname,!0),e.headers[F.A.toLowerCase()]="1",(0,J.kL)(e,"isRSCRequest",!0);else if(e.headers["x-now-route-matches"])return eG(e.headers),!1;else return!1;if(e.url){let t=(0,a.parse)(e.url);t.pathname=r.pathname,e.url=(0,a.format)(t)}return!1},this.handleNextDataRequest=async(e,t,r)=>{let n=this.getMiddleware(),i=function(e){return"string"==typeof e&&eU(e)}(r.pathname);if(!i||!i.path)return!1;if(i.path[0]!==this.buildId)return await this.render404(e,t,r),!0;i.path.shift();let s=i.path[i.path.length-1];if("string"!=typeof s||!s.endsWith(".json"))return await this.render404(e,t,r),!0;let a=`/${i.path.join("/")}`;if(a=function(e,t){return void 0===t&&(t=""),e=e.replace(/\\/g,"/"),(e=t&&e.endsWith(t)?e.slice(0,-t.length):e).startsWith("/index/")&&!(0,S.$)(e)?e=e.slice(6):"/index"===e&&(e="/"),e}(a,".json"),n&&(this.nextConfig.trailingSlash&&!a.endsWith("/")&&(a+="/"),!this.nextConfig.trailingSlash&&a.length>1&&a.endsWith("/")&&(a=a.substring(0,a.length-1))),this.i18nProvider){var o;let i=null==e?void 0:null==(o=e.headers.host)?void 0:o.split(":",1)[0].toLowerCase(),s=this.i18nProvider.detectDomainLocale(i),l=(null==s?void 0:s.defaultLocale)??this.i18nProvider.config.defaultLocale,u=this.i18nProvider.analyze(a);if(u.detectedLocale&&(a=u.pathname),r.query.__nextLocale=u.detectedLocale,r.query.__nextDefaultLocale=l,u.detectedLocale||delete r.query.__nextInferredLocaleFromDefault,!u.detectedLocale&&!n)return r.query.__nextLocale=l,await this.render404(e,t,r),!0}return r.pathname=a,r.query.__nextDataReq="1",!1},this.handleNextImageRequest=()=>!1,this.handleCatchallRenderRequest=()=>!1,this.handleCatchallMiddlewareRequest=()=>!1,this.normalize=e=>{let t=[];for(let r of(this.normalizers.data&&t.push(this.normalizers.data),this.normalizers.postponed&&t.push(this.normalizers.postponed),this.normalizers.prefetchRSC&&t.push(this.normalizers.prefetchRSC),this.normalizers.rsc&&t.push(this.normalizers.rsc),this.normalizers.action&&t.push(this.normalizers.action),t))if(r.match(e))return r.normalize(e,!0);return e},this.normalizeAndAttachMetadata=async(e,t,r)=>{let n=await this.handleNextImageRequest(e,t,r);return!!(n||this.enabledDirectories.pages&&(n=await this.handleNextDataRequest(e,t,r)))},this.prepared=!1,this.preparedPromise=null,this.customErrorNo404Warn=(0,i.gf)(()=>{k.ZK(`You have added a custom /_error page without a custom /404 page. This prevents the 404 page from being auto statically optimized.
See here for info: https://nextjs.org/docs/messages/custom-error-no-custom-404`)});let{dir:s=".",quiet:o=!1,conf:l,dev:u=!1,minimalMode:h=!1,customServer:d=!0,hostname:f,port:p,experimentalTestProxy:g}=e;this.experimentalTestProxy=g,this.serverOptions=e,this.dir=s,this.quiet=o,this.loadEnvConfig({dev:u}),this.nextConfig=l,this.hostname=f,this.hostname&&(this.fetchHostname=function(e){return c.test(e)?`[${e}]`:e}(this.hostname)),this.port=p,this.distDir=this.nextConfig.distDir,this.publicDir=this.getPublicDir(),this.hasStaticDir=!h&&this.getHasStaticDir(),this.i18nProvider=(null==(t=this.nextConfig.i18n)?void 0:t.locales)?new eL(this.nextConfig.i18n):void 0,this.localeNormalizer=this.i18nProvider?new Z(this.i18nProvider):void 0;let{serverRuntimeConfig:m={},publicRuntimeConfig:y,assetPrefix:v,generateEtags:b}=this.nextConfig;this.buildId=this.getBuildId(),this.minimalMode=h||!!process.env.NEXT_PRIVATE_MINIMAL_MODE,this.enabledDirectories=this.getEnabledDirectories(u),this.normalizers={postponed:this.enabledDirectories.app&&this.nextConfig.experimental.ppr&&this.minimalMode?new ez:void 0,rsc:this.enabledDirectories.app&&this.minimalMode?new eB:void 0,prefetchRSC:this.enabledDirectories.app&&this.nextConfig.experimental.ppr&&this.minimalMode?new eW:void 0,data:this.enabledDirectories.pages?new eK(this.buildId):void 0,action:this.enabledDirectories.app&&this.minimalMode?new eH:void 0},this.nextFontManifest=this.getNextFontManifest(),this.renderOpts={supportsDynamicResponse:!0,trailingSlash:this.nextConfig.trailingSlash,deploymentId:this.nextConfig.deploymentId,strictNextHead:!!this.nextConfig.experimental.strictNextHead,poweredByHeader:this.nextConfig.poweredByHeader,canonicalBase:this.nextConfig.amp.canonicalBase||"",buildId:this.buildId,generateEtags:b,previewProps:this.getPrerenderManifest().preview,customServer:!0===d||void 0,ampOptimizerConfig:null==(r=this.nextConfig.experimental.amp)?void 0:r.optimizer,basePath:this.nextConfig.basePath,images:this.nextConfig.images,optimizeFonts:this.nextConfig.optimizeFonts,fontManifest:this.nextConfig.optimizeFonts&&!u?this.getFontManifest():void 0,optimizeCss:this.nextConfig.experimental.optimizeCss,nextConfigOutput:this.nextConfig.output,nextScriptWorkers:this.nextConfig.experimental.nextScriptWorkers,disableOptimizedLoading:this.nextConfig.experimental.disableOptimizedLoading,domainLocales:null==(n=this.nextConfig.i18n)?void 0:n.domains,distDir:this.distDir,serverComponents:this.enabledDirectories.app,enableTainting:this.nextConfig.experimental.taint,crossOrigin:this.nextConfig.crossOrigin?this.nextConfig.crossOrigin:void 0,largePageDataBytes:this.nextConfig.experimental.largePageDataBytes,runtimeConfig:Object.keys(y).length>0?y:void 0,isExperimentalCompile:this.nextConfig.experimental.isExperimentalCompile,experimental:{ppr:this.enabledDirectories.app&&!0===this.nextConfig.experimental.ppr,missingSuspenseWithCSRBailout:!0===this.nextConfig.experimental.missingSuspenseWithCSRBailout,swrDelta:this.nextConfig.experimental.swrDelta}},this.pagesManifest=this.getPagesManifest(),this.appPathsManifest=this.getAppPathsManifest(),this.appPathRoutes=this.getAppPathRoutes(),this.interceptionRoutePatterns=this.getinterceptionRoutePatterns(),this.matchers=this.getRouteMatchers(),this.matchers.reload(),this.setAssetPrefix(v),this.responseCache=this.getResponseCache({dev:u})}reloadMatchers(){return this.matchers.reload()}getRouteMatchers(){let e=new eN(e=>{switch(e){case y:return this.getPagesManifest()??null;case v:return this.getAppPathsManifest()??null;default:return null}}),t=new es;return t.push(new eA(this.distDir,e,this.i18nProvider)),t.push(new ek(this.distDir,e,this.i18nProvider)),this.enabledDirectories.app&&(t.push(new ew(this.distDir,e)),t.push(new eS(this.distDir,e))),t}logError(e){this.quiet||k.vU(e)}async handleRequest(e,t,r){await this.prepare();let n=e.method.toUpperCase(),i=e1(e)?"RSC ":"",s=(0,eD.Yz)();return s.withPropagatedContext(e.headers,()=>s.trace(eM._J.handleRequest,{spanName:`${i}${n} ${e.url}`,kind:eD.MU.SERVER,attributes:{"http.method":n,"http.target":e.url,"next.rsc":!!i}},async a=>this.handleRequestImpl(e,t,r).finally(()=>{if(!a)return;a.setAttributes({"http.status_code":t.statusCode});let e=s.getRootSpanAttributes();if(!e)return;if(e.get("next.span_type")!==eM._J.handleRequest){console.warn(`Unexpected root span type '${e.get("next.span_type")}'. Please report this Next.js issue https://github.com/vercel/next.js`);return}let r=e.get("next.route");if(r){let e=`${i}${n} ${r}`;a.setAttributes({"next.route":r,"http.route":r,"next.span_name":e}),a.updateName(e)}})))}async handleRequestImpl(e,t,r){try{var n,s,o,l,u,c,h,d,p,g;await this.matchers.waitTillReady();let m=t.originalResponse||t,y=m.setHeader.bind(m);m.setHeader=(t,r)=>{if(!m.headersSent){if("set-cookie"===t.toLowerCase()){let t=(0,J.OX)(e,"middlewareCookie");t&&Array.isArray(r)&&r.every((e,r)=>e===t[r])||(r=[...new Set([...t||[],..."string"==typeof r?[r]:Array.isArray(r)?r:[]])])}return y(t,r)}};let v=(e.url||"").split("?",1)[0];if(null==v?void 0:v.match(/(\\|\/\/)/)){let r=(0,i.U3)(e.url);t.redirect(r,308).body(r).send();return}if(!r||"object"!=typeof r){if(!e.url)throw Error("Invariant: url can not be undefined");r=(0,a.parse)(e.url,!0)}if(!r.pathname)throw Error("Invariant: pathname can't be empty");"string"==typeof r.query&&(r.query=Object.fromEntries(new URLSearchParams(r.query)));let{originalRequest:b}=e,w=null==b?void 0:b.headers["x-forwarded-proto"],_=w?"https"===w:!!(null==b?void 0:null==(n=b.socket)?void 0:n.encrypted);e.headers["x-forwarded-host"]??=e.headers.host??this.hostname,e.headers["x-forwarded-port"]??=this.port?this.port.toString():_?"443":"80",e.headers["x-forwarded-proto"]??=_?"https":"http",e.headers["x-forwarded-for"]??=null==(s=b.socket)?void 0:s.remoteAddress,(null==(o=this.i18nProvider)?void 0:o.validateQuery(r.query))||(delete r.query.__nextLocale,delete r.query.__nextDefaultLocale,delete r.query.__nextInferredLocaleFromDefault),this.attachRequestMeta(e,r);if(this.minimalMode&&this.enabledDirectories.app&&await this.handleRSCRequest(e,t,r))return;let E=null==(l=this.i18nProvider)?void 0:l.detectDomainLocale((0,Y.F)(r,e.headers)),x=(null==E?void 0:E.defaultLocale)||(null==(u=this.nextConfig.i18n)?void 0:u.defaultLocale);r.query.__nextDefaultLocale=x;let T=j(e.url.replace(/^\/+/,"/")),C=(0,Q.a)(T.pathname,{nextConfig:this.nextConfig,i18nProvider:this.i18nProvider});T.pathname=C.pathname,C.basePath&&(e.url=(0,X.n)(e.url,this.nextConfig.basePath));let k=this.minimalMode&&"string"==typeof e.headers["x-matched-path"];if(k)try{this.enabledDirectories.app&&(e.url.match(/^\/index($|\?)/)&&(e.url=e.url.replace(/^\/index/,"/")),r.pathname="/index"===r.pathname?"/":r.pathname);let{pathname:n}=new URL(e.headers["x-matched-path"],"http://localhost"),{pathname:i}=new URL(e.url,"http://localhost");if(null==(c=this.normalizers.data)?void 0:c.match(i))r.query.__nextDataReq="1";else if((null==(h=this.normalizers.postponed)?void 0:h.match(n))&&"POST"===e.method){let t=[];for await(let r of e.body)t.push(r);let r=eY.concat(t).toString("utf8");(0,J.kL)(e,"postponed",r),e.headers["x-now-route-matches"]||(i=this.normalizers.postponed.normalize(n,!0))}n=this.normalize(n);let s=this.stripNextDataPath(i),a=null==(d=this.i18nProvider)?void 0:d.analyze(n,{defaultLocale:x});a&&(r.query.__nextLocale=a.detectedLocale,a.inferredFromDefault?r.query.__nextInferredLocaleFromDefault="1":delete r.query.__nextInferredLocaleFromDefault);let o=n=R(n),l=(0,S.$)(o);if(!l){let e=await this.matchers.match(o,{i18n:a});e&&(o=e.definition.pathname,l=void 0!==e.params)}a&&(n=a.pathname);let u=function({page:e,i18n:t,basePath:r,rewrites:n,pageIsDynamic:i,trailingSlash:s,caseSensitive:a}){let o,l,u;return i&&(o=(0,N.JV)(e,!1),u=(l=(0,D.t)(o))(e)),{handleRewrites:function(o,u){let c={},h=u.pathname,d=n=>{let d=A(n.source+(s?"(/)?":""),{removeUnnamedParams:!0,strict:!0,sensitive:!!a})(u.pathname);if((n.has||n.missing)&&d){let e=function(e,t,r,n){void 0===r&&(r=[]),void 0===n&&(n=[]);let i={},s=r=>{let n;let s=r.key;switch(r.type){case"header":s=s.toLowerCase(),n=e.headers[s];break;case"cookie":n="cookies"in e?e.cookies[r.key]:U(e.headers)()[r.key];break;case"query":n=t[s];break;case"host":{let{host:t}=(null==e?void 0:e.headers)||{};n=null==t?void 0:t.split(":",1)[0].toLowerCase()}}if(!r.value&&n)return i[function(e){let t="";for(let r=0;r<e.length;r++){let n=e.charCodeAt(r);(n>64&&n<91||n>96&&n<123)&&(t+=e[r])}return t}(s)]=n,!0;if(n){let e=RegExp("^"+r.value+"$"),t=Array.isArray(n)?n.slice(-1)[0].match(e):n.match(e);if(t)return Array.isArray(t)&&(t.groups?Object.keys(t.groups).forEach(e=>{i[e]=t.groups[e]}):"host"===r.type&&t[0]&&(i.host=t[0])),!0}return!1};return!!r.every(e=>s(e))&&!n.some(e=>s(e))&&i}(o,u.query,n.has,n.missing);e?Object.assign(d,e):d=!1}if(d){let{parsedDestination:s,destQuery:a}=function(e){let t;let r=Object.assign({},e.query);delete r.__nextLocale,delete r.__nextDefaultLocale,delete r.__nextDataReq,delete r.__nextInferredLocaleFromDefault,delete r[F.H4];let n=e.destination;for(let t of Object.keys({...e.params,...r}))n=n.replace(RegExp(":"+(0,M.f)(t),"g"),"__ESC_COLON_"+t);let i=j(n),s=i.query,a=V(""+i.pathname+(i.hash||"")),o=V(i.hostname||""),l=[],u=[];(0,O.Bo)(a,l),(0,O.Bo)(o,u);let c=[];l.forEach(e=>c.push(e.name)),u.forEach(e=>c.push(e.name));let h=(0,O.MY)(a,{validate:!1}),d=(0,O.MY)(o,{validate:!1});for(let[t,r]of Object.entries(s))Array.isArray(r)?s[t]=r.map(t=>B(V(t),e.params)):"string"==typeof r&&(s[t]=B(V(r),e.params));let f=Object.keys(e.params).filter(e=>"nextInternalLocale"!==e);if(e.appendParamsToQuery&&!f.some(e=>c.includes(e)))for(let t of f)t in s||(s[t]=e.params[t]);if((0,$.Ag)(a))for(let t of a.split("/")){let r=$.Wz.find(e=>t.startsWith(e));if(r){e.params["0"]=r;break}}try{let[r,n]=(t=h(e.params)).split("#",2);i.hostname=d(e.params),i.pathname=r,i.hash=(n?"#":"")+(n||""),delete i.search}catch(e){if(e.message.match(/Expected .*? to not repeat, but got an array/))throw Error("To use a multi-match in the destination you must add `*` at the end of the param name to signify it should repeat. https://nextjs.org/docs/messages/invalid-multi-match");throw e}return i.query={...r,...i.query},{newUrl:t,destQuery:s,parsedDestination:i}}({appendParamsToQuery:!0,destination:n.destination,params:d,query:u.query});if(s.protocol)return!0;if(Object.assign(c,a,d),Object.assign(u.query,s.query),delete s.query,Object.assign(u,s),h=u.pathname,r&&(h=h.replace(RegExp(`^${r}`),"")||"/"),t){let e=(0,P.h)(h,t.locales);h=e.pathname,u.query.nextInternalLocale=e.detectedLocale||d.nextInternalLocale}if(h===e)return!0;if(i&&l){let e=l(h);if(e)return u.query={...u.query,...e},!0}}return!1};for(let e of n.beforeFiles||[])d(e);if(h!==e){let t=!1;for(let e of n.afterFiles||[])if(t=d(e))break;if(!t&&!(()=>{let t=(0,I.Q)(h||"");return t===(0,I.Q)(e)||(null==l?void 0:l(t))})()){for(let e of n.fallback||[])if(t=d(e))break}}return c},defaultRouteRegex:o,dynamicRouteMatcher:l,defaultRouteMatches:u,getParamsFromRouteMatches:function(e,r,n){return(0,D.t)(function(){let{groups:e,routeKeys:i}=o;return{re:{exec:s=>{let a=Object.fromEntries(new URLSearchParams(s)),o=t&&n&&a["1"]===n;for(let e of Object.keys(a)){let t=a[e];e!==f.dN&&e.startsWith(f.dN)&&(a[e.substring(f.dN.length)]=t,delete a[e])}let l=Object.keys(i||{}),u=e=>{if(t){let i=Array.isArray(e),s=i?e[0]:e;if("string"==typeof s&&t.locales.some(e=>e.toLowerCase()===s.toLowerCase()&&(n=e,r.locale=n,!0)))return i&&e.splice(0,1),!i||0===e.length}return!1};return l.every(e=>a[e])?l.reduce((t,r)=>{let n=null==i?void 0:i[r];return n&&!u(a[r])&&(t[e[n].pos]=a[r]),t},{}):Object.keys(a).reduce((e,t)=>{if(!u(a[t])){let r=t;return o&&(r=parseInt(t,10)-1+""),Object.assign(e,{[r]:a[t]})}return e},{})}},groups:e}}())(e.headers["x-now-route-matches"])},normalizeDynamicRouteParams:(e,t)=>G(e,t,o,u),normalizeVercelUrl:(e,t,r)=>z(e,t,r,i,o),interpolateDynamicPath:(e,t)=>H(e,t,o)}}({pageIsDynamic:l,page:o,i18n:this.nextConfig.i18n,basePath:this.nextConfig.basePath,rewrites:(null==(p=this.getRoutesManifest())?void 0:p.rewrites)||{beforeFiles:[],afterFiles:[],fallback:[]},caseSensitive:!!this.nextConfig.experimental.caseSensitiveRoutes});x&&!C.locale&&(r.pathname=`/${x}${r.pathname}`);let m=r.pathname,y=u.handleRewrites(e,r),v=Object.keys(y),b=m!==r.pathname;b&&r.pathname&&(0,J.kL)(e,"rewroteURL",r.pathname);let w=new Set;for(let e of Object.keys(r.query)){let t=r.query[e];if(e!==f.dN&&e.startsWith(f.dN)){let n=e.substring(f.dN.length);r.query[n]=t,w.add(n),delete r.query[e]}}if(l){let t={},i=u.normalizeDynamicRouteParams(r.query);if(!i.hasValidParams&&l&&!(0,S.$)(s)){let e=null==u.dynamicRouteMatcher?void 0:u.dynamicRouteMatcher.call(u,s);e&&(u.normalizeDynamicRouteParams(e),Object.assign(i.params,e),i.hasValidParams=!0)}if(i.hasValidParams&&(t=i.params),e.headers["x-now-route-matches"]&&(0,S.$)(n)&&!i.hasValidParams){let n={},s=u.getParamsFromRouteMatches(e,n,r.query.__nextLocale||"");n.locale&&(r.query.__nextLocale=n.locale,delete r.query.__nextInferredLocaleFromDefault),(i=u.normalizeDynamicRouteParams(s,!0)).hasValidParams&&(t=i.params)}l&&u.defaultRouteMatches&&s===o&&!i.hasValidParams&&!u.normalizeDynamicRouteParams({...t},!0).hasValidParams&&(t=u.defaultRouteMatches),t&&(n=u.interpolateDynamicPath(o,t),e.url=u.interpolateDynamicPath(e.url,t))}for(let t of((l||b)&&u.normalizeVercelUrl(e,!0,[...v,...Object.keys((null==(g=u.defaultRouteRegex)?void 0:g.groups)||{})]),w))delete r.query[t];if(r.pathname=n,T.pathname=r.pathname,await this.normalizeAndAttachMetadata(e,t,r))return}catch(r){if(r instanceof i._9||r instanceof i.KM)return t.statusCode=400,this.renderError(null,e,t,"/_error",{});throw r}if((0,J.kL)(e,"isLocaleDomain",!!E),C.locale&&(e.url=(0,a.format)(T),(0,J.kL)(e,"didStripLocale",!0)),this.minimalMode&&r.query.__nextLocale||(C.locale?r.query.__nextLocale=C.locale:x&&(r.query.__nextLocale=x,r.query.__nextInferredLocaleFromDefault="1")),!this.serverOptions.webServerConfig&&!(0,J.OX)(e,"incrementalCache")){let t="https:";try{t=new URL((0,J.OX)(e,"initURL")||"/","http://n").protocol}catch{}let r=await this.getIncrementalCache({requestHeaders:Object.assign({},e.headers),requestProtocol:t.substring(0,t.length-1)});r.resetRequestCache(),(0,J.kL)(e,"incrementalCache",r),globalThis.__incrementalCache=r}return(0,J.OX)(e,"invokePath"),!k&&C.basePath&&(r.pathname=(0,X.n)(r.pathname,C.basePath)),t.statusCode=200,await this.run(e,t,r)}catch(r){if(r instanceof eQ)throw r;if(r&&"object"==typeof r&&"ERR_INVALID_URL"===r.code||r instanceof i._9||r instanceof i.KM)return t.statusCode=400,this.renderError(null,e,t,"/_error",{});if(this.minimalMode||this.renderOpts.dev||r.bubble)throw r;this.logError(K(r)),t.statusCode=500,t.body("Internal Server Error").send()}}getRequestHandlerWithMetadata(e){let t=this.getRequestHandler();return(r,n,i)=>((0,J.lx)(r,e),t(r,n,i))}getRequestHandler(){return this.handleRequest.bind(this)}setAssetPrefix(e){this.renderOpts.assetPrefix=e?e.replace(/\/$/,""):""}async prepare(){if(!this.prepared)return null===this.preparedPromise&&(this.preparedPromise=this.prepareImpl().then(()=>{this.prepared=!0,this.preparedPromise=null})),this.preparedPromise}async prepareImpl(){}async close(){}getAppPathRoutes(){let e={};return Object.keys(this.appPathsManifest||{}).forEach(t=>{let r=(0,q.w)(t);e[r]||(e[r]=[]),e[r].push(t)}),e}async run(e,t,r){return(0,eD.Yz)().trace(eM._J.run,async()=>this.runImpl(e,t,r))}async runImpl(e,t,r){await this.handleCatchallRenderRequest(e,t,r)}async pipe(e,t){return(0,eD.Yz)().trace(eM._J.pipe,async()=>this.pipeImpl(e,t))}async pipeImpl(e,t){let r=(0,T.Q)(t.req.headers["user-agent"]||""),n={...t,renderOpts:{...this.renderOpts,supportsDynamicResponse:!r,isBot:!!r}},i=await e(n);if(null===i)return;let{req:s,res:a}=n,o=a.statusCode,{body:l,type:u}=i,{revalidate:c}=i;if(!a.sent){let{generateEtags:e,poweredByHeader:t,dev:r}=this.renderOpts;r&&(a.setHeader("Cache-Control","no-store, must-revalidate"),c=void 0),await this.sendRenderResult(s,a,{result:l,type:u,generateEtags:e,poweredByHeader:t,revalidate:c,swrDelta:this.nextConfig.experimental.swrDelta}),a.statusCode=o}}async getStaticHTML(e,t){let r={...t,renderOpts:{...this.renderOpts,supportsDynamicResponse:!1}},n=await e(r);return null===n?null:n.body.toUnchunkedString()}async render(e,t,r,n={},i,s=!1){return(0,eD.Yz)().trace(eM._J.render,async()=>this.renderImpl(e,t,r,n,i,s))}getWaitUntil(){let e=function(){let e=globalThis[s];return null==e?void 0:e.get()}();if(e)return e.waitUntil}async renderImpl(e,t,r,n={},i,s=!1){var a,o;return(r.startsWith("/")||console.warn(`Cannot render page with path "${r}", did you mean "/${r}"?. See more info here: https://nextjs.org/docs/messages/render-no-starting-slash`),this.renderOpts.customServer&&"/index"===r&&!await this.hasPage("/index")&&(r="/"),!s&&!this.minimalMode&&!n.__nextDataReq&&((null==(a=e.url)?void 0:a.match(/^\/_next\//))||this.hasStaticDir&&e.url.match(/^\/static\//)))?this.handleRequest(e,t,i):(o=r,w.includes(o))?this.render404(e,t,i):this.pipe(e=>this.renderToResponse(e),{req:e,res:t,pathname:r,query:n})}async getStaticPaths({pathname:e}){var t;let r=null==(t=this.getPrerenderManifest().dynamicRoutes[e])?void 0:t.fallback;return{staticPaths:void 0,fallbackMode:"string"==typeof r?"static":null===r?"blocking":r}}async renderToResponseWithComponents(e,t){return(0,eD.Yz)().trace(eM._J.renderToResponseWithComponents,async()=>this.renderToResponseWithComponentsImpl(e,t))}pathCouldBeIntercepted(e){return(0,$.Ag)(e)||this.interceptionRoutePatterns.some(t=>t.test(e))}setVaryHeader(e,t,r,n){let i=`${F.A}, ${F.ph}, ${F.qw}`,s=e1(e),a=!1;r&&this.pathCouldBeIntercepted(n)?(t.setHeader("vary",`${i}, ${F.TP}`),a=!0):(r||s)&&t.setHeader("vary",i),a||delete e.headers[F.TP]}async renderToResponseWithComponentsImpl({req:e,res:t,pathname:r,renderOpts:s},{components:o,query:l}){var u,c,h,p,m,y,v;let b,w,R;r===g&&(r="/404");let P="/_error"===r,O="/404"===r||P&&404===t.statusCode,A="/500"===r||P&&500===t.statusCode,N=!0===o.isAppPath,D=!!o.getServerSideProps,M=!!o.getStaticPaths,L=(0,eJ.x)(e),j=!!(null==(u=o.Component)?void 0:u.getInitialProps),$=!!o.getStaticProps,U=(0,a.parse)(e.url||"").pathname||"/",V=(0,J.OX)(e,"rewroteURL")||U;this.setVaryHeader(e,t,N,V);let B=!1,q=(0,S.$)(o.page),z=this.getPrerenderManifest();if(N&&q){let t=await this.getStaticPaths({pathname:r,page:o.page,isAppPath:N,requestHeaders:e.headers});if(b=t.staticPaths,B=void 0!==(w=t.fallbackMode),"export"===this.nextConfig.output){let e=o.page;if("static"!==w)throw Error(`Page "${e}" is missing exported function "generateStaticParams()", which is required with "output: export" config.`);let t=(0,I.Q)(V);if(!(null==b?void 0:b.includes(t)))throw Error(`Page "${e}" is missing param "${t}" in "generateStaticParams()", which is required with "output: export" config.`)}B&&(M=!0)}B||(null==b?void 0:b.includes(V))||e.headers["x-now-route-matches"]?$=!0:this.renderOpts.dev||($||=!!z.routes[(0,eX.w)(r)]);let H=!!(l.__nextDataReq||e.headers["x-nextjs-data"]&&this.serverOptions.webServerConfig)&&($||D),G=("1"===e.headers[F.qw.toLowerCase()]||(0,J.OX)(e,"isPrefetchRSCRequest"))??!1;if(!$&&e.headers["x-middleware-prefetch"]&&!(O||"/_error"===r))return t.setHeader("x-matched-path",r),t.setHeader("x-middleware-skip","1"),t.setHeader("cache-control","private, no-cache, no-store, max-age=0, must-revalidate"),t.body("{}").send(),null;delete l.__nextDataReq,$&&this.minimalMode&&e.headers["x-matched-path"]&&e.url.startsWith("/_next/data")&&(e.url=this.stripNextDataPath(e.url)),e.headers["x-nextjs-data"]&&(!t.statusCode||200===t.statusCode)&&t.setHeader("x-nextjs-matched-path",`${l.__nextLocale?`/${l.__nextLocale}`:""}${r}`);let W=e1(e),K=(0,J.OX)(e,"postponed"),X=s.experimental.ppr&&W&&!G;if(!O||H||W||(t.statusCode=404),_.includes(r)&&(t.statusCode=parseInt(r.slice(1),10)),!L&&!K&&!O&&!A&&"/_error"!==r&&"HEAD"!==e.method&&"GET"!==e.method&&("string"==typeof o.Component||$))return t.statusCode=405,t.setHeader("Allow",["GET","HEAD"]),await this.renderError(null,e,t,r),null;if("string"==typeof o.Component)return{type:"html",body:C.Z.fromStatic(o.Component)};if(l.amp||delete l.amp,!0===s.supportsDynamicResponse){let t=(0,T.Q)(e.headers["user-agent"]||""),r="function"!=typeof(null==(m=o.Document)?void 0:m.getInitialProps)||"__NEXT_BUILTIN_DOCUMENT__"in o.Document;s.supportsDynamicResponse=!$&&!t&&!l.amp&&r,s.isBot=t}!H&&N&&s.dev&&(s.supportsDynamicResponse=!0);let Y=$?null==(c=this.nextConfig.i18n)?void 0:c.defaultLocale:l.__nextDefaultLocale,Q=l.__nextLocale,Z=null==(h=this.nextConfig.i18n)?void 0:h.locales;N&&!s.dev&&$&&W&&!X&&(!((v=s.runtime)===f.Jp.experimentalEdge||v===f.Jp.edge)||this.serverOptions.webServerConfig)&&eG(e.headers);let ee=!1,et=!1;$&&({isOnDemandRevalidate:ee,revalidateOnlyGenerated:et}=(0,E.Iq)(e,this.renderOpts.previewProps)),$&&this.minimalMode&&e.headers["x-matched-path"]&&(V=U),U=(0,I.Q)(U),V=(0,I.Q)(V),this.localeNormalizer&&(V=this.localeNormalizer.normalize(V)),H&&(V=this.stripNextDataPath(V),U=this.stripNextDataPath(U));let er=null;!$||s.supportsDynamicResponse||L||K||X||(er=`${Q?`/${Q}`:""}${("/"===r||"/"===V)&&Q?"":V}${l.amp?".amp":""}`),(O||A)&&$&&(er=`${Q?`/${Q}`:""}${r}${l.amp?".amp":""}`),er&&(er="/index"===(er=er.split("/").map(e=>{try{e=decodeURIComponent(e).replace(RegExp("([/#?]|%(2f|23|3f))","gi"),e=>encodeURIComponent(e))}catch(e){throw new i._9("failed to decode param")}return e}).join("/"))&&"/"===r?"/":er);let en="https:";try{en=new URL((0,J.OX)(e,"initURL")||"/","http://n").protocol}catch{}let ei=globalThis.__incrementalCache||await this.getIncrementalCache({requestHeaders:Object.assign({},e.headers),requestProtocol:en.substring(0,en.length-1)});null==ei||ei.resetRequestCache();let{routeModule:es}=o,ea=!!(this.nextConfig.experimental.ppr&&(this.renderOpts.dev||this.experimentalTestProxy)&&l.__nextppronly),eo=async({postponed:i})=>{let u,c=!H&&!0===s.dev||!$&&!M||"string"==typeof i||X,h=(0,a.parse)(e.url||"",!0).query;s.params&&Object.keys(s.params).forEach(e=>{delete h[e]});let d="/"!==U&&this.nextConfig.trailingSlash,p=(0,a.format)({pathname:`${V}${d?"/":""}`,query:h}),g={...o,...s,...N?{incrementalCache:ei,isRevalidate:$&&!i&&!X,originalPathname:o.ComponentMod.originalPathname,serverActions:this.nextConfig.experimental.serverActions}:{},isNextDataRequest:H,resolvedUrl:p,locale:Q,locales:Z,defaultLocale:Y,multiZoneDraftMode:this.nextConfig.experimental.multiZoneDraftMode,resolvedAsPath:D||j?(0,a.format)({pathname:`${U}${d?"/":""}`,query:h}):p,supportsDynamicResponse:c,isOnDemandRevalidate:ee,isDraftMode:!1,isServerAction:L,postponed:i,builtInWaitUntil:this.getWaitUntil()};if(ea&&(c=!1,g.nextExport=!0,g.supportsDynamicResponse=!1,g.isStaticGeneration=!0,g.isRevalidate=!0,g.isDebugPPRSkeleton=!0),es){if(es.definition.kind===n.APP_ROUTE){let r={params:s.params,prerenderManifest:z,renderOpts:{experimental:{ppr:!1},originalPathname:o.ComponentMod.originalPathname,supportsDynamicResponse:c,incrementalCache:ei,isRevalidate:$,builtInWaitUntil:this.getWaitUntil()}};try{let n=eF.Og.fromBaseNextRequest(e,(0,eF.Ub)(t.originalResponse)),i=await es.handle(n,r);return e.fetchMetrics=r.renderOpts.fetchMetrics,r.renderOpts.fetchTags,await ej(e,t,i,r.renderOpts.waitUntil),null}catch(r){if($)throw r;return k.vU(r),await ej(e,t,new Response(null,{status:500})),null}}else if(es.definition.kind===n.PAGES)g.nextFontManifest=this.nextFontManifest,g.clientReferenceManifest=o.clientReferenceManifest,u=await es.render(e.originalRequest??e,t.originalResponse??t,{page:r,params:s.params,query:l,renderOpts:g});else if(es.definition.kind===n.APP_PAGE){let n=o.routeModule;g.nextFontManifest=this.nextFontManifest,u=await n.render(e.originalRequest??e,t.originalResponse??t,{page:O?"/404":r,params:s.params,query:l,renderOpts:g})}else throw Error("Invariant: Unknown route module type")}else u=await this.renderHTML(e,t,r,l,g);let{metadata:m}=u,{headers:y={},fetchTags:v}=m;if(v&&(y[f.Et]=v),e.fetchMetrics=m.fetchMetrics,N&&$&&0===m.revalidate&&!this.renderOpts.dev&&!g.experimental.ppr){let e=m.staticBailoutInfo,t=Error(`Page changed from static to dynamic at runtime ${U}${(null==e?void 0:e.description)?`, reason: ${e.description}`:""}
see more here https://nextjs.org/docs/messages/app-static-to-dynamic-error`);if(null==e?void 0:e.stack){let r=e.stack;t.stack=t.message+r.substring(r.indexOf("\n"))}throw t}return"isNotFound"in m&&m.isNotFound?{value:null,revalidate:m.revalidate}:m.isRedirect?{value:{kind:"REDIRECT",props:m.pageData??m.flightData},revalidate:m.revalidate}:u.isNull?null:{value:{kind:"PAGE",html:u,pageData:m.pageData??m.flightData,postponed:m.postponed,headers:y,status:N?t.statusCode:void 0},revalidate:m.revalidate}},el=await this.responseCache.get(er,async(n,i,a)=>{if(this.renderOpts.dev,n||t.sent,b||({staticPaths:b,fallbackMode:w}=M?await this.getStaticPaths({pathname:r,requestHeaders:e.headers,isAppPath:N,page:o.page}):{staticPaths:void 0,fallbackMode:!1}),"static"===w&&(0,T.Q)(e.headers["user-agent"]||"")&&(w="blocking"),ee&&et&&!i&&!this.minimalMode)return await this.render404(e,t),null;(null==i?void 0:i.isStale)===-1&&(ee=!0),ee&&(!1!==w||i)&&(w="blocking");let u=er??(s.dev&&N?V:null);u&&l.amp&&(u=u.replace(/\.amp$/,"")),u&&(null==b||b.includes(u)),this.nextConfig.experimental.isExperimentalCompile&&(w="blocking");let c=await eo({postponed:ee||a||!K?void 0:K});return c?{...c,revalidate:c.revalidate}:null},{routeKind:null==es?void 0:es.definition.kind,incrementalCache:ei,isOnDemandRevalidate:ee,isPrefetch:"prefetch"===e.headers.purpose});if(!el){if(er&&!(ee&&et))throw Error("invariant: cache entry required but not generated");return null}let eu=(null==(p=el.value)?void 0:p.kind)==="PAGE"&&!!el.value.postponed;!$||this.minimalMode||X||eu&&!G||t.setHeader("x-nextjs-cache",ee?"REVALIDATED":el.isMiss?"MISS":el.isStale?"STALE":"HIT");let{value:ec}=el;if((null==ec?void 0:ec.kind)==="IMAGE")throw Error("invariant SSG should not return an image cache value");if(K)R=0;else if(this.minimalMode&&W&&!G&&s.experimental.ppr)R=0;else if(!this.renderOpts.dev||D&&!H){if(!O||H){if($){if(O){let t=(0,J.OX)(e,"notFoundRevalidate");R=void 0===t?0:t}else if(A)R=0;else if("number"==typeof el.revalidate){if(el.revalidate<1)throw Error(`Invariant: invalid Cache-Control duration provided: ${el.revalidate} < 1`);R=el.revalidate}else!1===el.revalidate&&(R=f.BR)}else t.getHeader("Cache-Control")||(R=0)}else R=0}el.revalidate=R;let eh=(0,J.OX)(e,"onCacheEntry");if(eh&&await eh(el,{url:(0,J.OX)(e,"initURL")}))return null;if(ec){if("REDIRECT"===ec.kind)return(el.revalidate&&!t.getHeader("Cache-Control")&&t.setHeader("Cache-Control",x({revalidate:el.revalidate,swrDelta:this.nextConfig.experimental.swrDelta})),H)?{type:"json",body:C.Z.fromStatic(JSON.stringify(ec.props)),revalidate:el.revalidate}:(await (e=>{let r={destination:e.pageProps.__N_REDIRECT,statusCode:e.pageProps.__N_REDIRECT_STATUS,basePath:e.pageProps.__N_REDIRECT_BASE_PATH},n=d(r),{basePath:s}=this.nextConfig;s&&!1!==r.basePath&&r.destination.startsWith("/")&&(r.destination=`${s}${r.destination}`),r.destination.startsWith("/")&&(r.destination=(0,i.U3)(r.destination)),t.redirect(r.destination,n).body(r.destination).send()})(ec.props),null);if("ROUTE"===ec.kind){let r={...ec.headers};return this.minimalMode&&$||delete r[f.Et],await ej(e,t,new Response(ec.body,{headers:(0,e$.EK)(r),status:ec.status||200})),null}if(N){if(ec.postponed&&K)throw Error("Invariant: postponed state should not be present on a resume request");if(ec.headers){let e={...ec.headers};for(let[r,n]of(this.minimalMode&&$||delete e[f.Et],Object.entries(e)))if(void 0!==n){if(Array.isArray(n))for(let e of n)t.appendHeader(r,e);else"number"==typeof n&&(n=n.toString()),t.appendHeader(r,n)}}if(this.minimalMode&&$&&(null==(y=ec.headers)?void 0:y[f.Et])&&t.setHeader(f.Et,ec.headers[f.Et]),!ec.status||W&&s.experimental.ppr||(t.statusCode=ec.status),ec.postponed&&W&&t.setHeader(F.VT,"1"),W){if("string"!=typeof ec.pageData){if(ec.postponed)throw Error("Invariant: Expected postponed to be undefined");return{type:"rsc",body:ec.html,revalidate:X?0:el.revalidate}}return{type:"rsc",body:C.Z.fromStatic(ec.pageData),revalidate:el.revalidate}}let e=ec.html;if(!ec.postponed||this.minimalMode)return{type:"html",body:e,revalidate:el.revalidate};if(ea)return{type:"html",body:e,revalidate:0};let r=new TransformStream;return e.chain(r.readable),eo({postponed:ec.postponed}).then(async e=>{var t,n;if(!e)throw Error("Invariant: expected a result to be returned");if((null==(t=e.value)?void 0:t.kind)!=="PAGE")throw Error(`Invariant: expected a page response, got ${null==(n=e.value)?void 0:n.kind}`);await e.value.html.pipeTo(r.writable)}).catch(e=>{r.writable.abort(e).catch(e=>{console.error("couldn't abort transformer",e)})}),{type:"html",body:e,revalidate:0}}else if(H)return{type:"json",body:C.Z.fromStatic(JSON.stringify(ec.pageData)),revalidate:el.revalidate};else return{type:"html",body:ec.html,revalidate:el.revalidate}}return((0,J.kL)(e,"notFoundRevalidate",el.revalidate),el.revalidate&&!t.getHeader("Cache-Control")&&t.setHeader("Cache-Control",x({revalidate:el.revalidate,swrDelta:this.nextConfig.experimental.swrDelta})),H)?(t.statusCode=404,t.body('{"notFound":true}').send()):(this.renderOpts.dev&&(l.__nextNotFoundSrcPage=r),await this.render404(e,t,{pathname:r,query:l},!1)),null}stripNextDataPath(e,t=!0){return(e.includes(this.buildId)&&(e=R(e.substring(e.indexOf(this.buildId)+this.buildId.length).replace(/\.json$/,""))),this.localeNormalizer&&t)?this.localeNormalizer.normalize(e):e}getOriginalAppPaths(e){if(this.enabledDirectories.app){var t;return(null==(t=this.appPathRoutes)?void 0:t[e])||null}return null}async renderPageComponent(e,t){var r,n;let{query:i,pathname:s}=e,a=this.getOriginalAppPaths(s),o=Array.isArray(a),l=s;o&&(l=a[a.length-1]);let u=await this.findPageComponents({page:l,query:i,params:e.renderOpts.params||{},isAppPath:o,sriEnabled:!!(null==(r=this.nextConfig.experimental.sri)?void 0:r.algorithm),appPaths:a,shouldEnsure:!1});if(u){null==(n=(0,eD.Yz)().getRootSpanAttributes())||n.set("next.route",s);try{return await this.renderToResponseWithComponents(e,u)}catch(r){let e=r instanceof eQ;if(!e||e&&t)throw r}}return!1}async renderToResponse(e){return(0,eD.Yz)().trace(eM._J.renderToResponse,{spanName:"rendering page",attributes:{"next.route":e.pathname}},async()=>this.renderToResponseImpl(e))}async renderToResponseImpl(e){var t;let{res:r,query:n,pathname:s}=e,a=!!n._nextBubbleNoFallback;delete n[F.H4],delete n._nextBubbleNoFallback;let o={i18n:null==(t=this.i18nProvider)?void 0:t.fromQuery(s,n)};try{for await(let t of this.matchers.matchAll(s,o)){let r=(0,J.OX)(e.req,"invokeOutput");if(!this.minimalMode&&"string"==typeof r&&(0,S.$)(r||"")&&r!==t.definition.pathname)continue;let n=await this.renderPageComponent({...e,pathname:t.definition.pathname,renderOpts:{...e.renderOpts,params:t.params}},a);if(!1!==n)return n}if(this.serverOptions.webServerConfig){e.pathname=this.serverOptions.webServerConfig.page;let t=await this.renderPageComponent(e,a);if(!1!==t)return t}}catch(o){let t=K(o);if(o instanceof i.At)throw console.error("Invariant: failed to load static page",JSON.stringify({page:s,url:e.req.url,matchedPath:e.req.headers["x-matched-path"],initUrl:(0,J.OX)(e.req,"initURL"),didRewrite:!!(0,J.OX)(e.req,"rewroteURL"),rewroteUrl:(0,J.OX)(e.req,"rewroteURL")},null,2)),t;if(t instanceof eQ&&a)throw t;if(t instanceof i._9||t instanceof i.KM)return r.statusCode=400,await this.renderErrorToResponse(e,t);r.statusCode=500,await this.hasPage("/500")&&(e.query.__nextCustomErrorRender="1",await this.renderErrorToResponse(e,t),delete e.query.__nextCustomErrorRender);let n=t instanceof eZ;if(!n){if(this.minimalMode,this.renderOpts.dev)throw W(t)&&(t.page=s),t;this.logError(K(t))}return await this.renderErrorToResponse(e,n?t.innerError:t)}return this.getMiddleware()&&e.req.headers["x-nextjs-data"]&&(!r.statusCode||200===r.statusCode||404===r.statusCode)?(r.setHeader("x-nextjs-matched-path",`${n.__nextLocale?`/${n.__nextLocale}`:""}${s}`),r.statusCode=200,r.setHeader("content-type","application/json"),r.body("{}"),r.send(),null):(r.statusCode=404,this.renderErrorToResponse(e,null))}async renderToHTML(e,t,r,n={}){return(0,eD.Yz)().trace(eM._J.renderToHTML,async()=>this.renderToHTMLImpl(e,t,r,n))}async renderToHTMLImpl(e,t,r,n={}){return this.getStaticHTML(e=>this.renderToResponse(e),{req:e,res:t,pathname:r,query:n})}async renderError(e,t,r,n,i={},s=!0){return(0,eD.Yz)().trace(eM._J.renderError,async()=>this.renderErrorImpl(e,t,r,n,i,s))}async renderErrorImpl(e,t,r,n,i={},s=!0){return s&&r.setHeader("Cache-Control","private, no-cache, no-store, max-age=0, must-revalidate"),this.pipe(async t=>{let n=await this.renderErrorToResponse(t,e);if(this.minimalMode&&500===r.statusCode)throw e;return n},{req:t,res:r,pathname:n,query:i})}async renderErrorToResponse(e,t){return(0,eD.Yz)().trace(eM._J.renderErrorToResponse,async()=>this.renderErrorToResponseImpl(e,t))}async renderErrorToResponseImpl(e,t){if(this.renderOpts.dev&&"/favicon.ico"===e.pathname)return{type:"html",body:C.Z.fromStatic("")};let{res:r,query:n}=e;try{let i=null;404===r.statusCode&&(this.enabledDirectories.app&&(i=await this.findPageComponents({page:m,query:n,params:{},isAppPath:!0,shouldEnsure:!0,url:e.req.url})),!i&&await this.hasPage("/404")&&(i=await this.findPageComponents({page:"/404",query:n,params:{},isAppPath:!1,shouldEnsure:!0,url:e.req.url})));let s=`/${r.statusCode}`;if(!e.query.__nextCustomErrorRender&&!i&&_.includes(s)&&("/500"!==s||!this.renderOpts.dev)&&(i=await this.findPageComponents({page:s,query:n,params:{},isAppPath:!1,shouldEnsure:!0,url:e.req.url})),i||(i=await this.findPageComponents({page:"/_error",query:n,params:{},isAppPath:!1,shouldEnsure:!0,url:e.req.url}),s="/_error"),!i){if(this.renderOpts.dev)return{type:"html",body:C.Z.fromStatic(`
              <pre>missing required error components, refreshing...</pre>
              <script>
                async function check() {
                  const res = await fetch(location.href).catch(() => ({}))

                  if (res.status === 200) {
                    location.reload()
                  } else {
                    setTimeout(check, 1000)
                  }
                }
                check()
              </script>`)};throw new eZ(Error("missing required error components"))}i.components.routeModule?(0,J.kL)(e.req,"match",{definition:i.components.routeModule.definition,params:void 0}):(0,J.d0)(e.req,"match");try{return await this.renderToResponseWithComponents({...e,pathname:s,renderOpts:{...e.renderOpts,err:t}},i)}catch(e){if(e instanceof eQ)throw Error("invariant: failed to render error page");throw e}}catch(a){let t=K(a),i=t instanceof eZ;i||this.logError(t),r.statusCode=500;let s=await this.getFallbackErrorComponents(e.req.url);if(s)return(0,J.kL)(e.req,"match",{definition:s.routeModule.definition,params:void 0}),this.renderToResponseWithComponents({...e,pathname:"/_error",renderOpts:{...e.renderOpts,err:i?t.innerError:t}},{query:n,components:s});return{type:"html",body:C.Z.fromStatic("Internal Server Error")}}}async renderErrorToHTML(e,t,r,n,i={}){return this.getStaticHTML(t=>this.renderErrorToResponse(t,e),{req:t,res:r,pathname:n,query:i})}async render404(e,t,r,n=!0){let{pathname:i,query:s}=r||(0,a.parse)(e.url,!0);return this.nextConfig.i18n&&(s.__nextLocale||=this.nextConfig.i18n.defaultLocale,s.__nextDefaultLocale||=this.nextConfig.i18n.defaultLocale),t.statusCode=404,this.renderError(null,e,t,i,s,n)}}function e1(e){return"1"===e.headers[F.A.toLowerCase()]||!!(0,J.OX)(e,"isRSCRequest")}let e2=e=>{let t=e.length,r=0,n=0,i=8997,s=0,a=33826,o=0,l=40164,u=0,c=52210;for(;r<t;)i^=e.charCodeAt(r++),n=435*i,s=435*a,o=435*l,u=435*c,o+=i<<8,u+=a<<8,s+=n>>>16,i=65535&n,o+=s>>>16,a=65535&s,c=u+(o>>>16)&65535,l=65535&o;return(15&c)*281474976710656+4294967296*l+65536*a+(i^c>>4)},e4=(e,t=!1)=>(t?'W/"':'"')+e2(e).toString(36)+e.length.toString(36)+'"';class e9{constructor(e){this.pendingResponses=new Map,Object.assign(this,{minimalMode:e})}get(e,t,r){var n;let i=e?`${e}-${r.isOnDemandRevalidate?"1":"0"}`:null,s=i?this.pendingResponses.get(i):null;if(s)return s;let{promise:a,resolve:o,reject:l}=new ei.Y;i&&this.pendingResponses.set(i,a);let u=!1,c=e=>{i&&this.pendingResponses.set(i,Promise.resolve(e)),u||(u=!0,o(e))};return i&&this.minimalMode&&(null==(n=this.previousCacheItem)?void 0:n.key)===i&&this.previousCacheItem.expiresAt>Date.now()?(c(this.previousCacheItem.entry),this.pendingResponses.delete(i)):(async()=>{try{let n=await t(u),s=null===n?null:{...n,isMiss:!0};r.isOnDemandRevalidate||c(s),e&&n&&void 0!==n.revalidate?this.previousCacheItem={key:i||e,entry:n,expiresAt:Date.now()+1e3}:this.previousCacheItem=void 0,r.isOnDemandRevalidate&&c(s)}catch(e){u?console.error(e):l(e)}finally{i&&this.pendingResponses.delete(i)}})(),a}}var e6=r(1902);r(3e3);let e5=new Set(["header","cookie","query","host"]),e3=/\(\?<([a-zA-Z][a-zA-Z0-9]*)>/g;var e8=r(1575);class e7 extends e0{constructor(e){super(e),this.handleCatchallRenderRequest=async(e,t,r)=>{let{pathname:n,query:i}=r;if(!n)throw Error("pathname is undefined");let s=this.serverOptions.webServerConfig.pathname;if(n!==s&&(n=s,(0,S.$)(n))){let t=(0,N.JV)(n,!1),r=(0,D.t)(t)(n),s=G(i,!1,t,r);n=H(n,s.hasValidParams?s.params:i,t),z(e,!0,Object.keys(t.routeKeys),!0,t)}if(n=(0,I.Q)(n),this.i18nProvider){let{detectedLocale:e}=await this.i18nProvider.analyze(n);e&&(r.query.__nextLocale=e)}let a=!!i._nextBubbleNoFallback;eE(n)&&delete i._nextBubbleNoFallback;try{return await this.render(e,t,n,i,r,!0),!0}catch(e){if(e instanceof eQ&&a)return!1;throw e}},Object.assign(this.renderOpts,e.webServerConfig.extendRenderOpts)}async getIncrementalCache({requestHeaders:e}){let t=!!this.renderOpts.dev;return new e6.k({dev:t,requestHeaders:e,requestProtocol:"https",pagesDir:this.enabledDirectories.pages,appDir:this.enabledDirectories.app,allowedRevalidateHeaderKeys:this.nextConfig.experimental.allowedRevalidateHeaderKeys,minimalMode:this.minimalMode,fetchCache:!0,fetchCacheKeyPrefix:this.nextConfig.experimental.fetchCacheKeyPrefix,maxMemoryCacheSize:this.nextConfig.cacheMaxMemorySize,flushToDisk:!1,CurCacheHandler:this.serverOptions.webServerConfig.incrementalCacheHandler,getPrerenderManifest:()=>this.getPrerenderManifest(),experimental:{ppr:!1}})}getResponseCache(){return new e9(this.minimalMode)}async hasPage(e){return e===this.serverOptions.webServerConfig.page}getBuildId(){return this.serverOptions.webServerConfig.extendRenderOpts.buildId}getEnabledDirectories(){return{app:"app"===this.serverOptions.webServerConfig.pagesType,pages:"pages"===this.serverOptions.webServerConfig.pagesType}}getPagesManifest(){return{[this.serverOptions.webServerConfig.pathname]:`server${this.serverOptions.webServerConfig.page}.js`}}getAppPathsManifest(){let e=this.serverOptions.webServerConfig.page;return{[this.serverOptions.webServerConfig.page]:`app${e}.js`}}attachRequestMeta(e,t){(0,J.kL)(e,"initQuery",{...t.query})}getPrerenderManifest(){return{version:-1,routes:{},dynamicRoutes:{},notFoundRoutes:[],preview:(0,e8.X)()}}getNextFontManifest(){return this.serverOptions.webServerConfig.extendRenderOpts.nextFontManifest}renderHTML(e,t,r,n,i){let{renderToHTML:s}=this.serverOptions.webServerConfig;if(!s)throw Error("Invariant: routeModule should be configured when rendering pages");return r===g&&(r="/404"),s(e,t,r,n,Object.assign(i,{disableOptimizedLoading:!0,runtime:"experimental-edge"}))}async sendRenderResult(e,t,r){let n;if(t.setHeader("X-Edge-Runtime","1"),r.poweredByHeader&&"html"===r.type&&t.setHeader("X-Powered-By","Next.js"),t.getHeader("Content-Type")||t.setHeader("Content-Type",r.result.contentType?r.result.contentType:"json"===r.type?"application/json":"text/html; charset=utf-8"),r.result.isDynamic)n=r.result.pipeTo(t.transformStream.writable);else{let e=r.result.toUnchunkedString();t.setHeader("Content-Length",String(new TextEncoder().encode(e).buffer.byteLength)),r.generateEtags&&t.setHeader("ETag",e4(e)),t.body(e)}t.send(),n&&await n}async findPageComponents({page:e,query:t,params:r,url:n}){let i=await this.serverOptions.webServerConfig.loadComponent(e);return i?{query:{...t||{},...r||{}},components:i}:null}async runApi(){return!0}async handleApiRequest(){return!1}loadEnvConfig(){}getPublicDir(){return""}getHasStaticDir(){return!1}async getFallback(){return""}getFontManifest(){}handleCompression(){}async handleUpgrade(){}async getFallbackErrorComponents(e){return null}getRoutesManifest(){}getMiddleware(){}getFilesystemPaths(){return new Set}async getPrefetchRsc(){return null}getinterceptionRoutePatterns(){var e;return(null==(e=this.serverOptions.webServerConfig.interceptionRouteRewrites)?void 0:e.map(e=>new RegExp(function(e,t,r){let n=(0,O.Bo)(t.source,[],{strict:!0,sensitive:!1,delimiter:"/"}).source;if(!t.internal){var i;n=n.replace(/\$$/,"(?:\\/)?$")}let s=n.replace(/\\\//g,"/");return"redirect"!==e?{...t,regex:s}:{...t,statusCode:d(t),permanent:void 0,regex:s}}("rewrite",e).regex)))??[]}}class te{constructor(e,t,r){this.method=e,this.url=t,this.body=r}get cookies(){return this._cookies?this._cookies:this._cookies=U(this.headers)()}}class tt{constructor(e){this.destination=e}redirect(e,t){return this.setHeader("Location",e),this.statusCode=t,t===h.X.PermanentRedirect&&this.setHeader("Refresh",`0;url=${e}`),this}}class tr extends te{constructor(e){let t=new URL(e.url);for(let[r,n]of(super(e.method,t.href.slice(t.origin.length),e.clone().body),this.request=e,this.fetchMetrics=e.fetchMetrics,this.headers={},e.headers.entries()))this.headers[r]=n}async parseBody(e){throw Error("parseBody is not implemented in the web runtime")}}class tn extends tt{constructor(e=new TransformStream){super(e.writable),this.transformStream=e,this.headers=new Headers,this.textBody=void 0,this.sendPromise=new ei.Y,this._sent=!1}setHeader(e,t){for(let r of(this.headers.delete(e),Array.isArray(t)?t:[t]))this.headers.append(e,r);return this}removeHeader(e){return this.headers.delete(e),this}getHeaderValues(e){var t;return null==(t=this.getHeader(e))?void 0:t.split(",").map(e=>e.trimStart())}getHeader(e){return this.headers.get(e)??void 0}getHeaders(){return(0,e$.lb)(this.headers)}hasHeader(e){return this.headers.has(e)}appendHeader(e,t){return this.headers.append(e,t),this}body(e){return this.textBody=e,this}send(){this.sendPromise.resolve(),this._sent=!0}get sent(){return this._sent}async toResponse(){return this.sent||await this.sendPromise.promise,new Response(this.textBody??this.transformStream.readable,{headers:this.headers,status:this.statusCode,statusText:this.statusMessage})}}let ti=Symbol.for("__next_internal_waitUntil__"),ts=globalThis[ti]||(globalThis[ti]={waitUntilCounter:0,waitUntilResolve:void 0,waitUntilPromise:null});function ta({dev:e,page:t,appMod:r,pageMod:n,errorMod:i,error500Mod:s,pagesType:a,Document:o,buildManifest:l,reactLoadableManifest:u,interceptionRouteRewrites:c,renderToHTML:h,clientReferenceManifest:d,subresourceIntegrityManifest:p,serverActionsManifest:g,serverActions:m,config:y,buildId:v,nextFontManifest:b,incrementalCacheHandler:w}){let _="app"===a,S={dev:e,buildManifest:l,reactLoadableManifest:u,subresourceIntegrityManifest:p,Document:o,App:null==r?void 0:r.default,clientReferenceManifest:d},E=new e7({dev:e,conf:y,minimalMode:!0,webServerConfig:{page:t,pathname:_?(0,q.w)(t):t,pagesType:a,interceptionRouteRewrites:c,extendRenderOpts:{buildId:v,runtime:f.Jp.experimentalEdge,supportsDynamicResponse:!0,disableOptimizedLoading:!0,serverActionsManifest:g,serverActions:m,nextFontManifest:b},renderToHTML:h,incrementalCacheHandler:w,loadComponent:async e=>e===t?{...S,Component:n.default,pageConfig:n.config||{},getStaticProps:n.getStaticProps,getServerSideProps:n.getServerSideProps,getStaticPaths:n.getStaticPaths,ComponentMod:n,isAppPath:!!n.__next_app__,page:e,routeModule:n.routeModule}:"/500"===e&&s?{...S,Component:s.default,pageConfig:s.config||{},getStaticProps:s.getStaticProps,getServerSideProps:s.getServerSideProps,getStaticPaths:s.getStaticPaths,ComponentMod:s,page:e,routeModule:s.routeModule}:"/_error"===e?{...S,Component:i.default,pageConfig:i.config||{},getStaticProps:i.getStaticProps,getServerSideProps:i.getServerSideProps,getStaticPaths:i.getStaticPaths,ComponentMod:i,page:e,routeModule:i.routeModule}:null}}).getRequestHandler();return async function(e,t){let r=new tr(e),n=new tn;E(r,n);let i=await n.toResponse();if(null==t?void 0:t.waitUntil){let e=ts.waitUntilPromise;e&&t.waitUntil(e)}return i}}},1514:(e,t,r)=>{"use strict";r.d(t,{n:()=>s});var n=r(9912),i=r(3933);function s(e,t){return(0,i.R)((0,n.V)(e,""))}},5303:(e,t,r)=>{"use strict";r.d(t,{g:()=>i});var n=r(7034);async function i(e,t){let r=(0,n.getServerActionDispatcher)();if(!r)throw Error("Invariant: missing action dispatcher.");return new Promise((n,i)=>{r({actionId:e,actionArgs:t,resolve:n,reject:i})})}},9338:(e,t,r)=>{"use strict";r.d(t,{A:()=>n,H4:()=>c,TP:()=>o,VT:()=>h,eY:()=>l,om:()=>i,ph:()=>s,qw:()=>a,vu:()=>u});let n="RSC",i="Next-Action",s="Next-Router-State-Tree",a="Next-Router-Prefetch",o="Next-Url",l="text/x-component",u=[[n],[s],[a]],c="_rsc",h="x-nextjs-postponed"},7034:(e,t,r)=>{"use strict";r.r(t),r.d(t,{createEmptyCacheNode:()=>H,default:()=>K,getServerActionDispatcher:()=>U,urlToUrlWithoutFlightMarker:()=>B});var n=r(926),i=r(9220),s=r(5291),a=r(5912);function o(e,t){return void 0===t&&(t=!0),e.pathname+e.search+(t?e.hash:"")}var l=r(4504);r(9130);var u=r(3433),c=r(6083),h=r(9338);function d(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw TypeError("attempted to use private field on non-instance");return e}var f=0;function p(e){return"__private_"+f+++"_"+e}var g=p("_maxConcurrency"),m=p("_runningCount"),y=p("_queue"),v=p("_processNext");class b{enqueue(e){let t,r;let n=new Promise((e,n)=>{t=e,r=n}),i=async()=>{try{d(this,m)[m]++;let r=await e();t(r)}catch(e){r(e)}finally{d(this,m)[m]--,d(this,v)[v]()}};return d(this,y)[y].push({promiseFn:n,task:i}),d(this,v)[v](),n}bump(e){let t=d(this,y)[y].findIndex(t=>t.promiseFn===e);if(t>-1){let e=d(this,y)[y].splice(t,1)[0];d(this,y)[y].unshift(e),d(this,v)[v](!0)}}constructor(e=5){Object.defineProperty(this,v,{value:w}),Object.defineProperty(this,g,{writable:!0,value:void 0}),Object.defineProperty(this,m,{writable:!0,value:void 0}),Object.defineProperty(this,y,{writable:!0,value:void 0}),d(this,g)[g]=e,d(this,m)[m]=0,d(this,y)[y]=[]}}function w(e){if(void 0===e&&(e=!1),(d(this,m)[m]<d(this,g)[g]||e)&&d(this,y)[y].length>0){var t;null==(t=d(this,y)[y].shift())||t.task()}}function _(e,t){let r=o(e,!1);return t?t+"%"+r:r}new b(5);let S=Symbol();r(5303);let{createFromFetch:E,encodeReply:x}=r(2505);function T(e,t){null!==e.pending&&(e.pending=e.pending.next,null!==e.pending?C({actionQueue:e,action:e.pending,setState:t}):e.needsRefresh&&(e.needsRefresh=!1,e.dispatch({type:ACTION_REFRESH,origin:window.location.origin},t)))}async function C(e){let{actionQueue:t,action:r,setState:n}=e,i=t.state;if(!i)throw Error("Invariant: Router state not initialized");t.pending=r;let s=r.payload,a=t.action(i,s);function o(e){r.discarded||(t.state=e,t.devToolsInstance&&t.devToolsInstance.send(s,e),T(t,n),r.resolve(e))}isThenable(a)?a.then(o,e=>{T(t,n),r.reject(e)}):o(a)}function I(e){return(0,a.J8)(e)?(0,i.use)(e):e}var R=r(9027),k=r(9567);let P=e=>"/"===e[0]?e.slice(1):e,O=e=>"string"==typeof e?"children"===e?"":e:e[1];var A=r(9022),N=r(1514),D=r(8066);function M(e){let{tree:t}=e,[r,n]=(0,i.useState)(null),[s,a]=(0,i.useState)("");return(0,i.useRef)(),r?(0,D.createPortal)(s,r):null}var L=r(7745),j=r(8906),$=r(5694);let F=null;function U(){return F}let V={};function B(e){let t=new URL(e,location.origin);return t.searchParams.delete(h.H4),t}function q(e){return e.origin!==window.location.origin}function z(e){let{appRouterState:t,sync:r}=e;return(0,i.useInsertionEffect)(()=>{let{tree:e,pushRef:n,canonicalUrl:i}=t,s={...n.preserveCustomHistoryState?window.history.state:{},__NA:!0,__PRIVATE_NEXTJS_INTERNALS_TREE:e};n.pendingPush&&o(new URL(window.location.href))!==i?(n.pendingPush=!1,window.history.pushState(s,"",i)):window.history.replaceState(s,"",i),r(t)},[t,r]),null}function H(){return{lazyData:null,rsc:null,prefetchRsc:null,head:null,prefetchHead:null,parallelRoutes:new Map,lazyDataResolved:!1,loading:null}}function G(e){let{headCacheNode:t}=e,r=null!==t?t.head:null,n=null!==t?t.prefetchHead:null,s=null!==n?n:r;return(0,i.useDeferredValue)(r,s)}function W(e){let t,{buildId:r,initialHead:h,initialTree:d,urlParts:f,initialSeedData:p,couldBeIntercepted:g,assetPrefix:m,missingSlots:y}=e,[v,b,w]=[(0,i.useMemo)(()=>(function(e){var t;let{buildId:r,initialTree:n,initialSeedData:i,urlParts:s,initialParallelRoutes:l,location:h,initialHead:d,couldBeIntercepted:f}=e,p=s.join("/"),g=!h,m={lazyData:null,rsc:i[2],prefetchRsc:null,head:null,prefetchHead:null,parallelRoutes:g?new Map:l,lazyDataResolved:!1,loading:i[3]},y=h?o(h):p;!function e(t,r){let[n,i,,s]=t;for(let a in n.includes(c.GC)&&"refresh"!==s&&(t[2]=r,t[3]="refresh"),i)e(i[a],r)}(n,y);let v=new Map;(null===l||0===l.size)&&function e(t,r,n,i,s,o){if(0===Object.keys(n[1]).length){t.head=s;return}for(let l in n[1]){let c;let h=n[1][l],d=h[0],f=(0,u.d)(d),p=null!==i&&void 0!==i[1][l]?i[1][l]:null;if(r){let n=r.parallelRoutes.get(l);if(n){let r;let i=(null==o?void 0:o.kind)==="auto"&&o.status===a.T7.reusable,u=new Map(n),c=u.get(f);r=null!==p?{lazyData:null,rsc:p[2],prefetchRsc:null,head:null,prefetchHead:null,loading:p[3],parallelRoutes:new Map(null==c?void 0:c.parallelRoutes),lazyDataResolved:!1}:i&&c?{lazyData:c.lazyData,rsc:c.rsc,prefetchRsc:c.prefetchRsc,head:c.head,prefetchHead:c.prefetchHead,parallelRoutes:new Map(c.parallelRoutes),lazyDataResolved:c.lazyDataResolved,loading:c.loading}:{lazyData:null,rsc:null,prefetchRsc:null,head:null,prefetchHead:null,parallelRoutes:new Map(null==c?void 0:c.parallelRoutes),lazyDataResolved:!1,loading:null},u.set(f,r),e(r,c,h,p||null,s,o),t.parallelRoutes.set(l,u);continue}}if(null!==p){let e=p[2],t=p[3];c={lazyData:null,rsc:e,prefetchRsc:null,head:null,prefetchHead:null,parallelRoutes:new Map,lazyDataResolved:!1,loading:t}}else c={lazyData:null,rsc:null,prefetchRsc:null,head:null,prefetchHead:null,parallelRoutes:new Map,lazyDataResolved:!1,loading:null};let g=t.parallelRoutes.get(l);g?g.set(f,c):t.parallelRoutes.set(l,new Map([[f,c]])),e(c,void 0,h,p,s,o)}}(m,void 0,n,i,d);let b={buildId:r,tree:n,cache:m,prefetchCache:v,pushRef:{pendingPush:!1,mpaNavigation:!1,preserveCustomHistoryState:!0},focusAndScrollRef:{apply:!1,onlyHashChange:!1,hashFragment:null,segmentPaths:[]},canonicalUrl:y,nextUrl:null!=(t=function e(t){var r;let n=Array.isArray(t[0])?t[0][1]:t[0];if(n===c.av||k.Wz.some(e=>n.startsWith(e)))return;if(n.startsWith(c.GC))return"";let i=[O(n)],s=null!=(r=t[1])?r:{},a=s.children?e(s.children):void 0;if(void 0!==a)i.push(a);else for(let[t,r]of Object.entries(s)){if("children"===t)continue;let n=e(r);void 0!==n&&i.push(n)}return i.reduce((e,t)=>""===(t=P(t))||(0,c.lv)(t)?e:e+"/"+t,"")||"/"}(n)||(null==h?void 0:h.pathname))?t:null};if(h){let e=new URL(""+h.pathname+h.search,h.origin),t=[["",n,null,null]];!function(e){let{nextUrl:t,tree:r,prefetchCache:n,url:i,kind:s,data:o}=e,[,,,l]=o,u=l?_(i,t):_(i),c={treeAtTimeOfPrefetch:r,data:Promise.resolve(o),kind:s,prefetchTime:Date.now(),lastUsedTime:Date.now(),key:u,status:a.T7.fresh};n.set(u,c)}({url:e,kind:a.Ke.AUTO,data:[t,void 0,!1,f],tree:b.tree,prefetchCache:b.prefetchCache,nextUrl:b.nextUrl})}return b})({buildId:r,initialSeedData:p,urlParts:f,initialTree:d,initialParallelRoutes:null,location:null,initialHead:h,couldBeIntercepted:g}),[r,p,f,d,h,g]),()=>{},()=>{}],{canonicalUrl:S}=I(v),{searchParams:E,pathname:x}=(0,i.useMemo)(()=>{var e;let t=new URL(S,"http://n");return{searchParams:t.searchParams,pathname:((0,$.e)(t.pathname),t.pathname)}},[S]),T=(0,i.useCallback)(e=>{let{previousTree:t,serverResponse:r}=e;(0,i.startTransition)(()=>{b({type:a.n0,previousTree:t,serverResponse:r})})},[b]),C=(0,i.useCallback)((e,t,r)=>{let n=new URL((0,N.n)(e),location.href);return b({type:a.bO,url:n,isExternalUrl:q(n),locationSearch:location.search,shouldScroll:null==r||r,navigateType:t})},[b]);F=(0,i.useCallback)(e=>{(0,i.startTransition)(()=>{b({...e,type:a.WA})})},[b]);let R=(0,i.useMemo)(()=>({back:()=>window.history.back(),forward:()=>window.history.forward(),prefetch:(e,t)=>{let r;if(!(0,A.Q)(window.navigator.userAgent)){try{r=new URL((0,N.n)(e),window.location.href)}catch(t){throw Error("Cannot prefetch '"+e+"' because it cannot be converted to a URL.")}q(r)||(0,i.startTransition)(()=>{var e;b({type:a.Pm,url:r,kind:null!=(e=null==t?void 0:t.kind)?e:a.Ke.FULL})})}},replace:(e,t)=>{void 0===t&&(t={}),(0,i.startTransition)(()=>{var r;C(e,"replace",null==(r=t.scroll)||r)})},push:(e,t)=>{void 0===t&&(t={}),(0,i.startTransition)(()=>{var r;C(e,"push",null==(r=t.scroll)||r)})},refresh:()=>{(0,i.startTransition)(()=>{b({type:a.HD,origin:window.location.origin})})},fastRefresh:()=>{throw Error("fastRefresh can only be used in development mode. Please use refresh instead.")}}),[b,C]),{pushRef:D}=I(v);if(D.mpaNavigation){if(V.pendingMpaPath!==S){let e=window.location;D.pendingPush?e.assign(S):e.replace(S),V.pendingMpaPath=S}(0,i.use)(j.c)}let{cache:U,tree:B,nextUrl:H,focusAndScrollRef:W}=I(v),K=(0,i.useMemo)(()=>(function e(t,r,n){if(0===Object.keys(r).length)return[t,n];for(let i in r){let[s,a]=r[i],o=t.parallelRoutes.get(i);if(!o)continue;let l=(0,u.d)(s),c=o.get(l);if(!c)continue;let h=e(c,a,n+"/"+l);if(h)return h}return null})(U,B[1],""),[U,B]),J=(0,i.useMemo)(()=>(function e(t,r){for(let n of(void 0===r&&(r={}),Object.values(t[1]))){let t=n[0],i=Array.isArray(t),s=i?t[1]:t;!s||s.startsWith(c.GC)||(i&&("c"===t[2]||"oc"===t[2])?r[t[0]]=t[1].split("/"):i&&(r[t[0]]=t[1]),r=e(n,r))}return r})(B),[B]);if(null!==K){let[e,r]=K;t=(0,n.jsx)(G,{headCacheNode:e},r)}else t=null;let X=(0,n.jsxs)(L.I,{children:[t,U.rsc,(0,n.jsx)(M,{tree:B})]});return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(z,{appRouterState:I(v),sync:w}),(0,n.jsx)(l.PathParamsContext.Provider,{value:J,children:(0,n.jsx)(l.PathnameContext.Provider,{value:x,children:(0,n.jsx)(l.SearchParamsContext.Provider,{value:E,children:(0,n.jsx)(s.GlobalLayoutRouterContext.Provider,{value:{buildId:r,changeByServerResponse:T,tree:B,focusAndScrollRef:W,nextUrl:H},children:(0,n.jsx)(s.AppRouterContext.Provider,{value:R,children:(0,n.jsx)(s.LayoutRouterContext.Provider,{value:{childNodes:U.parallelRoutes,tree:B,url:S,loading:U.loading},children:X})})})})})})]})}function K(e){let{globalErrorComponent:t,...r}=e;return(0,n.jsx)(R.ErrorBoundary,{errorComponent:t,children:(0,n.jsx)(W,{...r})})}},849:(e,t,r)=>{"use strict";r.r(t),r.d(t,{bailoutToClientRendering:()=>s});var n=r(7105),i=r(9182);function s(e){let t=i.A.getStore();if((null==t||!t.forceStatic)&&(null==t?void 0:t.isStaticGeneration))throw new n.Z(e)}},3785:(e,t,r)=>{"use strict";r.r(t),r.d(t,{ClientPageRoot:()=>o});var n=r(926),i=r(9182),s=r(4219),a=r(3659);function o(e){let{Component:t,props:r}=e;return r.searchParams=function(e){let t=i.A.getStore();return t?t.forceStatic?{}:t.isStaticGeneration||t.dynamicShouldError?new Proxy({},{get:(e,r,n)=>("string"==typeof r&&(0,s.TP)(t,"searchParams."+r),a.g.get(e,r,n)),has:(e,r)=>("string"==typeof r&&(0,s.TP)(t,"searchParams."+r),Reflect.has(e,r)),ownKeys:e=>((0,s.TP)(t,"searchParams"),Reflect.ownKeys(e))}):e:e}(r.searchParams||{}),(0,n.jsx)(t,{...r})}},9027:(e,t,r)=>{"use strict";r.r(t),r.d(t,{ErrorBoundary:()=>p,ErrorBoundaryHandler:()=>h,GlobalError:()=>d,default:()=>f});var n=r(926),i=r(9220),s=r(7588),a=r(7935),o=r(7508),l=r(9182);let u={error:{fontFamily:'system-ui,"Segoe UI",Roboto,Helvetica,Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji"',height:"100vh",textAlign:"center",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},text:{fontSize:"14px",fontWeight:400,lineHeight:"28px",margin:"0 8px"}};function c(e){let{error:t}=e,r=l.A.getStore();if((null==r?void 0:r.isRevalidate)||(null==r?void 0:r.isStaticGeneration))throw console.error(t),t;return null}class h extends i.Component{static getDerivedStateFromError(e){if(e&&e.digest&&((0,o.eo)(e)||(0,a.X)(e)))throw e;return{error:e}}static getDerivedStateFromProps(e,t){return e.pathname!==t.previousPathname&&t.error?{error:null,previousPathname:e.pathname}:{error:t.error,previousPathname:e.pathname}}render(){return this.state.error?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(c,{error:this.state.error}),this.props.errorStyles,this.props.errorScripts,(0,n.jsx)(this.props.errorComponent,{error:this.state.error,reset:this.reset})]}):this.props.children}constructor(e){super(e),this.reset=()=>{this.setState({error:null})},this.state={error:null,previousPathname:this.props.pathname}}}function d(e){let{error:t}=e,r=null==t?void 0:t.digest;return(0,n.jsxs)("html",{id:"__next_error__",children:[(0,n.jsx)("head",{}),(0,n.jsxs)("body",{children:[(0,n.jsx)(c,{error:t}),(0,n.jsx)("div",{style:u.error,children:(0,n.jsxs)("div",{children:[(0,n.jsx)("h2",{style:u.text,children:"Application error: a "+(r?"server":"client")+"-side exception has occurred (see the "+(r?"server logs":"browser console")+" for more information)."}),r?(0,n.jsx)("p",{style:u.text,children:"Digest: "+r}):null]})})]})]})}let f=d;function p(e){let{errorComponent:t,errorStyles:r,errorScripts:i,children:a}=e,o=(0,s.jD)();return t?(0,n.jsx)(h,{pathname:o,errorComponent:t,errorStyles:r,errorScripts:i,children:a}):(0,n.jsx)(n.Fragment,{children:a})}},3938:(e,t,r)=>{"use strict";r.d(t,{$:()=>i,j:()=>s});let n="DYNAMIC_SERVER_USAGE";class i extends Error{constructor(e){super("Dynamic server usage: "+e),this.description=e,this.digest=n}}function s(e){return"object"==typeof e&&null!==e&&"digest"in e&&"string"==typeof e.digest&&e.digest===n}},7603:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>_});var n=r(926),i=r(9220);r(8066);var s=r(5291),a=r(9130),o=r(8906),l=r(9027),u=r(1482),c=r(7745),h=r(7245);function d(e){return Array.isArray(e)?e[1]:e}var f=r(3433),p=r(9567);let g=["bottom","height","left","right","top","width","x","y"];function m(e,t){let r=e.getBoundingClientRect();return r.top>=0&&r.top<=t}class y extends i.Component{componentDidMount(){this.handlePotentialScroll()}componentDidUpdate(){this.props.focusAndScrollRef.apply&&this.handlePotentialScroll()}render(){return this.props.children}constructor(...e){super(...e),this.handlePotentialScroll=()=>{let{focusAndScrollRef:e,segmentPath:t}=this.props;if(e.apply){if(0!==e.segmentPaths.length&&!e.segmentPaths.some(e=>t.every((t,r)=>(0,u.j)(t,e[r]))))return;let r=null,n=e.hashFragment;if(n&&(r=function(e){var t;return"top"===e?document.body:null!=(t=document.getElementById(e))?t:document.getElementsByName(e)[0]}(n)),!r&&(r=null),!(r instanceof Element))return;for(;!(r instanceof HTMLElement)||function(e){if(["sticky","fixed"].includes(getComputedStyle(e).position))return!0;let t=e.getBoundingClientRect();return g.every(e=>0===t[e])}(r);){if(null===r.nextElementSibling)return;r=r.nextElementSibling}e.apply=!1,e.hashFragment=null,e.segmentPaths=[],function(e,t){if(void 0===t&&(t={}),t.onlyHashChange){e();return}let r=document.documentElement,n=r.style.scrollBehavior;r.style.scrollBehavior="auto",t.dontForceLayout||r.getClientRects(),e(),r.style.scrollBehavior=n}(()=>{if(n){r.scrollIntoView();return}let e=document.documentElement,t=e.clientHeight;!m(r,t)&&(e.scrollTop=0,m(r,t)||r.scrollIntoView())},{dontForceLayout:!0,onlyHashChange:e.onlyHashChange}),e.onlyHashChange=!1,r.focus()}}}}function v(e){let{segmentPath:t,children:r}=e,a=(0,i.useContext)(s.GlobalLayoutRouterContext);if(!a)throw Error("invariant global layout router not mounted");return(0,n.jsx)(y,{segmentPath:t,focusAndScrollRef:a.focusAndScrollRef,children:r})}function b(e){let{parallelRouterKey:t,url:r,childNodes:l,segmentPath:c,tree:h,cacheKey:d}=e,f=(0,i.useContext)(s.GlobalLayoutRouterContext);if(!f)throw Error("invariant global layout router not mounted");let{buildId:g,changeByServerResponse:m,tree:y}=f,v=l.get(d);if(void 0===v){let e={lazyData:null,rsc:null,prefetchRsc:null,head:null,prefetchHead:null,parallelRoutes:new Map,lazyDataResolved:!1,loading:null};v=e,l.set(d,e)}let b=null!==v.prefetchRsc?v.prefetchRsc:v.rsc,w=(0,i.useDeferredValue)(v.rsc,b),_="object"==typeof w&&null!==w&&"function"==typeof w.then?(0,i.use)(w):w;if(!_){let e=v.lazyData;if(null===e){let t=function e(t,r){if(t){let[n,i]=t,s=2===t.length;if((0,u.j)(r[0],n)&&r[1].hasOwnProperty(i)){if(s){let t=e(void 0,r[1][i]);return[r[0],{...r[1],[i]:[t[0],t[1],t[2],"refetch"]}]}return[r[0],{...r[1],[i]:e(t.slice(2),r[1][i])}]}}return r}(["",...c],y),n=function e(t){let[r,n]=t;if(Array.isArray(r)&&("di"===r[2]||"ci"===r[2])||"string"==typeof r&&(0,p.Ag)(r))return!0;if(n){for(let t in n)if(e(n[t]))return!0}return!1}(y);v.lazyData=e=(0,a.Y)(new URL(r,location.origin),t,n?f.nextUrl:null,g),v.lazyDataResolved=!1}let t=(0,i.use)(e);v.lazyDataResolved||(setTimeout(()=>{(0,i.startTransition)(()=>{m({previousTree:y,serverResponse:t})})}),v.lazyDataResolved=!0),(0,i.use)(o.c)}return(0,n.jsx)(s.LayoutRouterContext.Provider,{value:{tree:h[1][t],childNodes:v.parallelRoutes,url:r,loading:v.loading},children:_})}function w(e){let{children:t,hasLoading:r,loading:s,loadingStyles:a,loadingScripts:o}=e;return r?(0,n.jsx)(i.Suspense,{fallback:(0,n.jsxs)(n.Fragment,{children:[a,o,s]}),children:t}):(0,n.jsx)(n.Fragment,{children:t})}function _(e){let{parallelRouterKey:t,segmentPath:r,error:a,errorStyles:o,errorScripts:u,templateStyles:p,templateScripts:g,template:m,notFound:y,notFoundStyles:_}=e,S=(0,i.useContext)(s.LayoutRouterContext);if(!S)throw Error("invariant expected layout router to be mounted");let{childNodes:E,tree:x,url:T,loading:C}=S,I=E.get(t);I||(I=new Map,E.set(t,I));let R=x[1][t][0],k=d(R),P=[R];return(0,n.jsx)(n.Fragment,{children:P.map(e=>{let i=d(e),S=(0,f.d)(e);return(0,n.jsxs)(s.TemplateContext.Provider,{value:(0,n.jsx)(v,{segmentPath:r,children:(0,n.jsx)(l.ErrorBoundary,{errorComponent:a,errorStyles:o,errorScripts:u,children:(0,n.jsx)(w,{hasLoading:!!C,loading:null==C?void 0:C[0],loadingStyles:null==C?void 0:C[1],loadingScripts:null==C?void 0:C[2],children:(0,n.jsx)(h.NotFoundBoundary,{notFound:y,notFoundStyles:_,children:(0,n.jsx)(c.I,{children:(0,n.jsx)(b,{parallelRouterKey:t,url:T,tree:x,childNodes:I,segmentPath:r,cacheKey:S,isActive:k===i})})})})})}),children:[p,g,m]},(0,f.d)(e,!0))})})}},1482:(e,t,r)=>{"use strict";r.d(t,{W:()=>s,j:()=>i});var n=r(6512);let i=(e,t)=>"string"==typeof e?"string"==typeof t&&e===t:"string"!=typeof t&&e[0]===t[0]&&e[1]===t[1],s=(e,t)=>{var r;return!Array.isArray(e)&&!!Array.isArray(t)&&(null==(r=(0,n.R)(e))?void 0:r.param)===t[0]}},7588:(e,t,r)=>{"use strict";r.d(t,{jD:()=>a,tv:()=>o});var n=r(9220),i=r(5291),s=r(4504);function a(){return(0,n.useContext)(s.PathnameContext)}function o(){let e=(0,n.useContext)(i.AppRouterContext);if(null===e)throw Error("invariant expected app router to be mounted");return e}r(7508),r(8823)},7245:(e,t,r)=>{"use strict";r.r(t),r.d(t,{NotFoundBoundary:()=>u});var n=r(926),i=r(9220),s=r(7588),a=r(7935),o=r(5291);class l extends i.Component{componentDidCatch(){}static getDerivedStateFromError(e){if((0,a.X)(e))return{notFoundTriggered:!0};throw e}static getDerivedStateFromProps(e,t){return e.pathname!==t.previousPathname&&t.notFoundTriggered?{notFoundTriggered:!1,previousPathname:e.pathname}:{notFoundTriggered:t.notFoundTriggered,previousPathname:e.pathname}}render(){return this.state.notFoundTriggered?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("meta",{name:"robots",content:"noindex"}),!1,this.props.notFoundStyles,this.props.notFound]}):this.props.children}constructor(e){super(e),this.state={notFoundTriggered:!!e.asNotFound,previousPathname:e.pathname}}}function u(e){let{notFound:t,notFoundStyles:r,asNotFound:a,children:u}=e,c=(0,s.jD)(),h=(0,i.useContext)(o.MissingSlotContext);return t?(0,n.jsx)(l,{pathname:c,notFound:t,notFoundStyles:r,asNotFound:a,missingSlots:h,children:u}):(0,n.jsx)(n.Fragment,{children:u})}},7935:(e,t,r)=>{"use strict";function n(e){return"object"==typeof e&&null!==e&&"digest"in e&&"NEXT_NOT_FOUND"===e.digest}r.d(t,{X:()=>n})},7745:(e,t,r)=>{"use strict";r.d(t,{I:()=>u});var n=r(926),i=r(9220),s=r(7588),a=r(7508);function o(e){let{redirect:t,reset:r,redirectType:n}=e;return(0,s.tv)(),null}class l extends i.Component{static getDerivedStateFromError(e){if((0,a.eo)(e))return{redirect:(0,a.M6)(e),redirectType:(0,a.kM)(e)};throw e}render(){let{redirect:e,redirectType:t}=this.state;return null!==e&&null!==t?(0,n.jsx)(o,{redirect:e,redirectType:t,reset:()=>this.setState({redirect:null})}):this.props.children}constructor(e){super(e),this.state={redirect:null,redirectType:null}}}function u(e){let{children:t}=e,r=(0,s.tv)();return(0,n.jsx)(l,{router:r,children:t})}},8613:(e,t,r)=>{"use strict";var n;r.d(t,{X:()=>n}),function(e){e[e.SeeOther=303]="SeeOther",e[e.TemporaryRedirect=307]="TemporaryRedirect",e[e.PermanentRedirect=308]="PermanentRedirect"}(n||(n={}))},7508:(e,t,r)=>{"use strict";r.d(t,{M6:()=>a,eo:()=>s,j2:()=>l,kM:()=>o}),r(8983),r(2296);var n,i=r(8613);function s(e){if("object"!=typeof e||null===e||!("digest"in e)||"string"!=typeof e.digest)return!1;let[t,r,n,s]=e.digest.split(";",4),a=Number(s);return"NEXT_REDIRECT"===t&&("replace"===r||"push"===r)&&"string"==typeof n&&!isNaN(a)&&a in i.X}function a(e){return s(e)?e.digest.split(";",3)[2]:null}function o(e){if(!s(e))throw Error("Not a redirect error");return e.digest.split(";",2)[1]}function l(e){if(!s(e))throw Error("Not a redirect error");return Number(e.digest.split(";",4)[3])}!function(e){e.push="push",e.replace="replace"}(n||(n={}))},4782:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});var n=r(926),i=r(9220),s=r(5291);function a(){let e=(0,i.useContext)(s.TemplateContext);return(0,n.jsx)(n.Fragment,{children:e})}},3433:(e,t,r)=>{"use strict";r.d(t,{d:()=>i});var n=r(6083);function i(e,t){return(void 0===t&&(t=!1),Array.isArray(e))?e[0]+"|"+e[1]+"|"+e[2]:t&&e.startsWith(n.GC)?n.GC:e}},9130:(e,t,r)=>{"use strict";r.d(t,{Y:()=>c});var n=r(9338),i=r(7034),s=r(5303),a=r(5912),o=r(1958);let{createFromFetch:l}=r(2505);function u(e){return[(0,i.urlToUrlWithoutFlightMarker)(e).toString(),void 0,!1,!1]}async function c(e,t,r,c,h){let d={[n.A]:"1",[n.ph]:encodeURIComponent(JSON.stringify(t))};h===a.Ke.AUTO&&(d[n.qw]="1"),r&&(d[n.TP]=r);let f=(0,o.a)([d[n.qw]||"0",d[n.ph],d[n.TP]].join(","));try{var p;let t=new URL(e);t.searchParams.set(n.H4,f);let r=await fetch(t,{credentials:"same-origin",headers:d}),a=(0,i.urlToUrlWithoutFlightMarker)(r.url),o=r.redirected?a:void 0,h=r.headers.get("content-type")||"",g=!!r.headers.get(n.VT),m=!!(null==(p=r.headers.get("vary"))?void 0:p.includes(n.TP));if(h!==n.eY||!r.ok)return e.hash&&(a.hash=e.hash),u(a.toString());let[y,v]=await l(Promise.resolve(r),{callServer:s.g});if(c!==y)return u(r.url);return[v,o,g,m]}catch(t){return console.error("Failed to fetch RSC payload for "+e+". Falling back to browser navigation.",t),[e.toString(),void 0,!1,!1]}}},5912:(e,t,r)=>{"use strict";var n,i;r.d(t,{HD:()=>s,J8:()=>c,Ke:()=>n,Pm:()=>l,T7:()=>i,WA:()=>u,bO:()=>a,n0:()=>o});let s="refresh",a="navigate",o="server-patch",l="prefetch",u="server-action";function c(e){return e&&("object"==typeof e||"function"==typeof e)&&"function"==typeof e.then}!function(e){e.AUTO="auto",e.FULL="full",e.TEMPORARY="temporary"}(n||(n={})),function(e){e.fresh="fresh",e.reusable="reusable",e.expired="expired",e.stale="stale"}(i||(i={}))},8359:(e,t,r)=>{"use strict";r.d(t,{G:()=>i,q:()=>s});let n="NEXT_STATIC_GEN_BAILOUT";class i extends Error{constructor(...e){super(...e),this.code=n}}function s(e){return"object"==typeof e&&null!==e&&"code"in e&&e.code===n}},8906:(e,t,r)=>{"use strict";r.d(t,{c:()=>n});let n={then:()=>{}}},5694:(e,t,r)=>{"use strict";r.d(t,{e:()=>i});var n=r(7843);function i(e){return(0,n.Y)(e,"")}},6924:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>S});var n=r(926),i=r(9220),s=r(6037);let a=/https?|ftp|gopher|file/;function o(e){let{auth:t,hostname:r}=e,n=e.protocol||"",i=e.pathname||"",o=e.hash||"",l=e.query||"",u=!1;t=t?encodeURIComponent(t).replace(/%3A/i,":")+"@":"",e.host?u=t+e.host:r&&(u=t+(~r.indexOf(":")?"["+r+"]":r),e.port&&(u+=":"+e.port)),l&&"object"==typeof l&&(l=String(s.Nn(l)));let c=e.search||l&&"?"+l||"";return n&&!n.endsWith(":")&&(n+=":"),e.slashes||(!n||a.test(n))&&!1!==u?(u="//"+(u||""),i&&"/"!==i[0]&&(i="/"+i)):u||(u=""),o&&"#"!==o[0]&&(o="#"+o),c&&"?"!==c[0]&&(c="?"+c),""+n+u+(i=i.replace(/[?#]/g,encodeURIComponent))+(c=c.replace("#","%23"))+o}var l=r(7506),u=r(3933),c=r(5694);function h(e){if(!(0,l.sD)(e))return!0;try{let t=(0,l.Dp)(),r=new URL(e,t);return r.origin===t&&(0,c.e)(r.pathname)}catch(e){return!1}}var d=r(8631),f=r(8215),p=r(9963);function g(e,t,r){let n;let i="string"==typeof t?t:o(t),a=i.match(/^[a-zA-Z]{1,}:\/\//),c=a?i.slice(a[0].length):i;if((c.split("?",1)[0]||"").match(/(\/\/|\\)/)){console.error("Invalid href '"+i+"' passed to next/router in page: '"+e.pathname+"'. Repeated forward-slashes (//) or backslashes \\ are not valid in the href.");let t=(0,l.U3)(c);i=(a?a[0]:"")+t}if(!h(i))return r?[i]:i;try{n=new URL(i.startsWith("#")?e.asPath:e.pathname,"http://n")}catch(e){n=new URL("/","http://n")}try{let e=new URL(i,n);e.pathname=(0,u.R)(e.pathname);let t="";if((0,d.$)(e.pathname)&&e.searchParams&&r){let r=(0,s.u5)(e.searchParams),{result:n,params:i}=function(e,t,r){let n="",i=(0,p.vG)(e),s=i.groups,a=(t!==e?(0,f.t)(i)(t):"")||r;n=e;let o=Object.keys(s);return o.every(e=>{let t=a[e]||"",{repeat:r,optional:i}=s[e],o="["+(r?"...":"")+e+"]";return i&&(o=(t?"":"/")+"["+o+"]"),r&&!Array.isArray(t)&&(t=[t]),(i||e in a)&&(n=n.replace(o,r?t.map(e=>encodeURIComponent(e)).join("/"):encodeURIComponent(t))||"/")})||(n=""),{params:o,result:n}}(e.pathname,e.pathname,r);if(n){var g;g={pathname:n,hash:e.hash,query:function(e,t){let r={};return Object.keys(e).forEach(n=>{t.includes(n)||(r[n]=e[n])}),r}(r,i)},t=o(g)}}let a=e.origin===n.origin?e.href.slice(e.origin.length):e.href;return r?[a,t||a]:a}catch(e){return r?[i]:i}}let m=function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return e};var y=r(402),v=r(5291);"undefined"!=typeof self&&self.requestIdleCallback&&self.requestIdleCallback.bind(window),"undefined"!=typeof self&&self.cancelIdleCallback&&self.cancelIdleCallback.bind(window);var b=r(1514),w=r(5912);function _(e){return"string"==typeof e?e:o(e)}let S=i.forwardRef(function(e,t){let r,s;let{href:a,as:o,children:u,prefetch:c=null,passHref:d,replace:f,shallow:p,scroll:S,locale:E,onClick:x,onMouseEnter:T,onTouchStart:C,legacyBehavior:I=!1,...R}=e;r=u,I&&("string"==typeof r||"number"==typeof r)&&(r=(0,n.jsx)("a",{children:r}));let k=i.useContext(y.RouterContext),P=i.useContext(v.AppRouterContext),O=null!=k?k:P,A=!k,N=!1!==c,D=null===c?w.Ke.AUTO:w.Ke.FULL,{href:M,as:L}=i.useMemo(()=>{if(!k){let e=_(a);return{href:e,as:o?_(o):e}}let[e,t]=g(k,a,!0);return{href:e,as:o?g(k,o):t||e}},[k,a,o]),j=i.useRef(M),$=i.useRef(L);I&&(s=i.Children.only(r));let F=I?s&&"object"==typeof s&&s.ref:t,[U,V,B]=function(e){let{rootRef:t,rootMargin:r,disabled:n}=e,[s,a]=(0,i.useState)(!1),o=(0,i.useRef)(null);return[(0,i.useCallback)(e=>{o.current=e},[]),s,(0,i.useCallback)(()=>{a(!1)},[])]}({rootMargin:"200px"}),q=i.useCallback(e=>{($.current!==L||j.current!==M)&&(B(),$.current=L,j.current=M),U(e),F&&("function"==typeof F?F(e):"object"==typeof F&&(F.current=e))},[L,F,M,B,U]);i.useEffect(()=>{},[L,M,V,E,N,null==k?void 0:k.locale,O,A,D]);let z={ref:q,onClick(e){I||"function"!=typeof x||x(e),I&&s.props&&"function"==typeof s.props.onClick&&s.props.onClick(e),O&&!e.defaultPrevented&&function(e,t,r,n,s,a,o,l,u){let{nodeName:c}=e.currentTarget;if("A"===c.toUpperCase()&&(function(e){let t=e.currentTarget.getAttribute("target");return t&&"_self"!==t||e.metaKey||e.ctrlKey||e.shiftKey||e.altKey||e.nativeEvent&&2===e.nativeEvent.which}(e)||!u&&!h(r)))return;e.preventDefault();let d=()=>{let e=null==o||o;"beforePopState"in t?t[s?"replace":"push"](r,n,{shallow:a,locale:l,scroll:e}):t[s?"replace":"push"](n||r,{scroll:e})};u?i.startTransition(d):d()}(e,O,M,L,f,p,S,E,A)},onMouseEnter(e){I||"function"!=typeof T||T(e),I&&s.props&&"function"==typeof s.props.onMouseEnter&&s.props.onMouseEnter(e)},onTouchStart:function(e){I||"function"!=typeof C||C(e),I&&s.props&&"function"==typeof s.props.onTouchStart&&s.props.onTouchStart(e)}};if((0,l.sD)(L))z.href=L;else if(!I||d||"a"===s.type&&!("href"in s.props)){let e=void 0!==E?E:null==k?void 0:k.locale,t=(null==k?void 0:k.isLocaleDomain)&&(null==k||k.locales,null==k||k.domainLocales,!1);z.href=t||(0,b.n)(m(L,e,null==k?void 0:k.defaultLocale))}return I?i.cloneElement(s,z):(0,n.jsx)("a",{...R,...z,children:r})})},3933:(e,t,r)=>{"use strict";r.d(t,{R:()=>s});var n=r(9558),i=r(4679);let s=e=>{if(!e.startsWith("/"))return e;let{pathname:t,query:r,hash:s}=(0,i.c)(e);return""+(0,n.Q)(t)+r+s}},7580:(e,t,r)=>{"use strict";r.d(t,{Ar:()=>d,BR:()=>m,EX:()=>c,Et:()=>h,JT:()=>u,Jp:()=>y,Qq:()=>s,Sx:()=>a,Vz:()=>l,X_:()=>p,dN:()=>n,hd:()=>o,of:()=>f,y3:()=>i,zt:()=>g});let n="nxtP",i="x-prerender-revalidate",s="x-prerender-revalidate-if-generated",a=".prefetch.rsc",o=".rsc",l=".action",u=".json",c=".meta",h="x-next-cache-tags",d="x-next-cache-soft-tags",f="x-next-revalidated-tags",p="x-next-revalidate-tag-token",g="_N_T_",m=31536e3,y={edge:"edge",experimentalEdge:"experimental-edge",nodejs:"nodejs"},v={shared:"shared",reactServerComponents:"rsc",serverSideRendering:"ssr",actionBrowser:"action-browser",api:"api",middleware:"middleware",instrument:"instrument",edgeAsset:"edge-asset",appPagesBrowser:"app-pages-browser",appMetadataRoute:"app-metadata-route",appRouteHandler:"app-route-handler"};({...v,GROUP:{serverOnly:[v.reactServerComponents,v.actionBrowser,v.appMetadataRoute,v.appRouteHandler,v.instrument],clientOnly:[v.serverSideRendering,v.appPagesBrowser],nonClientServerTarget:[v.middleware,v.api],app:[v.reactServerComponents,v.actionBrowser,v.appMetadataRoute,v.appRouteHandler,v.serverSideRendering,v.appPagesBrowser,v.shared,v.instrument]}})},4439:(e,t,r)=>{"use strict";r.d(t,{Y:()=>n});class n{constructor(){let e,t;this.promise=new Promise((r,n)=>{e=r,t=n}),this.resolve=e,this.reject=t}}},9094:(e,t,r)=>{"use strict";var n;r.d(t,{s:()=>n}),function(e){e.PAGES="pages",e.ROOT="root",e.APP="app"}(n||(n={}))},3e3:(e,t,r)=>{"use strict";var n;r.d(t,{Ce:()=>f,Q6:()=>c,Se:()=>u,ek:()=>h,er:()=>d,ix:()=>p});let{env:i,stdout:s}=(null==(n=globalThis)?void 0:n.process)??{},a=i&&!i.NO_COLOR&&(i.FORCE_COLOR||(null==s?void 0:s.isTTY)&&!i.CI&&"dumb"!==i.TERM),o=(e,t,r,n)=>{let i=e.substring(0,n)+r,s=e.substring(n+t.length),a=s.indexOf(t);return~a?i+o(s,t,r,a):i+s},l=(e,t,r=e)=>a?n=>{let i=""+n,s=i.indexOf(t,e.length);return~s?e+o(i,t,r,s)+t:e+i+t}:String,u=l("\x1b[1m","\x1b[22m","\x1b[22m\x1b[1m");l("\x1b[2m","\x1b[22m","\x1b[22m\x1b[2m"),l("\x1b[3m","\x1b[23m"),l("\x1b[4m","\x1b[24m"),l("\x1b[7m","\x1b[27m"),l("\x1b[8m","\x1b[28m"),l("\x1b[9m","\x1b[29m"),l("\x1b[30m","\x1b[39m");let c=l("\x1b[31m","\x1b[39m"),h=l("\x1b[32m","\x1b[39m"),d=l("\x1b[33m","\x1b[39m");l("\x1b[34m","\x1b[39m");let f=l("\x1b[35m","\x1b[39m");l("\x1b[38;2;173;127;168m","\x1b[39m"),l("\x1b[36m","\x1b[39m");let p=l("\x1b[37m","\x1b[39m");l("\x1b[90m","\x1b[39m"),l("\x1b[40m","\x1b[49m"),l("\x1b[41m","\x1b[49m"),l("\x1b[42m","\x1b[49m"),l("\x1b[43m","\x1b[49m"),l("\x1b[44m","\x1b[49m"),l("\x1b[45m","\x1b[49m"),l("\x1b[46m","\x1b[49m"),l("\x1b[47m","\x1b[49m")},6588:(e,t,r)=>{"use strict";function n(e){return new URL(e,"http://n").pathname}function i(e){return/https?:\/\//.test(e)}r.d(t,{N0:()=>i,RO:()=>n})},1057:(e,t,r)=>{"use strict";r.d(t,{Iq:()=>s,dS:()=>a});var n=r(6150),i=r(7580);function s(e,t){let r=n.h.from(e.headers);return{isOnDemandRevalidate:r.get(i.y3)===t.previewModeId,revalidateOnlyGenerated:r.has(i.Qq)}}r(7081),r(1427);let a="__prerender_bypass";Symbol("__next_preview_data"),Symbol(a)},527:(e,t,r)=>{"use strict";r.d(t,{k:()=>o,w:()=>a});var n=r(1959),i=r(7843),s=r(7274);function a({serverActionsManifest:e,pageName:t}){return new Proxy({},{get:(r,n)=>({id:e.edge[n].workers[l(t)],name:n,chunks:[]})})}function o(e,t,r){var i,a;let o=null==(i=r.edge[e])?void 0:i.workers,u=l(t);if(o){if(o[u])return;return a=Object.keys(o)[0],(0,n.w)((0,s.n)(a,"app"))}}function l(e){return(0,i.Y)(e,"app")?e:"app"+e}},2042:(e,t,r)=>{"use strict";r.d(t,{f:()=>tJ});var n=r(926),i=r(9220),s=r(2650),a=r(9279),o=r(1482),l=r(7538),u=r(9338);function c(e){return null!=e}function h({name:e,property:t,content:r,media:i}){return null!=r&&""!==r?(0,n.jsx)("meta",{...e?{name:e}:{property:t},...i?{media:i}:void 0,content:"string"==typeof r?r:r.toString()}):null}function d(e){let t=[];for(let r of e)Array.isArray(r)?t.push(...r.filter(c)):c(r)&&t.push(r);return t}let f=new Set(["og:image","twitter:image","og:video","og:audio"]);function p(e,t){return f.has(e)&&"url"===t?e:((e.startsWith("og:")||e.startsWith("twitter:"))&&(t=t.replace(/([A-Z])/g,function(e){return"_"+e.toLowerCase()})),e+":"+t)}function g({propertyPrefix:e,namePrefix:t,contents:r}){return null==r?null:d(r.map(r=>"string"==typeof r||"number"==typeof r||r instanceof URL?h({...e?{property:e}:{name:t},content:r}):function({content:e,namePrefix:t,propertyPrefix:r}){return e?d(Object.entries(e).map(([e,n])=>void 0===n?null:h({...r&&{property:p(r,e)},...t&&{name:p(t,e)},content:"string"==typeof n?n:null==n?void 0:n.toString()}))):null}({namePrefix:t,propertyPrefix:e,content:r})))}let m={width:"width",height:"height",initialScale:"initial-scale",minimumScale:"minimum-scale",maximumScale:"maximum-scale",viewportFit:"viewport-fit",userScalable:"user-scalable",interactiveWidget:"interactive-widget"},y=["icon","shortcut","apple","other"],v=["telephone","date","address","email","url"];function b({descriptor:e,...t}){return e.url?(0,n.jsx)("link",{...t,...e.title&&{title:e.title},href:e.url.toString()}):null}function w({app:e,type:t}){var r,n;return[h({name:`twitter:app:name:${t}`,content:e.name}),h({name:`twitter:app:id:${t}`,content:e.id[t]}),h({name:`twitter:app:url:${t}`,content:null==(n=e.url)?void 0:null==(r=n[t])?void 0:r.toString()})]}function _({icon:e}){let{url:t,rel:r="icon",...i}=e;return(0,n.jsx)("link",{rel:r,href:t.toString(),...i})}function S({rel:e,icon:t}){if("object"==typeof t&&!(t instanceof URL))return!t.rel&&e&&(t.rel=e),_({icon:t});{let r=t.toString();return(0,n.jsx)("link",{rel:e,href:r})}}function E(){return{width:"device-width",initialScale:1,themeColor:null,colorScheme:null}}function x(){return{viewport:null,themeColor:null,colorScheme:null,metadataBase:null,title:null,description:null,applicationName:null,authors:null,generator:null,keywords:null,referrer:null,creator:null,publisher:null,robots:null,manifest:null,alternates:{canonical:null,languages:null,media:null,types:null},icons:null,openGraph:null,twitter:null,verification:{},appleWebApp:null,formatDetection:null,itunes:null,facebook:null,abstract:null,appLinks:null,archives:null,assets:null,bookmarks:null,category:null,classification:null,other:{}}}function T(e){if(null!=e)return Array.isArray(e)?e:[e]}var C=r(3889),I=r.n(C);function R(e){return"string"==typeof e||e instanceof URL}function k(){return new URL(`http://localhost:${process.env.PORT||3e3}`)}function P(e,t){if(e instanceof URL)return e;if(!e)return null;try{return new URL(e)}catch{}t||(t=k());let r=t.pathname||"";return new URL(I().posix.join(r,e),t)}let O=/^(?:\/((?!\.well-known(?:\/.*)?)(?:[^/]+\/)*[^/]+\.\w+))(\/?|$)/i;function A(e,t,{trailingSlash:r,pathname:n}){var i,s;e="string"==typeof(i=e)&&i.startsWith("./")?I().posix.resolve(n,i):i;let a="",o=t?P(e,t):e;if(a="string"==typeof o?o:"/"===o.pathname?o.origin:o.href,r&&!a.endsWith("/")){let e=a.startsWith("/"),r=a.includes("?"),n=!1,i=!1;if(!e){try{let e=new URL(a);n=null!=t&&e.origin!==t.origin,s=e.pathname,i=O.test(s)}catch{n=!0}if(!i&&!n&&!r)return`${a}/`}}return a}function N(e,t){return e?e.replace(/%s/g,t):t}function D(e,t){let r;let n="string"!=typeof e&&e&&"template"in e?e.template:null;return("string"==typeof e?r=N(t,e):e&&("default"in e&&(r=N(t,e.default)),"absolute"in e&&e.absolute&&(r=e.absolute)),e&&"string"!=typeof e)?{template:n,absolute:r||""}:{absolute:r||e||"",template:n}}var M=r(6588),L=r(7106);let j={article:["authors","tags"],song:["albums","musicians"],playlist:["albums","musicians"],radio:["creators"],video:["actors","directors","writers","tags"],basic:["emails","phoneNumbers","faxNumbers","alternateLocale","audio","videos"]};function $(e,t,r){let n=T(e);if(!n)return n;let{isMetadataBaseMissing:i,fallbackMetadataBase:s}=function(e){let t=k(),r=function(){let e=process.env.VERCEL_BRANCH_URL||process.env.VERCEL_URL;return e?new URL(`https://${e}`):void 0}(),n=function(){let e=process.env.VERCEL_PROJECT_PRODUCTION_URL;return e?new URL(`https://${e}`):void 0}();return{fallbackMetadataBase:r&&"preview"===process.env.VERCEL_ENV?r:e||n||t,isMetadataBaseMissing:!e}}(t),a=[];for(let e of n){let t=function(e,t,r,n){if(!e)return;let i=R(e),s=i?e:e.url;if(!s)return;let a=!process.env.VERCEL;return(n||a)&&"string"==typeof s&&!(0,M.N0)(s)&&r&&(0,L.O4)(`metadataBase property in metadata export is not set for resolving social open graph or twitter images, using "${t.origin}". See https://nextjs.org/docs/app/api-reference/functions/generate-metadata#metadatabase`),i?{url:P(s,t)}:{...e,url:P(s,t)}}(e,s,i,r);t&&a.push(t)}return a}let F={article:j.article,book:j.article,"music.song":j.song,"music.album":j.song,"music.playlist":j.playlist,"music.radio_station":j.radio,"video.movie":j.video,"video.episode":j.video},U=(e,t,r,n)=>{if(!e)return null;let i={...e,title:D(e.title,n)};return!function(e,n){var i;for(let t of(i=n&&"type"in n?n.type:void 0)&&i in F?F[i].concat(j.basic):j.basic)if(t in n&&"url"!==t){let r=n[t];if(r){let n=T(r);e[t]=n}}e.images=$(n.images,t,r.isStandaloneMode)}(i,e),i.url=e.url?A(e.url,t,r):null,i},V=["site","siteId","creator","creatorId","description"],B=(e,t,r,n)=>{var i;if(!e)return null;let s="card"in e?e.card:void 0,a={...e,title:D(e.title,n)};for(let t of V)a[t]=e[t]||null;if(a.images=$(e.images,t,r.isStandaloneMode),s=s||((null==(i=a.images)?void 0:i.length)?"summary_large_image":"summary"),a.card=s,"card"in a)switch(a.card){case"player":a.players=T(a.players)||[];break;case"app":a.app=a.app||{}}return a};var q=r(6083);async function z(e){let t,r;let{layout:n,page:i,defaultPage:s}=e[2],a=void 0!==s&&e[0]===q.av;return void 0!==n?(t=await n[0](),r="layout"):void 0!==i?(t=await i[0](),r="page"):a&&(t=await s[0](),r="page"),[t,r]}async function H(e,t){let{[t]:r}=e[2];if(void 0!==r)return await r[0]()}function G(e,t,r){return e instanceof URL&&(e=new URL(r.pathname,e)),A(e,t,r)}let W=e=>{var t;if(!e)return null;let r=[];return null==(t=T(e))||t.forEach(e=>{"string"==typeof e?r.push({color:e}):"object"==typeof e&&r.push({color:e.color,media:e.media})}),r};function K(e,t,r){if(!e)return null;let n={};for(let[i,s]of Object.entries(e))"string"==typeof s||s instanceof URL?n[i]=[{url:G(s,t,r)}]:(n[i]=[],null==s||s.forEach((e,s)=>{let a=G(e.url,t,r);n[i][s]={url:a,title:e.title}}));return n}let J=(e,t,r)=>{if(!e)return null;let n=function(e,t,r){return e?{url:G("string"==typeof e||e instanceof URL?e:e.url,t,r)}:null}(e.canonical,t,r),i=K(e.languages,t,r);return{canonical:n,languages:i,media:K(e.media,t,r),types:K(e.types,t,r)}},X=["noarchive","nosnippet","noimageindex","nocache","notranslate","indexifembedded","nositelinkssearchbox","unavailable_after","max-video-preview","max-image-preview","max-snippet"],Y=e=>{if(!e)return null;if("string"==typeof e)return e;let t=[];for(let r of(e.index?t.push("index"):"boolean"==typeof e.index&&t.push("noindex"),e.follow?t.push("follow"):"boolean"==typeof e.follow&&t.push("nofollow"),X)){let n=e[r];void 0!==n&&!1!==n&&t.push("boolean"==typeof n?r:`${r}:${n}`)}return t.join(", ")},Q=e=>e?{basic:Y(e),googleBot:"string"!=typeof e?Y(e.googleBot):null}:null,Z=["google","yahoo","yandex","me","other"],ee=e=>{if(!e)return null;let t={};for(let r of Z){let n=e[r];if(n){if("other"===r)for(let r in t.other={},e.other){let n=T(e.other[r]);n&&(t.other[r]=n)}else t[r]=T(n)}}return t},et=e=>{var t;if(!e)return null;if(!0===e)return{capable:!0};let r=e.startupImage?null==(t=T(e.startupImage))?void 0:t.map(e=>"string"==typeof e?{url:e}:e):null;return{capable:!("capable"in e)||!!e.capable,title:e.title||null,startupImage:r,statusBarStyle:e.statusBarStyle||"default"}},er=e=>{if(!e)return null;for(let t in e)e[t]=T(e[t]);return e},en=(e,t,r)=>e?{appId:e.appId,appArgument:e.appArgument?G(e.appArgument,t,r):void 0}:null,ei=e=>e?{appId:e.appId,admins:T(e.admins)}:null;function es(e){return R(e)?{url:e}:(Array.isArray(e),e)}let ea=e=>{if(!e)return null;let t={icon:[],apple:[]};if(Array.isArray(e))t.icon=e.map(es).filter(Boolean);else if(R(e))t.icon=[es(e)];else for(let r of y){let n=T(e[r]);n&&(t[r]=n.map(es))}return t};var eo=r(7081),el=r(1427);async function eu(e,t,r){if("function"==typeof e.generateViewport){let{route:n}=r;return r=>(0,eo.Yz)().trace(el._s.generateViewport,{spanName:`generateViewport ${n}`,attributes:{"next.page":n}},()=>e.generateViewport(t,r))}return e.viewport||null}async function ec(e,t,r){if("function"==typeof e.generateMetadata){let{route:n}=r;return r=>(0,eo.Yz)().trace(el._s.generateMetadata,{spanName:`generateMetadata ${n}`,attributes:{"next.page":n}},()=>e.generateMetadata(t,r))}return e.metadata||null}async function eh(e,t,r){var n;if(!(null==e?void 0:e[r]))return;let i=e[r].map(async e=>{var r;return(r=await e(t)).default||r});return(null==i?void 0:i.length)>0?null==(n=await Promise.all(i))?void 0:n.flat():void 0}async function ed(e,t){let{metadata:r}=e;if(!r)return null;let[n,i,s,a]=await Promise.all([eh(r,t,"icon"),eh(r,t,"apple"),eh(r,t,"openGraph"),eh(r,t,"twitter")]);return{icon:n,apple:i,openGraph:s,twitter:a,manifest:r.manifest}}async function ef({tree:e,metadataItems:t,errorMetadataItem:r,props:n,route:i,errorConvention:s}){let a,o;let l=!!(s&&e[2][s]);s?(a=await H(e,"layout"),o=s):[a,o]=await z(e),o&&(i+=`/${o}`);let u=await ed(e[2],n),c=a?await ec(a,n,{route:i}):null,h=a?await eu(a,n,{route:i}):null;if(t.push([c,u,h]),l&&s){let t=await H(e,s),a=t?await eu(t,n,{route:i}):null,o=t?await ec(t,n,{route:i}):null;r[0]=o,r[1]=u,r[2]=a}}async function ep({tree:e,parentParams:t,metadataItems:r,errorMetadataItem:n,treePrefix:i=[],getDynamicParamFromSegment:s,searchParams:a,errorConvention:o}){let l;let[u,c,{page:h}]=e,d=[...i,u],f=s(u),p=f&&null!==f.value?{...t,[f.param]:f.value}:t;for(let t in l=void 0!==h?{params:p,searchParams:a}:{params:p},await ef({tree:e,metadataItems:r,errorMetadataItem:n,errorConvention:o,props:l,route:d.filter(e=>e!==q.GC).join("/")}),c){let e=c[t];await ep({tree:e,metadataItems:r,errorMetadataItem:n,parentParams:p,treePrefix:d,searchParams:a,getDynamicParamFromSegment:s,errorConvention:o})}return 0===Object.keys(c).length&&o&&r.push(n),r}let eg=e=>!!(null==e?void 0:e.absolute),em=e=>eg(null==e?void 0:e.title);function ey(e,t){e&&(!em(e)&&em(t)&&(e.title=t.title),!e.description&&t.description&&(e.description=t.description))}async function ev(e,t,r,n,i,s){let a=e(r[n]),o=t.resolvers,l=null;if("function"==typeof a){if(!o.length)for(let t=n;t<r.length;t++){let n=e(r[t]);"function"==typeof n&&function(e,t,r){let n=t(new Promise(e=>{r.push(e)}));n instanceof Promise&&n.catch(e=>({__nextError:e})),e.push(n)}(s,n,o)}let a=o[t.resolvingIndex],u=s[t.resolvingIndex++];if(a(i),(l=u instanceof Promise?await u:u)&&"object"==typeof l&&"__nextError"in l)throw l.__nextError}else null!==a&&"object"==typeof a&&(l=a);return l}async function eb(e,t){let r;let n=x(),i=[],s={title:null,twitter:null,openGraph:null},a={resolvers:[],resolvingIndex:0},o={warnings:new Set},l={icon:[],apple:[]};for(let g=0;g<e.length;g++){var u,c,h,d,f,p;let m=e[g][1];if(g<=1&&(p=null==m?void 0:null==(u=m.icon)?void 0:u[0])&&("/favicon.ico"===p.url||p.url.toString().startsWith("/favicon.ico?"))&&"image/x-icon"===p.type){let e=null==m?void 0:null==(c=m.icon)?void 0:c.shift();0===g&&(r=e)}let y=await ev(e=>e[0],a,e,g,n,i);!function({source:e,target:t,staticFilesMetadata:r,titleTemplates:n,metadataContext:i,buildState:s,leafSegmentStaticIcons:a}){let o=void 0!==(null==e?void 0:e.metadataBase)?e.metadataBase:t.metadataBase;for(let r in e)switch(r){case"title":t.title=D(e.title,n.title);break;case"alternates":t.alternates=J(e.alternates,o,i);break;case"openGraph":t.openGraph=U(e.openGraph,o,i,n.openGraph);break;case"twitter":t.twitter=B(e.twitter,o,i,n.twitter);break;case"facebook":t.facebook=ei(e.facebook);break;case"verification":t.verification=ee(e.verification);break;case"icons":t.icons=ea(e.icons);break;case"appleWebApp":t.appleWebApp=et(e.appleWebApp);break;case"appLinks":t.appLinks=er(e.appLinks);break;case"robots":t.robots=Q(e.robots);break;case"archives":case"assets":case"bookmarks":case"keywords":t[r]=T(e[r]);break;case"authors":t[r]=T(e.authors);break;case"itunes":t[r]=en(e.itunes,o,i);break;case"applicationName":case"description":case"generator":case"creator":case"publisher":case"category":case"classification":case"referrer":case"formatDetection":case"manifest":t[r]=e[r]||null;break;case"other":t.other=Object.assign({},t.other,e.other);break;case"metadataBase":t.metadataBase=o;break;default:("viewport"===r||"themeColor"===r||"colorScheme"===r)&&null!=e[r]&&s.warnings.add(`Unsupported metadata ${r} is configured in metadata export in ${i.pathname}. Please move it to viewport export instead.
Read more: https://nextjs.org/docs/app/api-reference/functions/generate-viewport`)}!function(e,t,r,n,i,s){var a,o;if(!r)return;let{icon:l,apple:u,openGraph:c,twitter:h,manifest:d}=r;if(l&&(s.icon=l),u&&(s.apple=u),h&&!(null==e?void 0:null==(a=e.twitter)?void 0:a.hasOwnProperty("images"))){let e=B({...t.twitter,images:h},t.metadataBase,n,i.twitter);t.twitter=e}if(c&&!(null==e?void 0:null==(o=e.openGraph)?void 0:o.hasOwnProperty("images"))){let e=U({...t.openGraph,images:c},t.metadataBase,n,i.openGraph);t.openGraph=e}d&&(t.manifest=d)}(e,t,r,i,n,a)}({target:n,source:y,metadataContext:t,staticFilesMetadata:m,titleTemplates:s,buildState:o,leafSegmentStaticIcons:l}),g<e.length-2&&(s={title:(null==(h=n.title)?void 0:h.template)||null,openGraph:(null==(d=n.openGraph)?void 0:d.title.template)||null,twitter:(null==(f=n.twitter)?void 0:f.title.template)||null})}if((l.icon.length>0||l.apple.length>0)&&!n.icons&&(n.icons={icon:[],apple:[]},l.icon.length>0&&n.icons.icon.unshift(...l.icon),l.apple.length>0&&n.icons.apple.unshift(...l.apple)),o.warnings.size>0)for(let e of o.warnings)L.ZK(e);return function(e,t,r,n){let{openGraph:i,twitter:s}=e;if(i){let t={},a=em(s),o=null==s?void 0:s.description,l=!!((null==s?void 0:s.hasOwnProperty("images"))&&s.images);if(!a&&(eg(i.title)?t.title=i.title:e.title&&eg(e.title)&&(t.title=e.title)),o||(t.description=i.description||e.description||void 0),l||(t.images=i.images),Object.keys(t).length>0){let i=B(t,e.metadataBase,n,r.twitter);e.twitter?e.twitter=Object.assign({},e.twitter,{...!a&&{title:null==i?void 0:i.title},...!o&&{description:null==i?void 0:i.description},...!l&&{images:null==i?void 0:i.images}}):e.twitter=i}}return ey(i,e),ey(s,e),t&&(e.icons||(e.icons={icon:[],apple:[]}),e.icons.icon.unshift(t)),e}(n,r,s,t)}async function ew(e){let t=E(),r=[],n={resolvers:[],resolvingIndex:0};for(let i=0;i<e.length;i++){let s=await ev(e=>e[2],n,e,i,t,r);!function({target:e,source:t}){if(t)for(let r in t)switch(r){case"themeColor":e.themeColor=W(t.themeColor);break;case"colorScheme":e.colorScheme=t.colorScheme||null;break;default:void 0!==t[r]&&(e[r]=t[r])}}({target:t,source:s})}return t}async function e_({tree:e,parentParams:t,metadataItems:r,errorMetadataItem:n,getDynamicParamFromSegment:i,searchParams:s,errorConvention:a,metadataContext:o}){let l;let u=await ep({tree:e,parentParams:t,metadataItems:r,errorMetadataItem:n,getDynamicParamFromSegment:i,searchParams:s,errorConvention:a}),c=x(),h=E();try{h=await ew(u),c=await eb(u,o)}catch(e){l=e}return[l,c,h]}var eS=r(7935);function eE(e,t){return{pathname:e.split("?")[0],trailingSlash:t.trailingSlash,isStandaloneMode:"standalone"===t.nextConfigOutput}}function ex({tree:e,query:t,metadataContext:r,getDynamicParamFromSegment:s,appUsingSizeAdjustment:a,errorType:o,createDynamicallyTrackedSearchParams:l}){let u;let c=new Promise(e=>{u=e});return[async function(){let c;let f=x(),p=E(),y=f,T=p,C=[null,null,null],I=l(t),[R,k,P]=await e_({tree:e,parentParams:{},metadataItems:[],errorMetadataItem:C,searchParams:I,getDynamicParamFromSegment:s,errorConvention:"redirect"===o?void 0:o,metadataContext:r});if(R){if(c=R,!o&&(0,eS.X)(R)){let[t,n,i]=await e_({tree:e,parentParams:{},metadataItems:[],errorMetadataItem:C,searchParams:I,getDynamicParamFromSegment:s,errorConvention:"not-found",metadataContext:r});T=i,y=n,c=t||c}u(c)}else T=P,y=k,u(void 0);let O=d([function({viewport:e}){return d([h({name:"viewport",content:function(e){let t=null;if(e&&"object"==typeof e){for(let r in t="",m)if(r in e){let n=e[r];"boolean"==typeof n&&(n=n?"yes":"no"),t&&(t+=", "),t+=`${m[r]}=${n}`}}return t}(e)}),...e.themeColor?e.themeColor.map(e=>h({name:"theme-color",content:e.color,media:e.media})):[],h({name:"color-scheme",content:e.colorScheme})])}({viewport:T}),function({metadata:e}){var t,r,i;return d([(0,n.jsx)("meta",{charSet:"utf-8"}),null!==e.title&&e.title.absolute?(0,n.jsx)("title",{children:e.title.absolute}):null,h({name:"description",content:e.description}),h({name:"application-name",content:e.applicationName}),...e.authors?e.authors.map(e=>[e.url?(0,n.jsx)("link",{rel:"author",href:e.url.toString()}):null,h({name:"author",content:e.name})]):[],e.manifest?(0,n.jsx)("link",{rel:"manifest",href:e.manifest.toString(),crossOrigin:"use-credentials"}):null,h({name:"generator",content:e.generator}),h({name:"keywords",content:null==(t=e.keywords)?void 0:t.join(",")}),h({name:"referrer",content:e.referrer}),h({name:"creator",content:e.creator}),h({name:"publisher",content:e.publisher}),h({name:"robots",content:null==(r=e.robots)?void 0:r.basic}),h({name:"googlebot",content:null==(i=e.robots)?void 0:i.googleBot}),h({name:"abstract",content:e.abstract}),...e.archives?e.archives.map(e=>(0,n.jsx)("link",{rel:"archives",href:e})):[],...e.assets?e.assets.map(e=>(0,n.jsx)("link",{rel:"assets",href:e})):[],...e.bookmarks?e.bookmarks.map(e=>(0,n.jsx)("link",{rel:"bookmarks",href:e})):[],h({name:"category",content:e.category}),h({name:"classification",content:e.classification}),...e.other?Object.entries(e.other).map(([e,t])=>Array.isArray(t)?t.map(t=>h({name:e,content:t})):h({name:e,content:t})):[]])}({metadata:y}),function({alternates:e}){if(!e)return null;let{canonical:t,languages:r,media:n,types:i}=e;return d([t?b({rel:"canonical",descriptor:t}):null,r?Object.entries(r).flatMap(([e,t])=>null==t?void 0:t.map(t=>b({rel:"alternate",hrefLang:e,descriptor:t}))):null,n?Object.entries(n).flatMap(([e,t])=>null==t?void 0:t.map(t=>b({rel:"alternate",media:e,descriptor:t}))):null,i?Object.entries(i).flatMap(([e,t])=>null==t?void 0:t.map(t=>b({rel:"alternate",type:e,descriptor:t}))):null])}({alternates:y.alternates}),function({itunes:e}){if(!e)return null;let{appId:t,appArgument:r}=e,i=`app-id=${t}`;return r&&(i+=`, app-argument=${r}`),(0,n.jsx)("meta",{name:"apple-itunes-app",content:i})}({itunes:y.itunes}),function({facebook:e}){if(!e)return null;let{appId:t,admins:r}=e;return d([t?(0,n.jsx)("meta",{property:"fb:app_id",content:t}):null,...r?r.map(e=>(0,n.jsx)("meta",{property:"fb:admins",content:e})):[]])}({facebook:y.facebook}),function({formatDetection:e}){if(!e)return null;let t="";for(let r of v)r in e&&(t&&(t+=", "),t+=`${r}=no`);return(0,n.jsx)("meta",{name:"format-detection",content:t})}({formatDetection:y.formatDetection}),function({verification:e}){return e?d([g({namePrefix:"google-site-verification",contents:e.google}),g({namePrefix:"y_key",contents:e.yahoo}),g({namePrefix:"yandex-verification",contents:e.yandex}),g({namePrefix:"me",contents:e.me}),...e.other?Object.entries(e.other).map(([e,t])=>g({namePrefix:e,contents:t})):[]]):null}({verification:y.verification}),function({appleWebApp:e}){if(!e)return null;let{capable:t,title:r,startupImage:i,statusBarStyle:s}=e;return d([t?h({name:"apple-mobile-web-app-capable",content:"yes"}):null,h({name:"apple-mobile-web-app-title",content:r}),i?i.map(e=>(0,n.jsx)("link",{href:e.url,media:e.media,rel:"apple-touch-startup-image"})):null,s?h({name:"apple-mobile-web-app-status-bar-style",content:s}):null])}({appleWebApp:y.appleWebApp}),function({openGraph:e}){var t,r,n,i,s,a,o;let l;if(!e)return null;if("type"in e){let t=e.type;switch(t){case"website":l=[h({property:"og:type",content:"website"})];break;case"article":l=[h({property:"og:type",content:"article"}),h({property:"article:published_time",content:null==(i=e.publishedTime)?void 0:i.toString()}),h({property:"article:modified_time",content:null==(s=e.modifiedTime)?void 0:s.toString()}),h({property:"article:expiration_time",content:null==(a=e.expirationTime)?void 0:a.toString()}),g({propertyPrefix:"article:author",contents:e.authors}),h({property:"article:section",content:e.section}),g({propertyPrefix:"article:tag",contents:e.tags})];break;case"book":l=[h({property:"og:type",content:"book"}),h({property:"book:isbn",content:e.isbn}),h({property:"book:release_date",content:e.releaseDate}),g({propertyPrefix:"book:author",contents:e.authors}),g({propertyPrefix:"book:tag",contents:e.tags})];break;case"profile":l=[h({property:"og:type",content:"profile"}),h({property:"profile:first_name",content:e.firstName}),h({property:"profile:last_name",content:e.lastName}),h({property:"profile:username",content:e.username}),h({property:"profile:gender",content:e.gender})];break;case"music.song":l=[h({property:"og:type",content:"music.song"}),h({property:"music:duration",content:null==(o=e.duration)?void 0:o.toString()}),g({propertyPrefix:"music:album",contents:e.albums}),g({propertyPrefix:"music:musician",contents:e.musicians})];break;case"music.album":l=[h({property:"og:type",content:"music.album"}),g({propertyPrefix:"music:song",contents:e.songs}),g({propertyPrefix:"music:musician",contents:e.musicians}),h({property:"music:release_date",content:e.releaseDate})];break;case"music.playlist":l=[h({property:"og:type",content:"music.playlist"}),g({propertyPrefix:"music:song",contents:e.songs}),g({propertyPrefix:"music:creator",contents:e.creators})];break;case"music.radio_station":l=[h({property:"og:type",content:"music.radio_station"}),g({propertyPrefix:"music:creator",contents:e.creators})];break;case"video.movie":l=[h({property:"og:type",content:"video.movie"}),g({propertyPrefix:"video:actor",contents:e.actors}),g({propertyPrefix:"video:director",contents:e.directors}),g({propertyPrefix:"video:writer",contents:e.writers}),h({property:"video:duration",content:e.duration}),h({property:"video:release_date",content:e.releaseDate}),g({propertyPrefix:"video:tag",contents:e.tags})];break;case"video.episode":l=[h({property:"og:type",content:"video.episode"}),g({propertyPrefix:"video:actor",contents:e.actors}),g({propertyPrefix:"video:director",contents:e.directors}),g({propertyPrefix:"video:writer",contents:e.writers}),h({property:"video:duration",content:e.duration}),h({property:"video:release_date",content:e.releaseDate}),g({propertyPrefix:"video:tag",contents:e.tags}),h({property:"video:series",content:e.series})];break;case"video.tv_show":l=[h({property:"og:type",content:"video.tv_show"})];break;case"video.other":l=[h({property:"og:type",content:"video.other"})];break;default:throw Error(`Invalid OpenGraph type: ${t}`)}}return d([h({property:"og:determiner",content:e.determiner}),h({property:"og:title",content:null==(t=e.title)?void 0:t.absolute}),h({property:"og:description",content:e.description}),h({property:"og:url",content:null==(r=e.url)?void 0:r.toString()}),h({property:"og:site_name",content:e.siteName}),h({property:"og:locale",content:e.locale}),h({property:"og:country_name",content:e.countryName}),h({property:"og:ttl",content:null==(n=e.ttl)?void 0:n.toString()}),g({propertyPrefix:"og:image",contents:e.images}),g({propertyPrefix:"og:video",contents:e.videos}),g({propertyPrefix:"og:audio",contents:e.audio}),g({propertyPrefix:"og:email",contents:e.emails}),g({propertyPrefix:"og:phone_number",contents:e.phoneNumbers}),g({propertyPrefix:"og:fax_number",contents:e.faxNumbers}),g({propertyPrefix:"og:locale:alternate",contents:e.alternateLocale}),...l||[]])}({openGraph:y.openGraph}),function({twitter:e}){var t;if(!e)return null;let{card:r}=e;return d([h({name:"twitter:card",content:r}),h({name:"twitter:site",content:e.site}),h({name:"twitter:site:id",content:e.siteId}),h({name:"twitter:creator",content:e.creator}),h({name:"twitter:creator:id",content:e.creatorId}),h({name:"twitter:title",content:null==(t=e.title)?void 0:t.absolute}),h({name:"twitter:description",content:e.description}),g({namePrefix:"twitter:image",contents:e.images}),..."player"===r?e.players.flatMap(e=>[h({name:"twitter:player",content:e.playerUrl.toString()}),h({name:"twitter:player:stream",content:e.streamUrl.toString()}),h({name:"twitter:player:width",content:e.width}),h({name:"twitter:player:height",content:e.height})]):[],..."app"===r?[w({app:e.app,type:"iphone"}),w({app:e.app,type:"ipad"}),w({app:e.app,type:"googleplay"})]:[]])}({twitter:y.twitter}),function({appLinks:e}){return e?d([g({propertyPrefix:"al:ios",contents:e.ios}),g({propertyPrefix:"al:iphone",contents:e.iphone}),g({propertyPrefix:"al:ipad",contents:e.ipad}),g({propertyPrefix:"al:android",contents:e.android}),g({propertyPrefix:"al:windows_phone",contents:e.windows_phone}),g({propertyPrefix:"al:windows",contents:e.windows}),g({propertyPrefix:"al:windows_universal",contents:e.windows_universal}),g({propertyPrefix:"al:web",contents:e.web})]):null}({appLinks:y.appLinks}),function({icons:e}){if(!e)return null;let t=e.shortcut,r=e.icon,n=e.apple,i=e.other;return d([t?t.map(e=>S({rel:"shortcut icon",icon:e})):null,r?r.map(e=>S({rel:"icon",icon:e})):null,n?n.map(e=>S({rel:"apple-touch-icon",icon:e})):null,i?i.map(e=>_({icon:e})):null])}({icons:y.icons})]);return a&&O.push((0,n.jsx)("meta",{name:"next-size-adjust"})),(0,n.jsx)(n.Fragment,{children:O.map((e,t)=>i.cloneElement(e,{key:t}))})},async function(){let e=await c;if(e)throw e;return null}]}var eT=r(5358),eC=r(4219);let eI={wrap(e,{urlPathname:t,renderOpts:r,requestEndedState:n},i){let s=!r.supportsDynamicResponse&&!r.isDraftMode&&!r.isServerAction,a=s&&r.experimental.ppr?(0,eC.FI)(r.isDebugPPRSkeleton):null,o={isStaticGeneration:s,urlPathname:t,pagePath:r.originalPathname,incrementalCache:r.incrementalCache||globalThis.__incrementalCache,isRevalidate:r.isRevalidate,isPrerendering:r.nextExport,fetchCache:r.fetchCache,isOnDemandRevalidate:r.isOnDemandRevalidate,isDraftMode:r.isDraftMode,prerenderState:a,requestEndedState:n};return r.store=o,e.run(o,i,o)}};var eR=r(7508),ek=r(7580);r(6195).Buffer;let eP=e=>{let t=["/layout"];if(e.startsWith("/")){let r=e.split("/");for(let e=1;e<r.length+1;e++){let n=r.slice(0,e).join("/");n&&(n.endsWith("/page")||n.endsWith("/route")||(n=`${n}${n.endsWith("/")?"":"/"}layout`),t.push(n))}}return t};class eO extends s.Z{constructor(e,t){super(e,{contentType:u.eY,waitUntil:null==t?void 0:t.waitUntil,metadata:(null==t?void 0:t.metadata)??{}})}}var eA=r(5650),eN=r.n(eA);let eD=["useDeferredValue","useEffect","useImperativeHandle","useInsertionEffect","useLayoutEffect","useReducer","useRef","useState","useSyncExternalStore","useTransition","experimental_useOptimistic","useOptimistic"];function eM(e,t){if(e.message=t,e.stack){let r=e.stack.split("\n");r[0]=t,e.stack=r.join("\n")}}var eL=r(4009),ej=r(3938),e$=r(7105);let eF=e=>(0,eS.X)(e)||(0,eR.eo)(e),eU=e=>(0,ej.j)(e)||(0,e$.D)(e)||eF(e),eV={serverComponents:"serverComponents",flightData:"flightData",html:"html"};function eB({source:e,dev:t,isNextExport:r,errorLogger:n,digestErrorsMap:i,allCapturedErrors:s,silenceLogger:a}){return(o,l)=>{var u;o.digest||(o.digest=eN()(o.message+((null==l?void 0:l.stack)||o.stack||"")).toString());let c=o.digest;if(s&&s.push(o),eU(o))return o.digest;if(!(0,eL.D)(o)){if(i.has(c)?e===eV.html&&(o=i.get(c)):i.set(c,o),t&&function(e){if("string"==typeof(null==e?void 0:e.message)){if(e.message.includes("Class extends value undefined is not a constructor or null")){let t="This might be caused by a React Class Component being rendered in a Server Component, React Class Components only works in Client Components. Read more: https://nextjs.org/docs/messages/class-component-in-server-component";if(e.message.includes(t))return;eM(e,`${e.message}

${t}`);return}if(e.message.includes("createContext is not a function")){eM(e,'createContext only works in Client Components. Add the "use client" directive at the top of the file to use it. Read more: https://nextjs.org/docs/messages/context-in-server-component');return}for(let t of eD)if(RegExp(`\\b${t}\\b.*is not a function`).test(e.message)){eM(e,`${t} only works in Client Components. Add the "use client" directive at the top of the file to use it. Read more: https://nextjs.org/docs/messages/react-client-hook-in-server-component`);return}}}(o),!(r&&(null==o?void 0:null==(u=o.message)?void 0:u.includes("The specific message is omitted in production builds to avoid leaking sensitive details.")))){let e=(0,eo.Yz)().getActiveScopeSpan();e&&(e.recordException(o),e.setStatus({code:eo.Qn.ERROR,message:o.message})),a||(n?n(o).catch(()=>{}):"function"==typeof __next_log_error__?__next_log_error__(o):console.error(o))}return o.digest}}}let eq={catchall:"c","catchall-intercepted":"ci","optional-catchall":"oc",dynamic:"d","dynamic-intercepted":"di"};var ez=r(6512);let eH={"&":"\\u0026",">":"\\u003e","<":"\\u003c","\u2028":"\\u2028","\u2029":"\\u2029"},eG=/[&><\u2028\u2029]/g;function eW(e){return e.replace(eG,e=>eH[e])}var eK=r(2324),eJ=r.n(eK);let eX=eJ().enums(["c","ci","oc","d","di"]),eY=eJ().union([eJ().string(),eJ().tuple([eJ().string(),eJ().string(),eX])]),eQ=eJ().tuple([eY,eJ().record(eJ().string(),eJ().lazy(()=>eQ)),eJ().optional(eJ().nullable(eJ().string())),eJ().optional(eJ().nullable(eJ().union([eJ().literal("refetch"),eJ().literal("refresh")]))),eJ().optional(eJ().boolean())]),eZ="http://n",e0="Invalid request URL";function e1(e,t){if(e===q.GC){let r=JSON.stringify(t);return"{}"!==r?e+"?"+r:e}return e}function e2([e,t,{layout:r}],n,i,s=!1){let a=n(e),o=[e1(a?a.treeSegment:e,i),{}];return s||void 0===r||(s=!0,o[4]=!0),o[1]=Object.keys(t).reduce((e,r)=>(e[r]=e2(t[r],n,i,s),e),{}),o}let e4=["accept-encoding","keepalive","keep-alive","content-encoding","transfer-encoding","connection","expect","content-length","set-cookie"],e9=(e,t)=>{for(let[r,n]of(e["content-length"]&&"0"===e["content-length"]&&delete e["content-length"],Object.entries(e)))(t.includes(r)||!(Array.isArray(n)||"string"==typeof n))&&delete e[r];return e};var e6=r(3655),e5=r(7514);let e3=(e,t=[])=>t.some(t=>t&&(t===e||function(e,t){let r=e.split("."),n=t.split(".");if(n.length<1||r.length<n.length)return!1;let i=0;for(;n.length&&i++<2;){let e=n.pop(),t=r.pop();switch(e){case"":case"*":case"**":return!1;default:if(t!==e)return!1}}for(;n.length;){let e=n.pop(),t=r.pop();switch(e){case"":return!1;case"*":if(t)continue;return!1;case"**":if(n.length>0)return!1;return void 0!==t;default:if(t!==e)return!1}}return 0===r.length}(e,t)));var e8=r(1641),e7=r(6150),te=r(6536),tt=r(527);function tr(e){let t={};for(let[r,n]of Object.entries(e))void 0!==n&&(t[r]=Array.isArray(n)?n.join(", "):`${n}`);return t}function tn(e,t){let r=e.headers,n=new e8.qC(e7.h.from(r)),i=t.getHeaders(),s=new e8.nV((0,te.EK)(i)),a=e9({...tr(r),...tr(i)},e4);return s.getAll().forEach(e=>{void 0===e.value?n.delete(e.name):n.set(e)}),a.cookie=n.toString(),delete a["transfer-encoding"],new Headers(a)}async function ti(e,{staticGenerationStore:t,requestStore:r}){var n,i;await Promise.all([null==(n=t.incrementalCache)?void 0:n.revalidateTag(t.revalidatedTags||[]),...Object.values(t.pendingRevalidates||{})]);let s=(null==(i=t.revalidatedTags)?void 0:i.length)?1:0,a=(0,e6.fB)(r.mutableCookies).length?1:0;e.setHeader("x-action-revalidated",JSON.stringify([[],s,a]))}async function ts(e,t,r,n,i,s){var a,o;if(!r)throw Error("Invariant: Missing `host` header from a forwarded Server Actions request.");let l=tn(e,t);l.set("x-action-forwarded","1");let c=(null==(a=s.incrementalCache)?void 0:a.requestProtocol)||"https",h=process.env.__NEXT_PRIVATE_ORIGIN||`${c}://${r.value}`,d=new URL(`${h}${i}${n}`);try{let r;if(!e.body)throw Error("invariant: Missing request body.");r=e.body;let n=await fetch(d,{method:"POST",body:r,duplex:"half",headers:l,next:{internal:1}});if(n.headers.get("content-type")===u.eY){for(let[e,r]of n.headers)e4.includes(e)||t.setHeader(e,r);return new eO(n.body)}null==(o=n.body)||o.cancel()}catch(e){console.error("failed to forward action response",e)}}async function ta(e,t,r,n,i,a){t.setHeader("x-action-redirect",n);let o=new URL(n,"http://n");if(n.startsWith("/")||r&&r.value===o.host){var l,c,h,d,f;if(!r)throw Error("Invariant: Missing `host` header from a forwarded Server Actions request.");let n=tn(e,t);n.set(u.A,"1");let s=(null==(l=a.incrementalCache)?void 0:l.requestProtocol)||"https",p=process.env.__NEXT_PRIVATE_ORIGIN||`${s}://${r.value}`,g=new URL(`${p}${i}${o.pathname}${o.search}`);a.revalidatedTags&&(n.set(ek.of,a.revalidatedTags.join(",")),n.set(ek.X_,(null==(d=a.incrementalCache)?void 0:null==(h=d.prerenderManifest)?void 0:null==(c=h.preview)?void 0:c.previewModeId)||"")),n.delete("next-router-state-tree");try{let e=await fetch(g,{method:"GET",headers:n,next:{internal:1}});if(e.headers.get("content-type")===u.eY){for(let[r,n]of e.headers)e4.includes(r)||t.setHeader(r,n);return new eO(e.body)}null==(f=e.body)||f.cancel()}catch(e){console.error("failed to get redirect response",e)}}return s.Z.fromStatic("{}")}function to(e){return e.length>100?e.slice(0,100)+"...":e}async function tl({req:e,res:t,ComponentMod:r,serverModuleMap:n,generateFlight:i,staticGenerationStore:a,requestStore:o,serverActions:l,ctx:u}){var c,h;let d,f,p,g;e.headers["content-type"];let{serverActionsManifest:m,page:y}=u.renderOpts,{actionId:v,isURLEncodedAction:b,isMultipartAction:w,isFetchAction:_,isServerAction:S}=(0,e5.G)(e);if(!S)return;if(a.isStaticGeneration)throw Error("Invariant: server actions can't be handled during static rendering");a.fetchCache="default-no-store";let E="string"==typeof e.headers.origin?new URL(e.headers.origin).host:void 0,x=e.headers["x-forwarded-host"],T=e.headers.host,C=x?{type:"x-forwarded-host",value:x}:T?{type:"host",value:T}:void 0;if(E){if(!C||E!==C.value){if(e3(E,null==l?void 0:l.allowedOrigins));else{C?console.error(`\`${C.type}\` header with value \`${to(C.value)}\` does not match \`origin\` header with value \`${to(E)}\` from a forwarded Server Actions request. Aborting the action.`):console.error("`x-forwarded-host` or `host` headers are not provided. One of these is needed to compare the `origin` header from a forwarded Server Actions request. Aborting the action.");let e=Error("Invalid Server Actions request.");if(_){t.statusCode=500,await Promise.all([null==(c=a.incrementalCache)?void 0:c.revalidateTag(a.revalidatedTags||[]),...Object.values(a.pendingRevalidates||{})]);let r=Promise.reject(e);try{await r}catch{}return{type:"done",result:await i(u,{actionResult:r,skipFlight:!a.pathWasRevalidated})}}throw e}}}else g="Missing `origin` header from a forwarded Server Actions request.";t.setHeader("Cache-Control","no-cache, no-store, max-age=0, must-revalidate");let I=[],{actionAsyncStorage:R}=r,k=!!e.headers["x-action-forwarded"];if(v){let r=(0,tt.k)(v,y,m);if(r)return{type:"done",result:await ts(e,t,C,r,u.renderOpts.basePath,a)}}try{return await R.run({isAction:!0},async()=>{{let{decodeReply:t,decodeAction:i,decodeFormState:s}=r;if(!e.body)throw Error("invariant: Missing request body.");if(w){let r=await e.request.formData();if(_)I=await t(r,n);else{let e=await i(r,n);if("function"==typeof e){g&&(0,L.ZK)(g);let t=await e();f=s(t,r)}return}}else{try{p=tu(v,n)}catch(e){return null!==v&&console.error(e),{type:"not-found"}}let r="",i=e.body.getReader();for(;;){let{done:e,value:t}=await i.read();if(e)break;r+=new TextDecoder().decode(t)}if(b){let e=function(e){let t=new URLSearchParams(e),r=new FormData;for(let[e,n]of t)r.append(e,n);return r}(r);I=await t(e,n)}else I=await t(r,n)}}try{p=p??tu(v,n)}catch(e){return null!==v&&console.error(e),{type:"not-found"}}let s=(await r.__next_app__.require(p))[v],l=await s.apply(null,I);_&&(await ti(t,{staticGenerationStore:a,requestStore:o}),d=await i(u,{actionResult:Promise.resolve(l),skipFlight:!a.pathWasRevalidated||k}))}),{type:"done",result:d,formState:f}}catch(r){if((0,eR.eo)(r)){let n=(0,eR.M6)(r),i=(0,eR.j2)(r);if(await ti(t,{staticGenerationStore:a,requestStore:o}),t.statusCode=i,_)return{type:"done",result:await ta(e,t,C,n,u.renderOpts.basePath,a)};if(r.mutableCookies){let e=new Headers;(0,e6._5)(e,r.mutableCookies)&&t.setHeader("set-cookie",Array.from(e.values()))}return t.setHeader("Location",n),{type:"done",result:s.Z.fromStatic("")}}if((0,eS.X)(r)){if(t.statusCode=404,await ti(t,{staticGenerationStore:a,requestStore:o}),_){let e=Promise.reject(r);try{await e}catch{}return{type:"done",result:await i(u,{skipFlight:!1,actionResult:e,asNotFound:!0})}}return{type:"not-found"}}if(_){t.statusCode=500,await Promise.all([null==(h=a.incrementalCache)?void 0:h.revalidateTag(a.revalidatedTags||[]),...Object.values(a.pendingRevalidates||{})]);let e=Promise.reject(r);try{await e}catch{}return{type:"done",result:await i(u,{actionResult:e,skipFlight:!a.pathWasRevalidated||k})}}throw r}}function tu(e,t){try{var r;if(!e)throw Error("Invariant: Missing 'next-action' header.");let n=null==t?void 0:null==(r=t[e])?void 0:r.id;if(!n)throw Error("Invariant: Couldn't find action module ID from module map.");return n}catch(t){throw Error(`Failed to find Server Action "${e}". This request might be from an older or newer deployment. ${t instanceof Error?`Original error: ${t.message}`:""}`)}}var tc=r(8823);function th(e){return e.split("/").map(e=>encodeURIComponent(e)).join("/")}var td=r(8066);function tf(e,t,r,n,i,s){let a;let o=[],l={src:"",crossOrigin:r},u=e.rootMainFiles.map(th);if(0===u.length)throw Error("Invariant: missing bootstrap script. This is a bug in Next.js");if(n){l.src=`${t}/_next/`+u[0]+i,l.integrity=n[u[0]];for(let e=1;e<u.length;e++){let r=`${t}/_next/`+u[e]+i,s=n[u[e]];o.push(r,s)}a=()=>{for(let e=0;e<o.length;e+=2)td.preinit(o[e],{as:"script",integrity:o[e+1],crossOrigin:r,nonce:s})}}else{l.src=`${t}/_next/`+u[0]+i;for(let e=1;e<u.length;e++){let r=`${t}/_next/`+u[e]+i;o.push(r)}a=()=>{for(let e=0;e<o.length;e++)td.preinit(o[e],{as:"script",nonce:s,crossOrigin:r})}}return[a,l]}var tp=r(9912),tg=r(2553),tm=r(8613);function ty({polyfills:e,renderServerInsertedHTML:t,serverCapturedErrors:r,basePath:i}){let s=0,o=0!==e.length;return async function(){let l=[];for(;s<r.length;){let e=r[s];if(s++,(0,eS.X)(e))l.push((0,n.jsx)("meta",{name:"robots",content:"noindex"},e.digest),null);else if((0,eR.eo)(e)){let t=(0,tp.V)((0,eR.M6)(e),i),r=(0,eR.j2)(e)===tm.X.PermanentRedirect;t&&l.push((0,n.jsx)("meta",{id:"__next-page-redirect",httpEquiv:"refresh",content:`${r?0:1};url=${t}`},e.digest))}}let u=t();if(!o&&0===l.length&&Array.isArray(u)&&0===u.length)return"";let c=await (0,tg.renderToReadableStream)((0,n.jsxs)(n.Fragment,{children:[o&&e.map(e=>(0,n.jsx)("script",{...e},e.src)),u,l]}),{progressiveChunkSize:1048576});return o=!1,(0,a.PN)(c)}}function tv(e,t,r,n,i){var s;let a=t.replace(/\.[^.]+$/,""),o=new Set,l=new Set,u=e.entryCSSFiles[a],c=(null==(s=e.entryJSFiles)?void 0:s[a])??[];if(u)for(let e of u)r.has(e)||(i&&r.add(e),o.add(e));if(c)for(let e of c)n.has(e)||(i&&n.add(e),l.add(e));return{styles:[...o],scripts:[...l]}}function tb(e,t,r){if(!e||!t)return null;let n=t.replace(/\.[^.]+$/,""),i=new Set,s=!1,a=e.app[n];if(a)for(let e of(s=!0,a))r.has(e)||(i.add(e),r.add(e));return i.size?[...i].sort():s&&0===r.size?[]:null}function tw(e){let[,t,{loading:r}]=e;return!!r||Object.values(t).some(e=>tw(e))}function t_(e){return e.default||e}function tS(e,t){let r="";return e.renderOpts.deploymentId&&(r+=`?dpl=${e.renderOpts.deploymentId}`),r}async function tE({filePath:e,getComponent:t,injectedCSS:r,injectedJS:i,ctx:s}){let{styles:a,scripts:o}=tv(s.clientReferenceManifest,e,r,i),l=a?a.map((e,t)=>{let r=`${s.assetPrefix}/_next/${th(e)}${tS(s,!0)}`;return(0,n.jsx)("link",{rel:"stylesheet",href:r,precedence:"next",crossOrigin:s.renderOpts.crossOrigin},t)}):null,u=o?o.map(e=>(0,n.jsx)("script",{src:`${s.assetPrefix}/_next/${th(e)}${tS(s,!0)}`,async:!0})):null;return[t_(await t()),l,u]}var tx=r(8359);function tT(e){return(0,eo.Yz)().trace(el.Xy.createComponentTree,{spanName:"build component tree"},()=>tC(e))}async function tC({createSegmentPath:e,loaderTree:t,parentParams:r,firstItem:s,rootLayoutIncluded:a,injectedCSS:o,injectedJS:l,injectedFontPreloadTags:u,asNotFound:c,metadataOutlet:h,ctx:d,missingSlots:f}){let p;let{renderOpts:{nextConfigOutput:g,experimental:m},staticGenerationStore:y,componentMod:{NotFoundBoundary:v,LayoutRouter:b,RenderFromTemplateContext:w,ClientPageRoot:_,createUntrackedSearchParams:S,createDynamicallyTrackedSearchParams:E,serverHooks:{DynamicServerError:x},Postpone:T},pagePath:C,getDynamicParamFromSegment:I,isPrefetch:R,query:k}=d,{page:P,layoutOrPagePath:O,segment:A,components:N,parallelRoutes:D}=function(e){let[t,r,n]=e,{layout:i}=n,{page:s}=n;s=t===q.av?n.defaultPage:s;let a=(null==i?void 0:i[1])||(null==s?void 0:s[1]);return{page:s,segment:t,components:n,layoutOrPagePath:a,parallelRoutes:r}}(t),{layout:M,template:L,error:j,loading:$,"not-found":F}=N,U=new Set(o),V=new Set(l),B=new Set(u),H=function({ctx:e,layoutOrPagePath:t,injectedCSS:r,injectedJS:i,injectedFontPreloadTags:s}){let{styles:a,scripts:o}=t?tv(e.clientReferenceManifest,t,r,i,!0):{styles:[],scripts:[]},l=t?tb(e.renderOpts.nextFontManifest,t,s):null;if(l){if(l.length)for(let t=0;t<l.length;t++){let r=l[t],n=/\.(woff|woff2|eot|ttf|otf)$/.exec(r)[1],i=`font/${n}`,s=`${e.assetPrefix}/_next/${th(r)}`;e.componentMod.preloadFont(s,i,e.renderOpts.crossOrigin)}else try{let t=new URL(e.assetPrefix);e.componentMod.preconnect(t.origin,"anonymous")}catch(t){e.componentMod.preconnect("/","anonymous")}}let u=a?a.map((t,r)=>{let i=`${e.assetPrefix}/_next/${th(t)}${tS(e,!0)}`;return e.componentMod.preloadStyle(i,e.renderOpts.crossOrigin),(0,n.jsx)("link",{rel:"stylesheet",href:i,precedence:"next",crossOrigin:e.renderOpts.crossOrigin},r)}):[],c=o?o.map((t,r)=>{let i=`${e.assetPrefix}/_next/${th(t)}${tS(e,!0)}`;return(0,n.jsx)("script",{src:i,async:!0},`script-${r}`)}):[];return u.length||c.length?[...u,...c]:null}({ctx:d,layoutOrPagePath:O,injectedCSS:U,injectedJS:V,injectedFontPreloadTags:B}),[G,W,K]=L?await tE({ctx:d,filePath:L[1],getComponent:L[0],injectedCSS:U,injectedJS:V}):[i.Fragment],[J,X,Y]=j?await tE({ctx:d,filePath:j[1],getComponent:j[0],injectedCSS:U,injectedJS:V}):[],[Q,Z,ee]=$?await tE({ctx:d,filePath:$[1],getComponent:$[0],injectedCSS:U,injectedJS:V}):[],et=void 0!==M,er=void 0!==P,[en]=await (0,eo.Yz)().trace(el.Xy.getLayoutOrPageModule,{hideSpan:!(et||er),spanName:"resolve segment modules",attributes:{"next.segment":A}},()=>z(t)),ei=et&&!a,es=a||ei,[ea,eu]=F?await tE({ctx:d,filePath:F[1],getComponent:F[0],injectedCSS:U,injectedJS:V}):[],ec=null==en?void 0:en.dynamic;if("export"===g){if(ec&&"auto"!==ec){if("force-dynamic"===ec)throw new tx.G('Page with `dynamic = "force-dynamic"` couldn\'t be exported. `output: "export"` requires all pages be renderable statically because there is not runtime server to dynamic render routes in this output format. Learn more: https://nextjs.org/docs/app/building-your-application/deploying/static-exports')}else ec="error"}if("string"==typeof ec){if("error"===ec)y.dynamicShouldError=!0;else if("force-dynamic"===ec){if(y.forceDynamic=!0,y.isStaticGeneration&&!y.prerenderState){let e=new x('Page with `dynamic = "force-dynamic"` won\'t be rendered statically.');throw y.dynamicUsageDescription=e.message,y.dynamicUsageStack=e.stack,e}}else y.dynamicShouldError=!1,y.forceStatic="force-static"===ec}if("string"==typeof(null==en?void 0:en.fetchCache)&&(y.fetchCache=null==en?void 0:en.fetchCache),void 0!==(null==en?void 0:en.revalidate)&&function(e,t){try{let r;if(!1===e);else if("number"==typeof e&&!isNaN(e)&&e>-1);else if(void 0!==e)throw Error(`Invalid revalidate value "${e}" on "${t}", must be a non-negative number or "false"`)}catch(e){if(e instanceof Error&&e.message.includes("Invalid revalidate"))throw e;return}}(null==en?void 0:en.revalidate,y.urlPathname),"number"==typeof(null==en?void 0:en.revalidate)&&(d.defaultRevalidate=en.revalidate,(void 0===y.revalidate||"number"==typeof y.revalidate&&y.revalidate>d.defaultRevalidate)&&(y.revalidate=d.defaultRevalidate),!y.forceStatic&&y.isStaticGeneration&&0===d.defaultRevalidate&&!y.prerenderState)){let e=`revalidate: 0 configured ${A}`;throw y.dynamicUsageDescription=e,new x(e)}if(y.dynamicUsageErr)throw y.dynamicUsageErr;let eh=en?await t_(en):void 0,ed=eh;Object.keys(D).length>1&&ei&&eh&&(ed=e=>(0,n.jsx)(v,{notFound:ea?(0,n.jsxs)(n.Fragment,{children:[H,(0,n.jsxs)(eh,{params:e.params,children:[eu,(0,n.jsx)(ea,{})]})]}):void 0,children:(0,n.jsx)(eh,{...e})}));let ef=I(A),ep=ef&&null!==ef.value?{...r,[ef.param]:ef.value}:r,eg=ef?ef.treeSegment:A,em=await Promise.all(Object.keys(D).map(async t=>{let r="children"===t,i=s?[t]:[eg,t],a=D[t],o=ea&&r?(0,n.jsx)(ea,{}):void 0,l=null;return R&&(Q||!tw(a))&&!m.ppr||(l=await tC({createSegmentPath:t=>e([...i,...t]),loaderTree:a,parentParams:ep,rootLayoutIncluded:es,injectedCSS:U,injectedJS:V,injectedFontPreloadTags:B,asNotFound:c,metadataOutlet:r?h:void 0,ctx:d,missingSlots:f})),[t,(0,n.jsx)(b,{parallelRouterKey:t,segmentPath:e(i),error:J,errorStyles:X,errorScripts:Y,template:(0,n.jsx)(G,{children:(0,n.jsx)(w,{})}),templateStyles:W,templateScripts:K,notFound:o,notFoundStyles:eu}),l]})),ey={},ev={};for(let e of em){let[t,r,n]=e;ey[t]=r,ev[t]=n}let eb=Q?[(0,n.jsx)(Q,{}),Z,ee]:null;if(!ed)return[eg,ev,(0,n.jsxs)(n.Fragment,{children:[H,ey.children]}),eb];if(y.forceDynamic&&y.prerenderState)return[eg,ev,(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(T,{prerenderState:y.prerenderState,reason:'dynamic = "force-dynamic" was used',pathname:y.urlPathname}),H]}),eb];let ew=function(e){let t=(null==e?void 0:e.default)||e;return(null==t?void 0:t.$$typeof)===Symbol.for("react.client.reference")}(en);return ea&&c&&!em.length&&(ey.children=(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("meta",{name:"robots",content:"noindex"}),!1,eu,(0,n.jsx)(ea,{})]})),ey.params=ep,er?ew?(ey.searchParams=S(k),p=(0,n.jsxs)(n.Fragment,{children:[h,(0,n.jsx)(_,{props:ey,Component:ed}),H]})):(ey.searchParams=E(k),p=(0,n.jsxs)(n.Fragment,{children:[h,(0,n.jsx)(ed,{...ey}),H]})):p=(0,n.jsxs)(n.Fragment,{children:[H,(0,n.jsx)(ed,{...ey})]}),[eg,ev,(0,n.jsxs)(n.Fragment,{children:[p,null]}),eb]}async function tI({createSegmentPath:e,loaderTreeToFilter:t,parentParams:r,isFirst:n,flightRouterState:i,parentRendered:s,rscPayloadHead:a,injectedCSS:l,injectedJS:u,injectedFontPreloadTags:c,rootLayoutIncluded:h,asNotFound:d,metadataOutlet:f,ctx:p}){let{renderOpts:{nextFontManifest:g,experimental:m},query:y,isPrefetch:v,getDynamicParamFromSegment:b,componentMod:{tree:w}}=p,[_,S,E]=t,x=Object.keys(S),{layout:T}=E,C=void 0!==T&&!h,I=h||C,R=b(_),k=R&&null!==R.value?{...r,[R.param]:R.value}:r,P=e1(R?R.treeSegment:_,y),O=!i||!(0,o.j)(P,i[0])||0===x.length||"refetch"===i[3],A=!m.ppr&&v&&!E.loading&&!tw(w);if(!s&&O){let r=i&&(0,o.W)(P,i[0])?i[0]:P,s=e2(t,b,y);return A?[[r,s,null,null]]:[[r,s,await tT({ctx:p,createSegmentPath:e,loaderTree:t,parentParams:k,firstItem:n,injectedCSS:l,injectedJS:u,injectedFontPreloadTags:c,rootLayoutIncluded:h,asNotFound:d,metadataOutlet:f}),a]]}let N=null==T?void 0:T[1],D=new Set(l),M=new Set(u),L=new Set(c);return N&&(tv(p.clientReferenceManifest,N,D,M,!0),tb(g,N,L)),(await Promise.all(x.map(async t=>{let r=S[t],o=n?[t]:[P,t];return(await tI({ctx:p,createSegmentPath:t=>e([...o,...t]),loaderTreeToFilter:r,parentParams:k,flightRouterState:i&&i[1][t],parentRendered:s||O,isFirst:!1,rscPayloadHead:a,injectedCSS:D,injectedJS:M,injectedFontPreloadTags:L,rootLayoutIncluded:I,asNotFound:d,metadataOutlet:f})).map(e=>e[0]===q.av&&i&&i[1][t][0]&&"refetch"!==i[1][t][3]?null:[P,t,...e]).filter(Boolean)}))).flat()}var tR=r(5787);class tk{constructor(e){this.options=e,this.prerender=null}async render(e){let{prelude:t,postponed:r}=await this.prerender(e,this.options);return{stream:t,postponed:r}}}class tP{constructor(e,t){this.postponed=e,this.options=t,this.resume=r(2553).resume}async render(e){return{stream:await this.resume(e,this.postponed,this.options),resumed:!0}}}class tO{constructor(e){this.options=e,this.renderToReadableStream=r(2553).renderToReadableStream}async render(e){return{stream:await this.renderToReadableStream(e,this.options)}}}class tA{async render(e){return{stream:new ReadableStream({start(e){e.close()}}),resumed:!1}}}function tN({ppr:e,isStaticGeneration:t,postponed:r,streamOptions:{signal:n,onError:i,onPostpone:s,onHeaders:a,maxHeadersLength:o,nonce:l,bootstrapScripts:u,formState:c}}){if(e){if(t)return new tk({signal:n,onError:i,onPostpone:s,onHeaders:a,maxHeadersLength:o,bootstrapScripts:u});if(1===r)return new tA;if(r)return new tP(r[1],{signal:n,onError:i,onPostpone:s,nonce:l})}return new tO(t?{signal:n,onError:i,nonce:l,bootstrapScripts:u,formState:c}:{signal:n,onError:i,onHeaders:a,maxHeadersLength:o,nonce:l,bootstrapScripts:u,formState:c})}let tD=new WeakMap,tM=new TextEncoder;async function tL(e){let t=e.getReader();for(;;){let{done:e}=await t.read();if(e)return}}function tj(e,t,r){let n=t?`<script nonce=${JSON.stringify(t)}>`:"<script>",i=new TextDecoder("utf-8",{fatal:!0}),s={stream:!0},a=e.getReader();return new ReadableStream({type:"bytes",start(e){try{!function(e,t,r){e.enqueue(tM.encode(`${t}(self.__next_f=self.__next_f||[]).push(${eW(JSON.stringify([0]))});self.__next_f.push(${eW(JSON.stringify([2,r]))})</script>`))}(e,n,r)}catch(t){e.error(t)}},async pull(e){try{let{done:t,value:r}=await a.read();if(t){let t=i.decode(r,{stream:!1});t.length&&t$(e,n,t),e.close()}else{let t=i.decode(r,s);t$(e,n,t)}}catch(t){e.error(t)}}})}function t$(e,t,r){e.enqueue(tM.encode(`${t}self.__next_f.push(${eW(JSON.stringify([1,r]))})</script>`))}var tF=r(9567),tU=r(9665),tV=r(9963);function tB({ctx:e}){let t="/404"===e.pagePath,r="number"==typeof e.res.statusCode&&e.res.statusCode>400;return t||r?(0,n.jsx)("meta",{name:"robots",content:"noindex"}):null}async function tq(e,t){let r=null,{componentMod:{tree:i,renderToReadableStream:s,createDynamicallyTrackedSearchParams:a},getDynamicParamFromSegment:o,appUsingSizeAdjustment:l,staticGenerationStore:{urlPathname:u},query:c,requestId:h,flightRouterState:d}=e;if(!(null==t?void 0:t.skipFlight)){let[s,f]=ex({tree:i,query:c,metadataContext:eE(u,e.renderOpts),getDynamicParamFromSegment:o,appUsingSizeAdjustment:l,createDynamicallyTrackedSearchParams:a});r=(await tI({ctx:e,createSegmentPath:e=>e,loaderTreeToFilter:i,parentParams:{},flightRouterState:d,isFirst:!0,rscPayloadHead:[(0,n.jsx)(s,{},h),(0,n.jsx)(tB,{ctx:e},"noindex")],injectedCSS:new Set,injectedJS:new Set,injectedFontPreloadTags:new Set,rootLayoutIncluded:!1,asNotFound:e.isNotFoundPath||(null==t?void 0:t.asNotFound),metadataOutlet:(0,n.jsx)(f,{})})).map(e=>e.slice(1))}let f=[e.renderOpts.buildId,r],p=s(t?[t.actionResult,f]:f,e.clientReferenceManifest.clientModules,{onError:e.flightDataRendererErrorHandler}),g={metadata:{}};if(e.staticGenerationStore.pendingRevalidates||e.staticGenerationStore.revalidatedTags){var m;let t=Promise.all([null==(m=e.staticGenerationStore.incrementalCache)?void 0:m.revalidateTag(e.staticGenerationStore.revalidatedTags||[]),...Object.values(e.staticGenerationStore.pendingRevalidates||{})]).finally(()=>{process.env.NEXT_PRIVATE_DEBUG_CACHE&&console.log("pending revalidates promise finished for:",u)});e.builtInWaitUntil?e.builtInWaitUntil(t):g.waitUntil=t}return new eO(p,g)}function tz(e){return e.split("/")}async function tH({tree:e,ctx:t,asNotFound:r}){let i=new Set,s=new Set,a=new Set,o=new Set,{getDynamicParamFromSegment:l,query:c,appUsingSizeAdjustment:h,componentMod:{AppRouter:d,GlobalError:f,createDynamicallyTrackedSearchParams:p},staticGenerationStore:{urlPathname:g}}=t,m=e2(e,l,c),[y,v]=ex({tree:e,errorType:r?"not-found":void 0,query:c,metadataContext:eE(g,t.renderOpts),getDynamicParamFromSegment:l,appUsingSizeAdjustment:h,createDynamicallyTrackedSearchParams:p}),b=await tT({ctx:t,createSegmentPath:e=>e,loaderTree:e,parentParams:{},firstItem:!0,injectedCSS:i,injectedJS:s,injectedFontPreloadTags:a,rootLayoutIncluded:!1,asNotFound:r,metadataOutlet:(0,n.jsx)(v,{}),missingSlots:o}),w=t.res.getHeader("vary"),_="string"==typeof w&&w.includes(u.TP);return(0,n.jsx)(d,{buildId:t.renderOpts.buildId,assetPrefix:t.assetPrefix,urlParts:tz(g),initialTree:m,initialSeedData:b,couldBeIntercepted:_,initialHead:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(tB,{ctx:t}),(0,n.jsx)(y,{},t.requestId)]}),globalErrorComponent:f,missingSlots:o})}async function tG({tree:e,ctx:t,errorType:r}){let{getDynamicParamFromSegment:i,query:s,appUsingSizeAdjustment:a,componentMod:{AppRouter:o,GlobalError:l,createDynamicallyTrackedSearchParams:u},staticGenerationStore:{urlPathname:c},requestId:h}=t,[d]=ex({tree:e,metadataContext:eE(c,t.renderOpts),errorType:r,query:s,getDynamicParamFromSegment:i,appUsingSizeAdjustment:a,createDynamicallyTrackedSearchParams:u}),f=(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(d,{},h),!1,(0,n.jsx)(tB,{ctx:t})]}),p=e2(e,i,s),g=[p[0],{},(0,n.jsxs)("html",{id:"__next_error__",children:[(0,n.jsx)("head",{}),(0,n.jsx)("body",{})]}),null];return(0,n.jsx)(o,{buildId:t.renderOpts.buildId,assetPrefix:t.assetPrefix,urlParts:tz(c),initialTree:p,initialHead:f,globalErrorComponent:l,initialSeedData:g,missingSlots:new Set})}function tW({reactServerStream:e,preinitScripts:t,clientReferenceManifest:n,nonce:s}){t();let a=function(e,t,n){let i=tD.get(e);if(i)return i;let s=(0,r(2505).createFromReadableStream)(e,{ssrManifest:{moduleLoading:t.moduleLoading,moduleMap:t.edgeSSRModuleMapping},nonce:n});return tD.set(e,s),s}(e,n,s);return i.use(a)}async function tK(e,t,c,h,d,f,p){var g,m,y,v;let b,w;let _="/404"===c,S=Date.now(),{buildManifest:E,subresourceIntegrityManifest:x,serverActionsManifest:T,ComponentMod:C,dev:I,nextFontManifest:R,supportsDynamicResponse:k,serverActions:P,appDirDevErrorLogger:O,assetPrefix:A="",enableTainting:N}=d;if(C.__next_app__){let e=(0,tU.B)(C);globalThis.__next_require__=e.require,globalThis.__next_chunk_load__=e.loadChunk}"function"==typeof e.on&&e.on("end",()=>{if(p.ended=!0,"performance"in globalThis){let e=(0,tU.R)({reset:!0});e&&(0,eo.Yz)().startSpan(el.Xy.clientComponentLoading,{startTime:e.clientComponentLoadStart,attributes:{"next.clientComponentLoadCount":e.clientComponentLoadCount}}).end(e.clientComponentLoadStart+e.clientComponentLoadTimes)}});let D={},M=!!(null==R?void 0:R.appUsingSizeAdjust),j=d.clientReferenceManifest,$=(0,tt.w)({serverActionsManifest:T,pageName:d.page});(0,tR.Mo)({clientReferenceManifest:j,serverActionsManifest:T,serverModuleMap:$});let F=new Map,U=[],V=!!d.nextExport,{staticGenerationStore:B,requestStore:q}=f,{isStaticGeneration:z}=B,H=d.experimental.ppr&&z,G=eB({source:eV.serverComponents,dev:I,isNextExport:V,errorLogger:O,digestErrorsMap:F,silenceLogger:H}),W=eB({source:eV.flightData,dev:I,isNextExport:V,errorLogger:O,digestErrorsMap:F,silenceLogger:H}),K=eB({source:eV.html,dev:I,isNextExport:V,errorLogger:O,digestErrorsMap:F,allCapturedErrors:U,silenceLogger:H});C.patchFetch();let J=!0!==k,{tree:X,taintObjectReference:Y}=C;N&&Y("Do not pass process.env to client components since it will leak sensitive data",process.env),B.fetchMetrics=[],D.fetchMetrics=B.fetchMetrics,h={...h},(0,l.Q)(h);let Q=void 0!==e.headers[u.A.toLowerCase()],Z=Q&&void 0!==e.headers[u.qw.toLowerCase()],ee=Q&&(!Z||!d.experimental.ppr||(0,tF.Ag)(c)),et=function(e){if(void 0!==e){if(Array.isArray(e))throw Error("Multiple router state headers were sent. This is not allowed.");if(e.length>4e4)throw Error("The router state header was too large.");try{let t=JSON.parse(decodeURIComponent(e));return(0,eK.assert)(t,eQ),t}catch{throw Error("The router state header was sent but could not be parsed.")}}}(e.headers[u.ph.toLowerCase()]);b=crypto.randomUUID();let er=(v=d.params??{},function(e){let t=(0,ez.R)(e);if(!t)return null;let r=t.param,n=v[r];if("__NEXT_EMPTY_PARAM__"===n&&(n=void 0),Array.isArray(n)?n=n.map(e=>encodeURIComponent(e)):"string"==typeof n&&(n=encodeURIComponent(n)),!n){let i="catchall"===t.type,s="optional-catchall"===t.type;if(i||s){let e=eq[t.type];return s?{param:r,value:null,type:e,treeSegment:[r,"",e]}:{param:r,value:n=c.split("/").slice(1).map(e=>{let t=(0,tV.b8)(e);return v[t.key]??t.key}),type:e,treeSegment:[r,n.join("/"),e]}}return function e(t,r){if(!t)return null;let n=t[0];if((0,o.W)(r,n))return!Array.isArray(n)||Array.isArray(r)?null:{param:n[0],value:n[1],treeSegment:n,type:n[2]};for(let n of Object.values(t[1])){let t=e(n,r);if(t)return t}return null}(et,e)}let i=function(e){let t=eq[e];if(!t)throw Error("Unknown dynamic param type");return t}(t.type);return{param:r,value:n,treeSegment:[r,Array.isArray(n)?n.join("/"):n,i],type:i}}),en={...f,builtInWaitUntil:d.builtInWaitUntil,getDynamicParamFromSegment:er,query:h,isPrefetch:Z,requestTimestamp:S,appUsingSizeAdjustment:M,flightRouterState:ee?et:void 0,requestId:b,defaultRevalidate:!1,pagePath:c,clientReferenceManifest:j,assetPrefix:A,flightDataRendererErrorHandler:W,serverComponentsErrorHandler:G,isNotFoundPath:_,res:t};if(Q&&!z)return tq(en);let ei=z?function(e){let t=tq(e).then(async e=>({flightData:await e.toUnchunkedString(!0)})).catch(e=>({err:e}));return async()=>{let e=await t;if("err"in e)throw e.err;return e.flightData}}(en):null,es=e.headers["content-security-policy"]||e.headers["content-security-policy-report-only"];es&&"string"==typeof es&&(w=function(e){var t;let r=e.split(";").map(e=>e.trim()),n=r.find(e=>e.startsWith("script-src"))||r.find(e=>e.startsWith("default-src"));if(!n)return;let i=null==(t=n.split(" ").slice(1).map(e=>e.trim()).find(e=>e.startsWith("'nonce-")&&e.length>8&&e.endsWith("'")))?void 0:t.slice(7,-1);if(i){if(eG.test(i))throw Error("Nonce value from Content-Security-Policy contained HTML escape characters.\nLearn more: https://nextjs.org/docs/messages/nonce-contained-invalid-characters");return i}}(es));let{HeadManagerContext:ea}=r(3589),{ServerInsertedHTMLProvider:eu,renderServerInsertedHTML:ec}=function(){let e=[],t=t=>{e.push(t)};return{ServerInsertedHTMLProvider:({children:e})=>(0,n.jsx)(tc.ServerInsertedHTMLContext.Provider,{value:t,children:e}),renderServerInsertedHTML:()=>e.map((e,t)=>(0,n.jsx)(i.Fragment,{children:e()},"__next_server_inserted__"+t))}}();null==(g=(0,eo.Yz)().getRootSpanAttributes())||g.set("next.route",c);let eh=(0,eo.Yz)().wrap(el.k0.getBodyResult,{spanName:`render route (app) ${c}`,attributes:{"next.route":c}},async({asNotFound:e,tree:i,formState:s})=>{let o=E.polyfillFiles.filter(e=>e.endsWith(".js")&&!e.endsWith(".module.js")).map(e=>({src:`${A}/_next/${e}${tS(en,!1)}`,integrity:null==x?void 0:x[e],crossOrigin:d.crossOrigin,noModule:!0,nonce:w})),[l,u]=tf(E,A,d.crossOrigin,x,tS(en,!0),w),[h,f]=C.renderToReadableStream((0,n.jsx)(tH,{tree:i,ctx:en,asNotFound:e}),j.clientModules,{onError:G}).tee(),p=(0,n.jsx)(ea.Provider,{value:{appDir:!0,nonce:w},children:(0,n.jsx)(eu,{children:(0,n.jsx)(tW,{reactServerStream:h,preinitScripts:l,clientReferenceManifest:j,nonce:w})})}),g=!!d.postponed,m=B.prerenderState?e=>{e.forEach((e,t)=>{D.headers??={},D.headers[t]=e})}:z||g?void 0:e=>{e.forEach((e,r)=>{t.appendHeader(r,e)})},y=ty({polyfills:o,renderServerInsertedHTML:ec,serverCapturedErrors:U,basePath:d.basePath}),v=tN({ppr:d.experimental.ppr,isStaticGeneration:z,postponed:"string"==typeof d.postponed?JSON.parse(d.postponed):null,streamOptions:{onError:K,onHeaders:m,maxHeadersLength:600,nonce:w,bootstrapScripts:[u],formState:s}});try{let{stream:e,postponed:t,resumed:r}=await v.render(p),i=B.prerenderState;if(i){if((0,eC.tK)(i))return null!=t?D.postponed=JSON.stringify([2,t]):D.postponed=JSON.stringify(1),{stream:await (0,a._W)(e,{getServerInsertedHTML:y})};{let[r,o]=f.tee();if(f=r,await tL(o),(0,eC.tK)(i))return null!=t?D.postponed=JSON.stringify([2,t]):D.postponed=JSON.stringify(1),{stream:await (0,a._W)(e,{getServerInsertedHTML:y})};{let r=e;if(B.forceDynamic)throw new tx.G('Invariant: a Page with `dynamic = "force-dynamic"` did not trigger the dynamic pathway. This is a bug in Next.js');if(null!=t){let i=tN({ppr:!0,isStaticGeneration:!1,postponed:[2,t],streamOptions:{signal:(0,eC.Su)("static prerender resume"),onError:K,nonce:w}}),s=new ReadableStream,o=(0,n.jsx)(ea.Provider,{value:{appDir:!0,nonce:w},children:(0,n.jsx)(eu,{children:(0,n.jsx)(tW,{reactServerStream:s,preinitScripts:()=>{},clientReferenceManifest:j,nonce:w})})}),{stream:l}=await i.render(o);r=(0,a.QW)(e,l)}return{stream:await (0,a.Jm)(r,{inlinedDataStream:tj(f,w,s),getServerInsertedHTML:y})}}}}if(!d.postponed)return{stream:await (0,a.eN)(e,{inlinedDataStream:tj(f,w,s),isStaticGeneration:z||J,getServerInsertedHTML:y,serverInsertedHTMLToHead:!0,validateRootLayout:I})};{let t=tj(f,w,s);if(r)return{stream:await (0,a.Bb)(e,{inlinedDataStream:t,getServerInsertedHTML:y})};return{stream:await (0,a.J$)(e,{inlinedDataStream:t})}}}catch(y){if((0,tx.q)(y)||"object"==typeof y&&null!==y&&"message"in y&&"string"==typeof y.message&&y.message.includes("https://nextjs.org/docs/advanced-features/static-html-export")||z&&(0,ej.j)(y))throw y;let e=(0,e$.D)(y);if(e){let e=function(e){let t=e.stack;return t?t.replace(/^[^\n]*\n/,""):""}(y);if(d.experimental.missingSuspenseWithCSRBailout)throw(0,L.vU)(`${y.reason} should be wrapped in a suspense boundary at page "${c}". Read more: https://nextjs.org/docs/messages/missing-suspense-with-csr-bailout
${e}`),y;(0,L.ZK)(`Entire page "${c}" deopted into client-side rendering due to "${y.reason}". Read more: https://nextjs.org/docs/messages/deopted-into-client-rendering
${e}`)}(0,eS.X)(y)&&(t.statusCode=404);let l=!1;if((0,eR.eo)(y)){if(l=!0,t.statusCode=(0,eR.j2)(y),y.mutableCookies){let e=new Headers;(0,e6._5)(e,y.mutableCookies)&&t.setHeader("set-cookie",Array.from(e.values()))}let e=(0,tp.V)((0,eR.M6)(y),d.basePath);t.setHeader("Location",e)}let u=404===en.res.statusCode;u||l||e||(t.statusCode=500);let h=u?"not-found":l?"redirect":void 0,[p,g]=tf(E,A,d.crossOrigin,x,tS(en,!1),w),m=C.renderToReadableStream((0,n.jsx)(tG,{tree:i,ctx:en,errorType:h}),j.clientModules,{onError:G});try{let e=await (0,a.MY)({ReactDOMServer:r(2553),element:(0,n.jsx)(tW,{reactServerStream:m,preinitScripts:p,clientReferenceManifest:j,nonce:w}),streamOptions:{nonce:w,bootstrapScripts:[g],formState:s}});return{err:y,stream:await (0,a.eN)(e,{inlinedDataStream:tj(f,w,s),isStaticGeneration:z,getServerInsertedHTML:ty({polyfills:o,renderServerInsertedHTML:ec,serverCapturedErrors:[],basePath:d.basePath}),serverInsertedHTMLToHead:!0,validateRootLayout:I})}}catch(e){throw e}}}),ed=await tl({req:e,res:t,ComponentMod:C,serverModuleMap:$,generateFlight:tq,staticGenerationStore:B,requestStore:q,serverActions:P,ctx:en}),ef=null;if(ed){if("not-found"===ed.type){let e=["",{},X[2]],t=await eh({asNotFound:!0,tree:e,formState:ef});return new s.Z(t.stream,{metadata:D})}if("done"===ed.type){if(ed.result)return ed.result.assignMetadata(D),ed.result;ed.formState&&(ef=ed.formState)}}let ep={metadata:D},eg=await eh({asNotFound:_,tree:X,formState:ef});if(B.pendingRevalidates||B.revalidatedTags){let t=Promise.all([null==(y=B.incrementalCache)?void 0:y.revalidateTag(B.revalidatedTags||[]),...Object.values(B.pendingRevalidates||{})]).finally(()=>{process.env.NEXT_PRIVATE_DEBUG_CACHE&&console.log("pending revalidates promise finished for:",e.url)});d.builtInWaitUntil?d.builtInWaitUntil(t):ep.waitUntil=t}(function(e){var t,r;let n=[],{pagePath:i,urlPathname:s}=e;if(Array.isArray(e.tags)||(e.tags=[]),i)for(let r of eP(i))r=`${ek.zt}${r}`,(null==(t=e.tags)?void 0:t.includes(r))||e.tags.push(r),n.push(r);if(s){let t=new URL(s,"http://n").pathname,i=`${ek.zt}${t}`;(null==(r=e.tags)?void 0:r.includes(i))||e.tags.push(i),n.push(i)}})(B),B.tags&&(D.fetchTags=B.tags.join(","));let em=new s.Z(eg.stream,ep);if(!z)return em;eg.stream=await em.toUnchunkedString(!0);let ey=F.size>0?F.values().next().value:null;if(B.prerenderState&&(0,eC.tK)(B.prerenderState)&&(null==(m=B.prerenderState)?void 0:m.isDebugSkeleton))for(let e of((0,L.ZK)("The following dynamic usage was detected:"),(0,eC.gS)(B.prerenderState)))(0,L.ZK)(e);if(!ei)throw Error("Invariant: Flight data resolver is missing when generating static HTML");if(ey)throw ey;let ev=await ei();return ev&&(D.flightData=ev),!1===B.forceStatic&&(B.revalidate=0),D.revalidate=B.revalidate??en.defaultRevalidate,0===D.revalidate&&(D.staticBailoutInfo={description:B.dynamicUsageDescription,stack:B.dynamicUsageStack}),new s.Z(eg.stream,ep)}let tJ=(e,t,r,n,i)=>{let s=function(e){if(!e)throw Error(e0);try{if(new URL(e,eZ).origin!==eZ)throw Error(e0);return e}catch{throw Error(e0)}}(e.url);return eT.B.wrap(i.ComponentMod.requestAsyncStorage,{req:e,res:t,renderOpts:i},a=>eI.wrap(i.ComponentMod.staticGenerationAsyncStorage,{urlPathname:s,renderOpts:i,requestEndedState:{ended:!1}},s=>tK(e,t,r,n,i,{requestStore:a,staticGenerationStore:s,componentMod:i.ComponentMod,renderOpts:i},s.requestEndedState||{})))}},4219:(e,t,r)=>{"use strict";r.d(t,{FI:()=>l,Su:()=>f,TP:()=>u,gS:()=>h,tK:()=>c});var n=r(9220),i=r(3938),s=r(8359),a=r(6588);let o="function"==typeof n.unstable_postpone;function l(e){return{isDebugSkeleton:e,dynamicAccesses:[]}}function u(e,t){let r=(0,a.RO)(e.urlPathname);if(e.isUnstableCacheCallback)throw Error(`Route ${r} used "${t}" inside a function cached with "unstable_cache(...)". Accessing Dynamic data sources inside a cache scope is not supported. If you need this data inside a cached function use "${t}" outside of the cached function and pass the required dynamic data in as an argument. See more info here: https://nextjs.org/docs/app/api-reference/functions/unstable_cache`);if(e.dynamicShouldError)throw new s.G(`Route ${r} with \`dynamic = "error"\` couldn't be rendered statically because it used \`${t}\`. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`);if(e.prerenderState)!function(e,t,r){d();let i=`Route ${r} needs to bail out of prerendering at this point because it used ${t}. React throws this special object to indicate where. It should not be caught by your own try/catch. Learn more: https://nextjs.org/docs/messages/ppr-caught-error`;e.dynamicAccesses.push({stack:e.isDebugSkeleton?Error().stack:void 0,expression:t}),n.unstable_postpone(i)}(e.prerenderState,t,r);else if(e.revalidate=0,e.isStaticGeneration){let n=new i.$(`Route ${r} couldn't be rendered statically because it used \`${t}\`. See more info here: https://nextjs.org/docs/messages/dynamic-server-error`);throw e.dynamicUsageDescription=t,e.dynamicUsageStack=n.stack,n}}function c(e){return e.dynamicAccesses.length>0}function h(e){return e.dynamicAccesses.filter(e=>"string"==typeof e.stack&&e.stack.length>0).map(({expression:e,stack:t})=>(t=t.split("\n").slice(4).filter(e=>!(e.includes("node_modules/next/")||e.includes(" (<anonymous>)")||e.includes(" (node:"))).join("\n"),`Dynamic API Usage Debug - ${e}:
${t}`))}function d(){if(!o)throw Error("Invariant: React.unstable_postpone is not defined. This suggests the wrong version of React was loaded. This is a bug in Next.js")}function f(e){d();let t=new AbortController;try{n.unstable_postpone(e)}catch(e){t.abort(e)}return t.signal}},5787:(e,t,r)=>{"use strict";r.d(t,{Mo:()=>i});let n=Symbol.for("next.server.action-manifests");function i({clientReferenceManifest:e,serverActionsManifest:t,serverModuleMap:r}){globalThis[n]={clientReferenceManifest:e,serverActionsManifest:t,serverModuleMap:r}}},6512:(e,t,r)=>{"use strict";r.d(t,{R:()=>i});var n=r(9567);function i(e){let t=n.Wz.find(t=>e.startsWith(t));return(t&&(e=e.slice(t.length)),e.startsWith("[[...")&&e.endsWith("]]"))?{type:"optional-catchall",param:e.slice(5,-2)}:e.startsWith("[...")&&e.endsWith("]")?{type:t?"catchall-intercepted":"catchall",param:e.slice(4,-1)}:e.startsWith("[")&&e.endsWith("]")?{type:t?"dynamic-intercepted":"dynamic",param:e.slice(1,-1)}:null}},5358:(e,t,r)=>{"use strict";r.d(t,{B:()=>h});var n=r(9338),i=r(6150),s=r(3655),a=r(1641),o=r(1057);class l{constructor(e,t,r,n){var i;let s=e&&(0,o.Iq)(t,e).isOnDemandRevalidate,a=null==(i=r.get(o.dS))?void 0:i.value;this.isEnabled=!!(!s&&a&&e&&a===e.previewModeId),this._previewModeId=null==e?void 0:e.previewModeId,this._mutableCookies=n}enable(){if(!this._previewModeId)throw Error("Invariant: previewProps missing previewModeId this should never happen");this._mutableCookies.set({name:o.dS,value:this._previewModeId,httpOnly:!0,sameSite:"none",secure:!0,path:"/"})}disable(){this._mutableCookies.set({name:o.dS,value:"",httpOnly:!0,sameSite:"none",secure:!0,path:"/",expires:new Date(0)})}}var u=r(6536);function c(e,t){if("x-middleware-set-cookie"in e.headers&&"string"==typeof e.headers["x-middleware-set-cookie"]){let r=e.headers["x-middleware-set-cookie"],n=new Headers;for(let e of(0,u.l$)(r))n.append("set-cookie",e);for(let e of new a.nV(n).getAll())t.set(e)}}let h={wrap(e,{req:t,res:r,renderOpts:o},u){let h;function d(e){r&&r.setHeader("Set-Cookie",e)}o&&"previewProps"in o&&(h=o.previewProps);let f={},p={get headers(){return f.headers||(f.headers=function(e){let t=i.h.from(e);for(let e of n.vu)t.delete(e.toString().toLowerCase());return i.h.seal(t)}(t.headers)),f.headers},get cookies(){if(!f.cookies){let e=new a.qC(i.h.from(t.headers));c(t,e),f.cookies=s.Qb.seal(e)}return f.cookies},get mutableCookies(){if(!f.mutableCookies){let e=function(e,t){let r=new a.qC(i.h.from(e));return s.vr.wrap(r,t)}(t.headers,(null==o?void 0:o.onUpdateCookies)||(r?d:void 0));c(t,e),f.mutableCookies=e}return f.mutableCookies},get draftMode(){return f.draftMode||(f.draftMode=new l(h,t,this.cookies,this.mutableCookies)),f.draftMode},reactLoadableManifest:(null==o?void 0:o.reactLoadableManifest)||{},assetPrefix:(null==o?void 0:o.assetPrefix)||""};return e.run(p,u,p)}}},9665:(e,t,r)=>{"use strict";r.d(t,{B:()=>a,R:()=>o});let n=0,i=0,s=0;function a(e){return"performance"in globalThis?{require:(...t)=>{0===n&&(n=performance.now());let r=performance.now();try{return s+=1,e.__next_app__.require(...t)}finally{i+=performance.now()-r}},loadChunk:(...t)=>{let r=performance.now();try{return s+=1,e.__next_app__.loadChunk(...t)}finally{i+=performance.now()-r}}}:e.__next_app__}function o(e={}){let t=0===n?void 0:{clientComponentLoadStart:n,clientComponentLoadTimes:i,clientComponentLoadCount:s};return e.reset&&(n=0,i=0,s=0),t}},9567:(e,t,r)=>{"use strict";r.d(t,{Ag:()=>s,CK:()=>a,Wz:()=>i});var n=r(1959);let i=["(..)(..)","(.)","(..)","(...)"];function s(e){return void 0!==e.split("/").find(e=>i.find(t=>e.startsWith(t)))}function a(e){let t,r,s;for(let n of e.split("/"))if(r=i.find(e=>n.startsWith(e))){[t,s]=e.split(r,2);break}if(!t||!r||!s)throw Error(`Invalid interception route: ${e}. Must be in the format /<intercepting route>/(..|...|..)(..)/<intercepted route>`);switch(t=(0,n.w)(t),r){case"(.)":s="/"===t?`/${s}`:t+"/"+s;break;case"(..)":if("/"===t)throw Error(`Invalid interception route: ${e}. Cannot use (..) marker at the root level, use (.) instead.`);s=t.split("/").slice(0,-1).concat(s).join("/");break;case"(...)":s="/"+s;break;case"(..)(..)":let a=t.split("/");if(a.length<=2)throw Error(`Invalid interception route: ${e}. Cannot use (..)(..) marker at the root level or one level up.`);s=a.slice(0,-2).concat(s).join("/");break;default:throw Error("Invariant: unexpected marker")}return{interceptingRoute:t,interceptedRoute:s}}},5172:(e,t,r)=>{"use strict";r.d(t,{AppPageRouteModule:()=>R});var n={};r.r(n),r.d(n,{HtmlContext:()=>m,useHtmlContext:()=>y});var i={};r.r(i),r.d(i,{AmpStateContext:()=>v});var s={};r.r(s),r.d(s,{ImageConfigContext:()=>w});var a={};r.r(a),r.d(a,{default:()=>I});var o={};r.r(o),r.d(o,{AmpContext:()=>i,AppRouterContext:()=>d,HeadManagerContext:()=>c,HooksClientContext:()=>f,HtmlContext:()=>n,ImageConfigContext:()=>s,Loadable:()=>a,LoadableContext:()=>b,RouterContext:()=>p,ServerInsertedHtml:()=>h});var l=r(2042);class u{constructor({userland:e,definition:t}){this.userland=e,this.definition=t}}var c=r(3589),h=r(8823),d=r(5291),f=r(4504),p=r(402),g=r(9220);let m=(0,g.createContext)(void 0);function y(){let e=(0,g.useContext)(m);if(!e)throw Error("<Html> should not be imported outside of pages/_document.\nRead more: https://nextjs.org/docs/messages/no-document-import-in-page");return e}let v=g.createContext({});var b=r(5975);let w=g.createContext({deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",loaderFile:"",domains:[],disableStaticImages:!1,minimumCacheTTL:60,formats:["image/webp"],dangerouslyAllowSVG:!1,contentSecurityPolicy:"script-src 'none'; frame-src 'none'; sandbox;",contentDispositionType:"inline",localPatterns:void 0,remotePatterns:[],qualities:void 0,unoptimized:!1}),_=[],S=[];function E(e){let t=e(),r={loading:!0,loaded:null,error:null};return r.promise=t.then(e=>(r.loading=!1,r.loaded=e,e)).catch(e=>{throw r.loading=!1,r.error=e,e}),r}class x{promise(){return this._res.promise}retry(){this._clearTimeouts(),this._res=this._loadFn(this._opts.loader),this._state={pastDelay:!1,timedOut:!1};let{_res:e,_opts:t}=this;e.loading&&("number"==typeof t.delay&&(0===t.delay?this._state.pastDelay=!0:this._delay=setTimeout(()=>{this._update({pastDelay:!0})},t.delay)),"number"==typeof t.timeout&&(this._timeout=setTimeout(()=>{this._update({timedOut:!0})},t.timeout))),this._res.promise.then(()=>{this._update({}),this._clearTimeouts()}).catch(e=>{this._update({}),this._clearTimeouts()}),this._update({})}_update(e){this._state={...this._state,error:this._res.error,loaded:this._res.loaded,loading:this._res.loading,...e},this._callbacks.forEach(e=>e())}_clearTimeouts(){clearTimeout(this._delay),clearTimeout(this._timeout)}getCurrentValue(){return this._state}subscribe(e){return this._callbacks.add(e),()=>{this._callbacks.delete(e)}}constructor(e,t){this._loadFn=e,this._opts=t,this._callbacks=new Set,this._delay=null,this._timeout=null,this.retry()}}function T(e){return function(e,t){let r=Object.assign({loader:null,loading:null,delay:200,timeout:null,webpack:null,modules:null},t),n=null;function i(){if(!n){let t=new x(e,r);n={getCurrentValue:t.getCurrentValue.bind(t),subscribe:t.subscribe.bind(t),retry:t.retry.bind(t),promise:t.promise.bind(t)}}return n.promise()}function s(e,t){!function(){i();let e=g.useContext(b.LoadableContext);e&&Array.isArray(r.modules)&&r.modules.forEach(t=>{e(t)})}();let s=g.useSyncExternalStore(n.subscribe,n.getCurrentValue,n.getCurrentValue);return g.useImperativeHandle(t,()=>({retry:n.retry}),[]),g.useMemo(()=>{var t;return s.loading||s.error?g.createElement(r.loading,{isLoading:s.loading,pastDelay:s.pastDelay,timedOut:s.timedOut,error:s.error,retry:n.retry}):s.loaded?g.createElement((t=s.loaded)&&t.default?t.default:t,e):null},[e,s])}return _.push(i),s.preload=()=>i(),s.displayName="LoadableComponent",g.forwardRef(s)}(E,e)}function C(e,t){let r=[];for(;e.length;){let n=e.pop();r.push(n(t))}return Promise.all(r).then(()=>{if(e.length)return C(e,t)})}T.preloadAll=()=>new Promise((e,t)=>{C(_).then(e,t)}),T.preloadReady=e=>(void 0===e&&(e=[]),new Promise(t=>{let r=()=>t();C(S,e).then(r,r)}));let I=T;class R extends u{render(e,t,r){return(0,l.f)(e,t,r.page,r.query,r.renderOpts)}}},7538:(e,t,r)=>{"use strict";r.d(t,{Q:()=>s,T:()=>a});let n=["__nextFallback","__nextLocale","__nextInferredLocaleFromDefault","__nextDefaultLocale","__nextIsNotFound",r(9338).H4],i=["__nextDataReq"];function s(e){for(let t of n)delete e[t]}function a(e,t){let r="string"==typeof e,s=r?new URL(e):e;for(let e of n)s.searchParams.delete(e);if(t)for(let e of i)s.searchParams.delete(e);return r?s.toString():s}},1902:(e,t,r)=>{"use strict";let n,i,s;r.d(t,{k:()=>E});var a=r(5080),o=r.n(a),l=r(7580);let u=0,c="x-vercel-cache-tags",h="x-vercel-sc-headers",d="x-vercel-revalidate",f="x-vercel-cache-item-name",p=!!process.env.NEXT_PRIVATE_DEBUG_CACHE;async function g(e,t,r=0){let n=new AbortController,i=setTimeout(()=>{n.abort()},500);return fetch(e,{...t||{},signal:n.signal}).catch(n=>{if(3!==r)return p&&console.log(`Fetch failed for ${e} retry ${r}`),g(e,t,r+1);throw n}).finally(()=>{clearTimeout(i)})}class m{hasMatchingTags(e,t){if(e.length!==t.length)return!1;let r=new Set(e),n=new Set(t);if(r.size!==n.size)return!1;for(let e of r)if(!n.has(e))return!1;return!0}static isAvailable(e){return!!(e._requestHeaders["x-vercel-sc-host"]||process.env.SUSPENSE_CACHE_URL)}constructor(e){if(this.headers={},this.headers["Content-Type"]="application/json",h in e._requestHeaders){let t=JSON.parse(e._requestHeaders[h]);for(let e in t)this.headers[e]=t[e];delete e._requestHeaders[h]}let t=e._requestHeaders["x-vercel-sc-host"]||process.env.SUSPENSE_CACHE_URL,r=e._requestHeaders["x-vercel-sc-basepath"]||process.env.SUSPENSE_CACHE_BASEPATH;if(process.env.SUSPENSE_CACHE_AUTH_TOKEN&&(this.headers.Authorization=`Bearer ${process.env.SUSPENSE_CACHE_AUTH_TOKEN}`),t){let e=process.env.SUSPENSE_CACHE_PROTO||"https";this.cacheEndpoint=`${e}://${t}${r||""}`,p&&console.log("using cache endpoint",this.cacheEndpoint)}else p&&console.log("no cache endpoint available");e.maxMemoryCacheSize?n||(p&&console.log("using memory store for fetch cache"),n=new(o())({max:e.maxMemoryCacheSize,length({value:e}){var t;if(!e)return 25;if("REDIRECT"===e.kind)return JSON.stringify(e.props).length;if("IMAGE"===e.kind)throw Error("invariant image should not be incremental-cache");return"FETCH"===e.kind?JSON.stringify(e.data||"").length:"ROUTE"===e.kind?e.body.length:e.html.length+((null==(t=JSON.stringify("PAGE"===e.kind&&e.pageData))?void 0:t.length)||0)}})):p&&console.log("not using memory store for fetch cache")}resetRequestCache(){null==n||n.reset()}async revalidateTag(...e){let[t]=e;if(t="string"==typeof t?[t]:t,p&&console.log("revalidateTag",t),t.length){if(Date.now()<u){p&&console.log("rate limited ",u);return}for(let e=0;e<Math.ceil(t.length/64);e++){let r=t.slice(64*e,64*e+64);try{let e=await g(`${this.cacheEndpoint}/v1/suspense-cache/revalidate?tags=${r.map(e=>encodeURIComponent(e)).join(",")}`,{method:"POST",headers:this.headers,next:{internal:!0}});if(429===e.status){let t=e.headers.get("retry-after")||"60000";u=Date.now()+parseInt(t)}if(!e.ok)throw Error(`Request failed with status ${e.status}.`)}catch(e){console.warn("Failed to revalidate tag",r,e)}}}}async get(...e){var t;let[r,i={}]=e,{tags:s,softTags:a,kindHint:o,fetchIdx:h,fetchUrl:d}=i;if("fetch"!==o)return null;if(Date.now()<u)return p&&console.log("rate limited"),null;let g=null==n?void 0:n.get(r),m=(null==g?void 0:null==(t=g.value)?void 0:t.kind)==="FETCH"&&this.hasMatchingTags(s??[],g.value.tags??[]);if(this.cacheEndpoint&&(!g||!m))try{let e=Date.now(),t=await fetch(`${this.cacheEndpoint}/v1/suspense-cache/${r}`,{method:"GET",headers:{...this.headers,[f]:d,[c]:(null==s?void 0:s.join(","))||"",[l.Ar]:(null==a?void 0:a.join(","))||""},next:{internal:!0,fetchType:"cache-get",fetchUrl:d,fetchIdx:h}});if(429===t.status){let e=t.headers.get("retry-after")||"60000";u=Date.now()+parseInt(e)}if(404===t.status)return p&&console.log(`no fetch cache entry for ${r}, duration: ${Date.now()-e}ms`),null;if(!t.ok)throw console.error(await t.text()),Error(`invalid response from cache ${t.status}`);let i=await t.json();if(!i||"FETCH"!==i.kind)throw p&&console.log({cached:i}),Error("invalid cache value");if("FETCH"===i.kind)for(let e of(i.tags??=[],s??[]))i.tags.includes(e)||i.tags.push(e);let o=t.headers.get("x-vercel-cache-state"),m=t.headers.get("age");g={value:i,lastModified:"fresh"!==o?Date.now()-l.BR:Date.now()-1e3*parseInt(m||"0",10)},p&&console.log(`got fetch cache entry for ${r}, duration: ${Date.now()-e}ms, size: ${Object.keys(i).length}, cache-state: ${o} tags: ${null==s?void 0:s.join(",")} softTags: ${null==a?void 0:a.join(",")}`),g&&(null==n||n.set(r,g))}catch(e){p&&console.error("Failed to get from fetch-cache",e)}return g||null}async set(...e){let[t,r,i]=e,{fetchCache:s,fetchIdx:a,fetchUrl:o,tags:l}=i;if(s){if(Date.now()<u){p&&console.log("rate limited");return}if(null==n||n.set(t,{value:r,lastModified:Date.now()}),this.cacheEndpoint)try{let e=Date.now();null!==r&&"revalidate"in r&&(this.headers[d]=r.revalidate.toString()),!this.headers[d]&&null!==r&&"data"in r&&(this.headers["x-vercel-cache-control"]=r.data.headers["cache-control"]);let n=JSON.stringify({...r,tags:void 0});p&&console.log("set cache",t);let i=await fetch(`${this.cacheEndpoint}/v1/suspense-cache/${t}`,{method:"POST",headers:{...this.headers,[f]:o||"",[c]:(null==l?void 0:l.join(","))||""},body:n,next:{internal:!0,fetchType:"cache-set",fetchUrl:o,fetchIdx:a}});if(429===i.status){let e=i.headers.get("retry-after")||"60000";u=Date.now()+parseInt(e)}if(!i.ok)throw p&&console.log(await i.text()),Error(`invalid response ${i.status}`);p&&console.log(`successfully set to fetch-cache for ${t}, duration: ${Date.now()-e}ms, size: ${n.length}`)}catch(e){p&&console.error("Failed to update fetch cache",e)}}}}var y=r(3889),v=r.n(y);class b{constructor(e){this.fs=e.fs,this.flushToDisk=e.flushToDisk,this.serverDistDir=e.serverDistDir,this.appDir=!!e._appDir,this.pagesDir=!!e._pagesDir,this.revalidatedTags=e.revalidatedTags,this.experimental=e.experimental,this.debug=!!process.env.NEXT_PRIVATE_DEBUG_CACHE,e.maxMemoryCacheSize&&!i?(this.debug&&console.log("using memory store for fetch cache"),i=new(o())({max:e.maxMemoryCacheSize,length({value:e}){var t;if(!e)return 25;if("REDIRECT"===e.kind)return JSON.stringify(e.props).length;if("IMAGE"===e.kind)throw Error("invariant image should not be incremental-cache");return"FETCH"===e.kind?JSON.stringify(e.data||"").length:"ROUTE"===e.kind?e.body.length:e.html.length+((null==(t=JSON.stringify(e.pageData))?void 0:t.length)||0)}})):this.debug&&console.log("not using memory store for fetch cache"),this.serverDistDir&&this.fs&&(this.tagsManifestPath=v().join(this.serverDistDir,"..","cache","fetch-cache","tags-manifest.json"),this.loadTagsManifest())}resetRequestCache(){}loadTagsManifest(){if(this.tagsManifestPath&&this.fs&&!s){try{s=JSON.parse(this.fs.readFileSync(this.tagsManifestPath,"utf8"))}catch(e){s={version:1,items:{}}}this.debug&&console.log("loadTagsManifest",s)}}async revalidateTag(...e){let[t]=e;if(t="string"==typeof t?[t]:t,this.debug&&console.log("revalidateTag",t),0!==t.length&&(await this.loadTagsManifest(),s&&this.tagsManifestPath)){for(let e of t){let t=s.items[e]||{};t.revalidatedAt=Date.now(),s.items[e]=t}try{await this.fs.mkdir(v().dirname(this.tagsManifestPath)),await this.fs.writeFile(this.tagsManifestPath,JSON.stringify(s||{})),this.debug&&console.log("Updated tags manifest",s)}catch(e){console.warn("Failed to update tags manifest.",e)}}}async get(...e){var t,r,n;let[a,o={}]=e,{tags:u,softTags:c,kindHint:h}=o,d=null==i?void 0:i.get(a);if(this.debug&&console.log("get",a,u,h,!!d),(null==d?void 0:null==(t=d.value)?void 0:t.kind)==="PAGE"){let e;let t=null==(n=d.value.headers)?void 0:n[l.Et];"string"==typeof t&&(e=t.split(",")),(null==e?void 0:e.length)&&(this.loadTagsManifest(),e.some(e=>{var t;return(null==s?void 0:null==(t=s.items[e])?void 0:t.revalidatedAt)&&(null==s?void 0:s.items[e].revalidatedAt)>=((null==d?void 0:d.lastModified)||Date.now())})&&(d=void 0))}return d&&(null==d?void 0:null==(r=d.value)?void 0:r.kind)==="FETCH"&&(this.loadTagsManifest(),[...u||[],...c||[]].some(e=>{var t;return!!this.revalidatedTags.includes(e)||(null==s?void 0:null==(t=s.items[e])?void 0:t.revalidatedAt)&&(null==s?void 0:s.items[e].revalidatedAt)>=((null==d?void 0:d.lastModified)||Date.now())})&&(d=void 0)),d??null}async set(...e){let[t,r,n]=e;if(null==i||i.set(t,{value:r,lastModified:Date.now()}),this.debug&&console.log("set",t),this.flushToDisk){if((null==r?void 0:r.kind)==="ROUTE"){let e=this.getFilePath(`${t}.body`,"app");await this.fs.mkdir(v().dirname(e)),await this.fs.writeFile(e,r.body);let n={headers:r.headers,status:r.status,postponed:void 0};await this.fs.writeFile(e.replace(/\.body$/,l.EX),JSON.stringify(n,null,2));return}if((null==r?void 0:r.kind)==="PAGE"){let e="string"==typeof r.pageData,n=this.getFilePath(`${t}.html`,e?"app":"pages");if(await this.fs.mkdir(v().dirname(n)),await this.fs.writeFile(n,r.html),await this.fs.writeFile(this.getFilePath(`${t}${e?this.experimental.ppr?l.Sx:l.hd:l.JT}`,e?"app":"pages"),e?r.pageData:JSON.stringify(r.pageData)),r.headers||r.status){let e={headers:r.headers,status:r.status,postponed:r.postponed};await this.fs.writeFile(n.replace(/\.html$/,l.EX),JSON.stringify(e))}}else if((null==r?void 0:r.kind)==="FETCH"){let e=this.getFilePath(t,"fetch");await this.fs.mkdir(v().dirname(e)),await this.fs.writeFile(e,JSON.stringify({...r,tags:n.tags}))}}}detectFileKind(e){if(!this.appDir&&!this.pagesDir)throw Error("Invariant: Can't determine file path kind, no page directory enabled");if(!this.appDir&&this.pagesDir)return"pages";if(this.appDir&&!this.pagesDir)return"app";let t=this.getFilePath(e,"pages");if(this.fs.existsSync(t))return"pages";if(t=this.getFilePath(e,"app"),this.fs.existsSync(t))return"app";throw Error(`Invariant: Unable to determine file path kind for ${e}`)}getFilePath(e,t){switch(t){case"fetch":return v().join(this.serverDistDir,"..","cache","fetch-cache",e);case"pages":return v().join(this.serverDistDir,"pages",e);case"app":return v().join(this.serverDistDir,"app",e);default:throw Error("Invariant: Can't determine file path kind")}}}var w=r(6419),_=r(1577);class S{static #e=this.timings=new Map;constructor(e){this.prerenderManifest=e}get(e){var t;let r=S.timings.get(e);if(void 0!==r||void 0!==(r=null==(t=this.prerenderManifest.routes[e])?void 0:t.initialRevalidateSeconds))return r}set(e,t){S.timings.set(e,t)}clear(){S.timings.clear()}}class E{constructor({fs:e,dev:t,appDir:r,pagesDir:n,flushToDisk:i,fetchCache:s,minimalMode:a,serverDistDir:o,requestHeaders:u,requestProtocol:c,maxMemoryCacheSize:h,getPrerenderManifest:d,fetchCacheKeyPrefix:f,CurCacheHandler:p,allowedRevalidateHeaderKeys:g,experimental:y}){var v,w,_,E;this.locks=new Map,this.unlocks=new Map;let x=!!process.env.NEXT_PRIVATE_DEBUG_CACHE;this.hasCustomCacheHandler=!!p,p?x&&console.log("using custom cache handler",p.name):(e&&o&&(x&&console.log("using filesystem cache handler"),p=b),m.isAvailable({_requestHeaders:u})&&a&&s&&(x&&console.log("using fetch cache handler"),p=m)),process.env.__NEXT_TEST_MAX_ISR_CACHE&&(h=parseInt(process.env.__NEXT_TEST_MAX_ISR_CACHE,10)),this.dev=t,this.disableForTestmode="true"===process.env.NEXT_PRIVATE_TEST_PROXY,this.minimalMode=a,this.requestHeaders=u,this.requestProtocol=c,this.allowedRevalidateHeaderKeys=g,this.prerenderManifest=d(),this.revalidateTimings=new S(this.prerenderManifest),this.fetchCacheKeyPrefix=f;let T=[];u[l.y3]===(null==(w=this.prerenderManifest)?void 0:null==(v=w.preview)?void 0:v.previewModeId)&&(this.isOnDemandRevalidate=!0),a&&"string"==typeof u[l.of]&&u[l.X_]===(null==(E=this.prerenderManifest)?void 0:null==(_=E.preview)?void 0:_.previewModeId)&&(T=u[l.of].split(",")),p&&(this.cacheHandler=new p({dev:t,fs:e,flushToDisk:i,serverDistDir:o,revalidatedTags:T,maxMemoryCacheSize:h,_pagesDir:!!n,_appDir:!!r,_requestHeaders:u,fetchCacheKeyPrefix:f,experimental:y}))}calculateRevalidate(e,t,r){if(r)return new Date().getTime()-1e3;let n=this.revalidateTimings.get((0,_.w)(e))??1;return"number"==typeof n?1e3*n+t:n}_getPathname(e,t){return t?e:(0,w.y)(e)}resetRequestCache(){var e,t;null==(t=this.cacheHandler)||null==(e=t.resetRequestCache)||e.call(t)}async unlock(e){let t=this.unlocks.get(e);t&&(t(),this.locks.delete(e),this.unlocks.delete(e))}async lock(e){process.env.__NEXT_INCREMENTAL_CACHE_IPC_PORT&&process.env.__NEXT_INCREMENTAL_CACHE_IPC_KEY;let t=()=>Promise.resolve(),r=this.locks.get(e);if(r)await r;else{let r=new Promise(e=>{t=async()=>{e()}});this.locks.set(e,r),this.unlocks.set(e,t)}return t}async revalidateTag(e){var t,r;return process.env.__NEXT_INCREMENTAL_CACHE_IPC_PORT&&process.env.__NEXT_INCREMENTAL_CACHE_IPC_KEY,null==(r=this.cacheHandler)?void 0:null==(t=r.revalidateTag)?void 0:t.call(r,e)}async fetchCacheKey(e,t={}){let r=[],n=new TextEncoder,i=new TextDecoder;if(t.body){if("function"==typeof t.body.getReader){let e=t.body,s=[];try{await e.pipeTo(new WritableStream({write(e){"string"==typeof e?(s.push(n.encode(e)),r.push(e)):(s.push(e),r.push(i.decode(e,{stream:!0})))}})),r.push(i.decode());let a=s.reduce((e,t)=>e+t.length,0),o=new Uint8Array(a),l=0;for(let e of s)o.set(e,l),l+=e.length;t._ogBody=o}catch(e){console.error("Problem reading body",e)}}else if("function"==typeof t.body.keys){let e=t.body;for(let n of(t._ogBody=t.body,new Set([...e.keys()]))){let t=e.getAll(n);r.push(`${n}=${(await Promise.all(t.map(async e=>"string"==typeof e?e:await e.text()))).join(",")}`)}}else if("function"==typeof t.body.arrayBuffer){let e=t.body,n=await e.arrayBuffer();r.push(await e.text()),t._ogBody=new Blob([n],{type:e.type})}else"string"==typeof t.body&&(r.push(t.body),t._ogBody=t.body)}let s="function"==typeof(t.headers||{}).keys?Object.fromEntries(t.headers):Object.assign({},t.headers);"traceparent"in s&&delete s.traceparent;let a=JSON.stringify(["v3",this.fetchCacheKeyPrefix||"",e,t.method,s,t.mode,t.redirect,t.credentials,t.referrer,t.referrerPolicy,t.integrity,t.cache,r]);{var o;let e=n.encode(a);return o=await crypto.subtle.digest("SHA-256",e),Array.prototype.map.call(new Uint8Array(o),e=>e.toString(16).padStart(2,"0")).join("")}}async get(e,t={}){var r,n;let i,s;if(process.env.__NEXT_INCREMENTAL_CACHE_IPC_PORT&&process.env.__NEXT_INCREMENTAL_CACHE_IPC_KEY,this.disableForTestmode||this.dev&&("fetch"!==t.kindHint||"no-cache"===this.requestHeaders["cache-control"]))return null;e=this._getPathname(e,"fetch"===t.kindHint);let a=null,o=t.revalidate,u=await (null==(r=this.cacheHandler)?void 0:r.get(e,t));if((null==u?void 0:null==(n=u.value)?void 0:n.kind)==="FETCH")return[...t.tags||[],...t.softTags||[]].some(e=>{var t;return null==(t=this.revalidatedTags)?void 0:t.includes(e)})?null:(o=o||u.value.revalidate,{isStale:(Date.now()-(u.lastModified||0))/1e3>o,value:{kind:"FETCH",data:u.value.data,revalidate:o},revalidateAfter:Date.now()+1e3*o});let c=this.revalidateTimings.get((0,_.w)(e));return(null==u?void 0:u.lastModified)===-1?(i=-1,s=-1*l.BR):i=!!(!1!==(s=this.calculateRevalidate(e,(null==u?void 0:u.lastModified)||Date.now(),this.dev&&"fetch"!==t.kindHint))&&s<Date.now())||void 0,u&&(a={isStale:i,curRevalidate:c,revalidateAfter:s,value:u.value}),!u&&this.prerenderManifest.notFoundRoutes.includes(e)&&(a={isStale:i,value:null,curRevalidate:c,revalidateAfter:s},this.set(e,a.value,t)),a}async set(e,t,r){if(process.env.__NEXT_INCREMENTAL_CACHE_IPC_PORT&&process.env.__NEXT_INCREMENTAL_CACHE_IPC_KEY,this.disableForTestmode||this.dev&&!r.fetchCache)return;let n=JSON.stringify(t).length;if(r.fetchCache&&!this.hasCustomCacheHandler&&n>2097152){if(this.dev)throw Error(`Failed to set Next.js data cache, items over 2MB can not be cached (${n} bytes)`);return}e=this._getPathname(e,r.fetchCache);try{var i;void 0===r.revalidate||r.fetchCache||this.revalidateTimings.set(e,r.revalidate),await (null==(i=this.cacheHandler)?void 0:i.set(e,t,r))}catch(t){console.warn("Failed to update prerender cache for",e,t)}}}},7514:(e,t,r)=>{"use strict";r.d(t,{G:()=>i,x:()=>s});var n=r(9338);function i(e){let t,r;e.headers instanceof Headers?(t=e.headers.get(n.om.toLowerCase())??null,r=e.headers.get("content-type")):(t=e.headers[n.om.toLowerCase()]??null,r=e.headers["content-type"]??null);let i=!!("POST"===e.method&&"application/x-www-form-urlencoded"===r),s=!!("POST"===e.method&&(null==r?void 0:r.startsWith("multipart/form-data"))),a=!!(void 0!==t&&"string"==typeof t&&"POST"===e.method);return{actionId:t,isURLEncodedAction:i,isMultipartAction:s,isFetchAction:a,isServerAction:!!(a||i||s)}}function s(e){return i(e).isServerAction}},1577:(e,t,r)=>{"use strict";function n(e){return e.replace(/(?:\/index)?\/?$/,"")||"/"}r.d(t,{w:()=>n})},1427:(e,t,r)=>{"use strict";var n,i,s,a,o,l,u,c,h,d,f,p;r.d(t,{Xy:()=>a,_J:()=>n,_s:()=>f,dI:()=>p,hT:()=>m,k0:()=>u,lw:()=>g}),function(e){e.handleRequest="BaseServer.handleRequest",e.run="BaseServer.run",e.pipe="BaseServer.pipe",e.getStaticHTML="BaseServer.getStaticHTML",e.render="BaseServer.render",e.renderToResponseWithComponents="BaseServer.renderToResponseWithComponents",e.renderToResponse="BaseServer.renderToResponse",e.renderToHTML="BaseServer.renderToHTML",e.renderError="BaseServer.renderError",e.renderErrorToResponse="BaseServer.renderErrorToResponse",e.renderErrorToHTML="BaseServer.renderErrorToHTML",e.render404="BaseServer.render404"}(n||(n={})),function(e){e.loadDefaultErrorComponents="LoadComponents.loadDefaultErrorComponents",e.loadComponents="LoadComponents.loadComponents"}(i||(i={})),function(e){e.getRequestHandler="NextServer.getRequestHandler",e.getServer="NextServer.getServer",e.getServerRequestHandler="NextServer.getServerRequestHandler",e.createServer="createServer.createServer"}(s||(s={})),function(e){e.compression="NextNodeServer.compression",e.getBuildId="NextNodeServer.getBuildId",e.createComponentTree="NextNodeServer.createComponentTree",e.clientComponentLoading="NextNodeServer.clientComponentLoading",e.getLayoutOrPageModule="NextNodeServer.getLayoutOrPageModule",e.generateStaticRoutes="NextNodeServer.generateStaticRoutes",e.generateFsStaticRoutes="NextNodeServer.generateFsStaticRoutes",e.generatePublicRoutes="NextNodeServer.generatePublicRoutes",e.generateImageRoutes="NextNodeServer.generateImageRoutes.route",e.sendRenderResult="NextNodeServer.sendRenderResult",e.proxyRequest="NextNodeServer.proxyRequest",e.runApi="NextNodeServer.runApi",e.render="NextNodeServer.render",e.renderHTML="NextNodeServer.renderHTML",e.imageOptimizer="NextNodeServer.imageOptimizer",e.getPagePath="NextNodeServer.getPagePath",e.getRoutesManifest="NextNodeServer.getRoutesManifest",e.findPageComponents="NextNodeServer.findPageComponents",e.getFontManifest="NextNodeServer.getFontManifest",e.getServerComponentManifest="NextNodeServer.getServerComponentManifest",e.getRequestHandler="NextNodeServer.getRequestHandler",e.renderToHTML="NextNodeServer.renderToHTML",e.renderError="NextNodeServer.renderError",e.renderErrorToHTML="NextNodeServer.renderErrorToHTML",e.render404="NextNodeServer.render404",e.startResponse="NextNodeServer.startResponse",e.route="route",e.onProxyReq="onProxyReq",e.apiResolver="apiResolver",e.internalFetch="internalFetch"}(a||(a={})),(o||(o={})).startServer="startServer.startServer",function(e){e.getServerSideProps="Render.getServerSideProps",e.getStaticProps="Render.getStaticProps",e.renderToString="Render.renderToString",e.renderDocument="Render.renderDocument",e.createBodyResult="Render.createBodyResult"}(l||(l={})),function(e){e.renderToString="AppRender.renderToString",e.renderToReadableStream="AppRender.renderToReadableStream",e.getBodyResult="AppRender.getBodyResult",e.fetch="AppRender.fetch"}(u||(u={})),(c||(c={})).executeRoute="Router.executeRoute",(h||(h={})).runHandler="Node.runHandler",(d||(d={})).runHandler="AppRouteRouteHandlers.runHandler",function(e){e.generateMetadata="ResolveMetadata.generateMetadata",e.generateViewport="ResolveMetadata.generateViewport"}(f||(f={})),(p||(p={})).execute="Middleware.execute";let g=["Middleware.execute","BaseServer.handleRequest","Render.getServerSideProps","Render.getStaticProps","AppRender.fetch","AppRender.getBodyResult","Render.renderDocument","Node.runHandler","AppRouteRouteHandlers.runHandler","ResolveMetadata.generateMetadata","ResolveMetadata.generateViewport","NextNodeServer.createComponentTree","NextNodeServer.findPageComponents","NextNodeServer.getLayoutOrPageModule","NextNodeServer.startResponse","NextNodeServer.clientComponentLoading"],m=["NextNodeServer.findPageComponents","NextNodeServer.createComponentTree","NextNodeServer.clientComponentLoading"]},7081:(e,t,r)=>{"use strict";let n;r.d(t,{MU:()=>u,Qn:()=>l,Yz:()=>v});var i=r(1427);let{context:s,propagation:a,trace:o,SpanStatusCode:l,SpanKind:u,ROOT_CONTEXT:c}=n=r(9646),h=e=>null!==e&&"object"==typeof e&&"function"==typeof e.then,d=(e,t)=>{(null==t?void 0:t.bubble)===!0?e.setAttribute("next.bubble",!0):(t&&e.recordException(t),e.setStatus({code:l.ERROR,message:null==t?void 0:t.message})),e.end()},f=new Map,p=n.createContextKey("next.rootSpanId"),g=0,m=()=>g++;class y{getTracerInstance(){return o.getTracer("next.js","0.0.1")}getContext(){return s}getActiveScopeSpan(){return o.getSpan(null==s?void 0:s.active())}withPropagatedContext(e,t,r){let n=s.active();if(o.getSpanContext(n))return t();let i=a.extract(n,e,r);return s.with(i,t)}trace(...e){var t;let[r,n,a]=e,{fn:l,options:u}="function"==typeof n?{fn:n,options:{}}:{fn:a,options:{...n}},g=u.spanName??r;if(!i.lw.includes(r)&&"1"!==process.env.NEXT_OTEL_VERBOSE||u.hideSpan)return l();let y=this.getSpanContext((null==u?void 0:u.parentSpan)??this.getActiveScopeSpan()),v=!1;y?(null==(t=o.getSpanContext(y))?void 0:t.isRemote)&&(v=!0):(y=(null==s?void 0:s.active())??c,v=!0);let b=m();return u.attributes={"next.span_name":g,"next.span_type":r,...u.attributes},s.with(y.setValue(p,b),()=>this.getTracerInstance().startActiveSpan(g,u,e=>{let t="performance"in globalThis?globalThis.performance.now():void 0,n=()=>{f.delete(b),t&&process.env.NEXT_OTEL_PERFORMANCE_PREFIX&&i.hT.includes(r||"")&&performance.measure(`${process.env.NEXT_OTEL_PERFORMANCE_PREFIX}:next-${(r.split(".").pop()||"").replace(/[A-Z]/g,e=>"-"+e.toLowerCase())}`,{start:t,end:performance.now()})};v&&f.set(b,new Map(Object.entries(u.attributes??{})));try{if(l.length>1)return l(e,t=>d(e,t));let t=l(e);if(h(t))return t.then(t=>(e.end(),t)).catch(t=>{throw d(e,t),t}).finally(n);return e.end(),n(),t}catch(t){throw d(e,t),n(),t}}))}wrap(...e){let t=this,[r,n,a]=3===e.length?e:[e[0],{},e[1]];return i.lw.includes(r)||"1"===process.env.NEXT_OTEL_VERBOSE?function(){let e=n;"function"==typeof e&&"function"==typeof a&&(e=e.apply(this,arguments));let i=arguments.length-1,o=arguments[i];if("function"!=typeof o)return t.trace(r,e,()=>a.apply(this,arguments));{let n=t.getContext().bind(s.active(),o);return t.trace(r,e,(e,t)=>(arguments[i]=function(e){return null==t||t(e),n.apply(this,arguments)},a.apply(this,arguments)))}}:a}startSpan(...e){let[t,r]=e,n=this.getSpanContext((null==r?void 0:r.parentSpan)??this.getActiveScopeSpan());return this.getTracerInstance().startSpan(t,r,n)}getSpanContext(e){return e?o.setSpan(s.active(),e):void 0}getRootSpanAttributes(){let e=s.active().getValue(p);return f.get(e)}}let v=(()=>{let e=new y;return()=>e})()},4009:(e,t,r)=>{"use strict";r.d(t,{D:()=>l,P:()=>u});var n=r(3395),i=r(4439),s=r(7081),a=r(1427),o=r(9665);function l(e){return(null==e?void 0:e.name)==="AbortError"||(null==e?void 0:e.name)===n.WK}async function u(e,t,r){try{let{errored:l,destroyed:u}=t;if(l||u)return;let c=(0,n.yi)(t),h=function(e,t){let r=!1,n=new i.Y;function l(){n.resolve()}e.on("drain",l),e.once("close",()=>{e.off("drain",l),n.resolve()});let u=new i.Y;return e.once("finish",()=>{u.resolve()}),new WritableStream({write:async t=>{if(!r){if(r=!0,"performance"in globalThis&&process.env.NEXT_OTEL_PERFORMANCE_PREFIX){let e=(0,o.R)();e&&performance.measure(`${process.env.NEXT_OTEL_PERFORMANCE_PREFIX}:next-client-component-loading`,{start:e.clientComponentLoadStart,end:e.clientComponentLoadStart+e.clientComponentLoadTimes})}e.flushHeaders(),(0,s.Yz)().trace(a.Xy.startResponse,{spanName:"start response"},()=>void 0)}try{let r=e.write(t);"flush"in e&&"function"==typeof e.flush&&e.flush(),r||(await n.promise,n=new i.Y)}catch(t){throw e.end(),Error("failed to write chunk to response",{cause:t})}},abort:t=>{e.writableFinished||e.destroy(t)},close:async()=>{if(t&&await t,!e.writableFinished)return e.end(),u.promise}})}(t,r);await e.pipeTo(h,{signal:c.signal})}catch(e){if(l(e))return;throw Error("failed to pipe response",{cause:e})}}},2650:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});var n=r(9279),i=r(4009);class s{static fromStatic(e){return new s(e,{metadata:{}})}constructor(e,{contentType:t,waitUntil:r,metadata:n}){this.response=e,this.contentType=t,this.metadata=n,this.waitUntil=r}assignMetadata(e){Object.assign(this.metadata,e)}get isNull(){return null===this.response}get isDynamic(){return"string"!=typeof this.response}toUnchunkedString(e=!1){if(null===this.response)throw Error("Invariant: null responses cannot be unchunked");if("string"!=typeof this.response){if(!e)throw Error("Invariant: dynamic responses cannot be unchunked. This is a bug in Next.js");return(0,n.PN)(this.readable)}return this.response}get readable(){if(null===this.response)throw Error("Invariant: null responses cannot be streamed");if("string"==typeof this.response)throw Error("Invariant: static responses cannot be streamed");return Array.isArray(this.response)?(0,n.QW)(...this.response):this.response}chain(e){let t;if(null===this.response)throw Error("Invariant: response is null. This is a bug in Next.js");(t="string"==typeof this.response?[(0,n.lU)(this.response)]:Array.isArray(this.response)?this.response:[this.response]).push(e),this.response=t}async pipeTo(e){try{await this.readable.pipeTo(e,{preventClose:!0}),this.waitUntil&&await this.waitUntil,await e.close()}catch(t){if((0,i.D)(t)){await e.abort(t);return}throw t}}async pipeToNodeResponse(e){await (0,i.P)(this.readable,e,this.waitUntil)}}},2070:(e,t,r)=>{"use strict";r.d(t,{OX:()=>i,d0:()=>o,kL:()=>a,lx:()=>s});let n=Symbol.for("NextInternalRequestMeta");function i(e,t){let r=e[n]||{};return"string"==typeof t?r[t]:r}function s(e,t){return e[n]=t,t}function a(e,t,r){let n=i(e);return n[t]=r,s(e,n)}function o(e,t){let r=i(e);return delete r[t],s(e,r)}},9279:(e,t,r)=>{"use strict";r.d(t,{QW:()=>f,J$:()=>T,Bb:()=>x,_W:()=>S,eN:()=>_,Jm:()=>E,MY:()=>y,lU:()=>p,PN:()=>g});var n=r(7081),i=r(1427),s=r(4439);let a=e=>{setTimeout(e,0)},o={OPENING:{HTML:new Uint8Array([60,104,116,109,108]),BODY:new Uint8Array([60,98,111,100,121])},CLOSED:{HEAD:new Uint8Array([60,47,104,101,97,100,62]),BODY:new Uint8Array([60,47,98,111,100,121,62]),HTML:new Uint8Array([60,47,104,116,109,108,62]),BODY_AND_HTML:new Uint8Array([60,47,98,111,100,121,62,60,47,104,116,109,108,62])}};function l(e,t){if(0===t.length)return 0;if(0===e.length||t.length>e.length)return -1;for(let r=0;r<=e.length-t.length;r++){let n=!0;for(let i=0;i<t.length;i++)if(e[r+i]!==t[i]){n=!1;break}if(n)return r}return -1}function u(e,t){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}function c(e,t){let r=l(e,t);if(0===r)return e.subarray(t.length);if(!(r>-1))return e;{let n=new Uint8Array(e.length-t.length);return n.set(e.slice(0,r)),n.set(e.slice(r+t.length),r),n}}function h(){}let d=new TextEncoder;function f(...e){if(0===e.length)throw Error("Invariant: chainStreams requires at least one stream");if(1===e.length)return e[0];let{readable:t,writable:r}=new TransformStream,n=e[0].pipeTo(r,{preventClose:!0}),i=1;for(;i<e.length-1;i++){let t=e[i];n=n.then(()=>t.pipeTo(r,{preventClose:!0}))}let s=e[i];return(n=n.then(()=>s.pipeTo(r))).catch(h),t}function p(e){return new ReadableStream({start(t){t.enqueue(d.encode(e)),t.close()}})}async function g(e){let t=new TextDecoder("utf-8",{fatal:!0}),r="";for await(let n of e)r+=t.decode(n,{stream:!0});return r+t.decode()}function m(){let e,t=[],r=0,n=n=>{if(e)return;let i=new s.Y;e=i,a(()=>{try{let e=new Uint8Array(r),i=0;for(let r=0;r<t.length;r++){let n=t[r];e.set(n,i),i+=n.byteLength}t.length=0,r=0,n.enqueue(e)}catch{}finally{e=void 0,i.resolve()}})};return new TransformStream({transform(e,i){t.push(e),r+=e.byteLength,n(i)},flush(){if(e)return e.promise}})}function y({ReactDOMServer:e,element:t,streamOptions:r}){return(0,n.Yz)().trace(i.k0.renderToReadableStream,async()=>e.renderToReadableStream(t,r))}function v(e){let t=!1,r=!1,n=!1;return new TransformStream({async transform(i,s){if(n=!0,r){s.enqueue(i);return}let u=await e();if(t){if(u){let e=d.encode(u);s.enqueue(e)}s.enqueue(i),r=!0}else{let e=l(i,o.CLOSED.HEAD);if(-1!==e){if(u){let t=d.encode(u),r=new Uint8Array(i.length+t.length);r.set(i.slice(0,e)),r.set(t,e),r.set(i.slice(e),e+t.length),s.enqueue(r)}else s.enqueue(i);r=!0,t=!0}}t?a(()=>{r=!1}):s.enqueue(i)},async flush(t){if(n){let r=await e();r&&t.enqueue(d.encode(r))}}})}function b(e){let t=null,r=!1;async function n(n){if(t)return;let i=e.getReader();await new Promise(e=>a(e));try{for(;;){let{done:e,value:t}=await i.read();if(e){r=!0;return}n.enqueue(t)}}catch(e){n.error(e)}}return new TransformStream({transform(e,r){r.enqueue(e),t||(t=n(r))},flush(e){if(!r)return t||n(e)}})}function w(e){let t=!1,r=d.encode(e);return new TransformStream({transform(n,i){if(t)return i.enqueue(n);let s=l(n,r);if(s>-1){if(t=!0,n.length===e.length)return;let r=n.slice(0,s);if(i.enqueue(r),n.length>e.length+s){let t=n.slice(s+e.length);i.enqueue(t)}}else i.enqueue(n)},flush(e){e.enqueue(r)}})}async function _(e,{suffix:t,inlinedDataStream:r,isStaticGeneration:n,getServerInsertedHTML:i,serverInsertedHTMLToHead:u,validateRootLayout:c}){let h,f;let p="</body></html>",g=t?t.split(p,1)[0]:null;return n&&"allReady"in e&&await e.allReady,function(e,t){let r=e;for(let e of t)e&&(r=r.pipeThrough(e));return r}(e,[m(),i&&!u?new TransformStream({transform:async(e,t)=>{let r=await i();r&&t.enqueue(d.encode(r)),t.enqueue(e)}}):null,null!=g&&g.length>0?function(e){let t,r=!1,n=r=>{let n=new s.Y;t=n,a(()=>{try{r.enqueue(d.encode(e))}catch{}finally{t=void 0,n.resolve()}})};return new TransformStream({transform(e,t){t.enqueue(e),r||(r=!0,n(t))},flush(n){if(t)return t.promise;r||n.enqueue(d.encode(e))}})}(g):null,r?b(r):null,c?(h=!1,f=!1,new TransformStream({async transform(e,t){!h&&l(e,o.OPENING.HTML)>-1&&(h=!0),!f&&l(e,o.OPENING.BODY)>-1&&(f=!0),t.enqueue(e)},flush(e){let t=[];h||t.push("html"),f||t.push("body"),t.length&&e.enqueue(d.encode(`<script>self.__next_root_layout_missing_tags=${JSON.stringify(t)}</script>`))}})):null,w(p),i&&u?v(i):null])}async function S(e,{getServerInsertedHTML:t}){return e.pipeThrough(m()).pipeThrough(new TransformStream({transform(e,t){u(e,o.CLOSED.BODY_AND_HTML)||u(e,o.CLOSED.BODY)||u(e,o.CLOSED.HTML)||(e=c(e,o.CLOSED.BODY),e=c(e,o.CLOSED.HTML),t.enqueue(e))}})).pipeThrough(v(t))}async function E(e,{inlinedDataStream:t,getServerInsertedHTML:r}){return e.pipeThrough(m()).pipeThrough(v(r)).pipeThrough(b(t)).pipeThrough(w("</body></html>"))}async function x(e,{inlinedDataStream:t,getServerInsertedHTML:r}){return e.pipeThrough(m()).pipeThrough(v(r)).pipeThrough(b(t)).pipeThrough(w("</body></html>"))}async function T(e,{inlinedDataStream:t}){return e.pipeThrough(b(t)).pipeThrough(w("</body></html>"))}},9319:(e,t,r)=>{"use strict";r.d(t,{C:()=>N});var n=r(8269),i=r(6536);let s=Symbol("response"),a=Symbol("passThrough"),o=Symbol("waitUntil");class l{constructor(e){this[o]=[],this[a]=!1}respondWith(e){this[s]||(this[s]=Promise.resolve(e))}passThroughOnException(){this[a]=!0}waitUntil(e){this[o].push(e)}}class u extends l{constructor(e){super(e.request),this.sourcePage=e.page}get request(){throw new n.qJ({page:this.sourcePage})}respondWith(){throw new n.qJ({page:this.sourcePage})}}var c=r(7967),h=r(1641),d=r(9141),f=r(3659);let p=Symbol("internal response"),g=new Set([301,302,303,307,308]);function m(e,t){var r;if(null==e?void 0:null==(r=e.request)?void 0:r.headers){if(!(e.request.headers instanceof Headers))throw Error("request.headers must be an instance of Headers");let r=[];for(let[n,i]of e.request.headers)t.set("x-middleware-request-"+n,i),r.push(n);t.set("x-middleware-override-headers",r.join(","))}}class y extends Response{constructor(e,t={}){super(e,t);let r=this.headers,n=new Proxy(new h.nV(r),{get(e,n,i){switch(n){case"delete":case"set":return(...i)=>{let s=Reflect.apply(e[n],e,i),a=new Headers(r);return s instanceof h.nV&&r.set("x-middleware-set-cookie",s.getAll().map(e=>(0,h.Q7)(e)).join(",")),m(t,a),s};default:return f.g.get(e,n,i)}}});this[p]={cookies:n,url:t.url?new d.c(t.url,{headers:(0,i.lb)(r),nextConfig:t.nextConfig}):void 0}}[Symbol.for("edge-runtime.inspect.custom")](){return{cookies:this.cookies,url:this.url,body:this.body,bodyUsed:this.bodyUsed,headers:Object.fromEntries(this.headers),ok:this.ok,redirected:this.redirected,status:this.status,statusText:this.statusText,type:this.type}}get cookies(){return this[p].cookies}static json(e,t){let r=Response.json(e,t);return new y(r.body,r)}static redirect(e,t){let r="number"==typeof t?t:(null==t?void 0:t.status)??307;if(!g.has(r))throw RangeError('Failed to execute "redirect" on "response": Invalid status code');let n="object"==typeof t?t:{},s=new Headers(null==n?void 0:n.headers);return s.set("Location",(0,i.r4)(e)),new y(null,{...n,headers:s,status:r})}static rewrite(e,t){let r=new Headers(null==t?void 0:t.headers);return r.set("x-middleware-rewrite",(0,i.r4)(e)),m(t,r),new y(null,{...t,headers:r})}static next(e){let t=new Headers(null==e?void 0:e.headers);return t.set("x-middleware-next","1"),m(e,t),new y(null,{...e,headers:t})}}function v(e,t){let r="string"==typeof t?new URL(t):t,n=new URL(e,t),i=r.protocol+"//"+r.host;return n.protocol+"//"+n.host===i?n.toString().replace(i,""):n.toString()}var b=r(7538),w=r(1959),_=r(9338),S=r(7580),E=r(7206),x=r(5358),T=r(8983),C=r(7081),I=r(1427),R=r(1575);class k extends c.I{constructor(e){super(e.input,e.init),this.sourcePage=e.page}get request(){throw new n.qJ({page:this.sourcePage})}respondWith(){throw new n.qJ({page:this.sourcePage})}waitUntil(){throw new n.qJ({page:this.sourcePage})}}let P={keys:e=>Array.from(e.keys()),get:(e,t)=>e.get(t)??void 0},O=(e,t)=>(0,C.Yz)().withPropagatedContext(e.headers,t,P),A=!1;async function N(e){let t,n;!function(){if(!A&&(A=!0,"true"===process.env.NEXT_PRIVATE_TEST_PROXY)){let{interceptTestApis:e,wrapRequestHandler:t}=r(5916);e(),O=t(O)}}(),await (0,E.H)();let s=void 0!==self.__BUILD_MANIFEST;e.request.url=(0,w.b)(e.request.url);let a=new d.c(e.request.url,{headers:e.request.headers,nextConfig:e.request.nextConfig});for(let e of[...a.searchParams.keys()]){let t=a.searchParams.getAll(e);if(e!==S.dN&&e.startsWith(S.dN)){let r=e.substring(S.dN.length);for(let e of(a.searchParams.delete(r),t))a.searchParams.append(r,e);a.searchParams.delete(e)}}let l=a.buildId;a.buildId="";let c=e.request.headers["x-nextjs-data"];c&&"/index"===a.pathname&&(a.pathname="/");let h=(0,i.EK)(e.request.headers),f=new Map;if(!s)for(let e of _.vu){let t=e.toString().toLowerCase();h.get(t)&&(f.set(t,h.get(t)),h.delete(t))}let p=new k({page:e.page,input:(0,b.T)(a,!0).toString(),init:{body:e.request.body,geo:e.request.geo,headers:h,ip:e.request.ip,method:e.request.method,nextConfig:e.request.nextConfig,signal:e.request.signal}});c&&Object.defineProperty(p,"__isData",{enumerable:!1,value:!0}),!globalThis.__incrementalCache&&e.IncrementalCache&&(globalThis.__incrementalCache=new e.IncrementalCache({appDir:!0,fetchCache:!0,minimalMode:!0,fetchCacheKeyPrefix:"",dev:!1,requestHeaders:e.request.headers,requestProtocol:"https",getPrerenderManifest:()=>({version:-1,routes:{},dynamicRoutes:{},notFoundRoutes:[],preview:(0,R.X)()})}));let g=new u({request:p,page:e.page});if((t=await O(p,()=>"/middleware"===e.page||"/src/middleware"===e.page?(0,C.Yz)().trace(I.dI.execute,{spanName:`middleware ${p.method} ${p.nextUrl.pathname}`,attributes:{"http.target":p.nextUrl.pathname,"http.method":p.method}},()=>x.B.wrap(T.O,{req:p,renderOpts:{onUpdateCookies:e=>{n=e},previewProps:(0,R.X)()}},()=>e.handler(p,g))):e.handler(p,g)))&&!(t instanceof Response))throw TypeError("Expected an instance of Response to be returned");t&&n&&t.headers.set("set-cookie",n);let m=null==t?void 0:t.headers.get("x-middleware-rewrite");if(t&&m&&!s){let r=new d.c(m,{forceLocale:!0,headers:e.request.headers,nextConfig:e.request.nextConfig});r.host===p.nextUrl.host&&(r.buildId=l||r.buildId,t.headers.set("x-middleware-rewrite",String(r)));let n=v(String(r),String(a));c&&t.headers.set("x-nextjs-rewrite",n)}let P=null==t?void 0:t.headers.get("Location");if(t&&P&&!s){let r=new d.c(P,{forceLocale:!1,headers:e.request.headers,nextConfig:e.request.nextConfig});t=new Response(t.body,t),r.host===p.nextUrl.host&&(r.buildId=l||r.buildId,t.headers.set("Location",String(r))),c&&(t.headers.delete("Location"),t.headers.set("x-nextjs-redirect",v(String(r),String(a))))}let N=t||y.next(),D=N.headers.get("x-middleware-override-headers"),M=[];if(D){for(let[e,t]of f)N.headers.set(`x-middleware-request-${e}`,t),M.push(e);M.length>0&&N.headers.set("x-middleware-override-headers",D+","+M.join(","))}return{response:N,waitUntil:Promise.all(g[o]),fetchMetrics:p.fetchMetrics}}},8269:(e,t,r)=>{"use strict";r.d(t,{Y5:()=>s,cR:()=>i,qJ:()=>n});class n extends Error{constructor({page:e}){super(`The middleware "${e}" accepts an async API directly with the form:
  
  export function middleware(request, event) {
    return NextResponse.redirect('/new-location')
  }
  
  Read more: https://nextjs.org/docs/messages/middleware-new-signature
  `)}}class i extends Error{constructor(){super(`The request.page has been deprecated in favour of \`URLPattern\`.
  Read more: https://nextjs.org/docs/messages/middleware-request-page
  `)}}class s extends Error{constructor(){super(`The request.ua has been removed in favour of \`userAgent\` function.
  Read more: https://nextjs.org/docs/messages/middleware-parse-user-agent
  `)}}},1575:(e,t,r)=>{"use strict";function n(){return{previewModeId:process.env.__NEXT_PREVIEW_MODE_ID,previewModeSigningKey:process.env.__NEXT_PREVIEW_MODE_SIGNING_KEY||"",previewModeEncryptionKey:process.env.__NEXT_PREVIEW_MODE_ENCRYPTION_KEY||""}}r.d(t,{X:()=>n})},7206:(e,t,r)=>{"use strict";async function n(){let e="_ENTRIES"in globalThis&&_ENTRIES.middleware_instrumentation&&(await _ENTRIES.middleware_instrumentation).register;if(e)try{await e()}catch(e){throw e.message=`An error occurred while loading instrumentation hook: ${e.message}`,e}}r.d(t,{H:()=>s});let i=null;function s(){return i||(i=n()),i}function a(e){return`The edge runtime does not support Node.js '${e}' module.
Learn More: https://nextjs.org/docs/messages/node-module-in-edge-runtime`}process!==r.g.process&&(process.env=r.g.process.env,r.g.process=process),Object.defineProperty(globalThis,"__import_unsupported",{value:function(e){let t=new Proxy(function(){},{get(t,r){if("then"===r)return{};throw Error(a(e))},construct(){throw Error(a(e))},apply(r,n,i){if("function"==typeof i[0])return i[0](t);throw Error(a(e))}});return new Proxy({},{get:()=>t})},enumerable:!1,configurable:!1}),s()},9141:(e,t,r)=>{"use strict";r.d(t,{c:()=>f});var n=r(9558),i=r(9912),s=r(4679);function a(e,t){if(!e.startsWith("/")||!t)return e;let{pathname:r,query:n,hash:i}=(0,s.c)(e);return""+r+t+n+i}var o=r(7843),l=r(9556),u=r(4372);let c=/(?!^https?:\/\/)(127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}|\[::1\]|localhost)/;function h(e,t){return new URL(String(e).replace(c,"localhost"),t&&String(t).replace(c,"localhost"))}let d=Symbol("NextURLInternal");class f{constructor(e,t,r){let n,i;"object"==typeof t&&"pathname"in t||"string"==typeof t?(n=t,i=r||{}):i=r||t||{},this[d]={url:h(e,n??i.base),options:i,basePath:""},this.analyze()}analyze(){var e,t,r,n,i;let s=(0,u.a)(this[d].url.pathname,{nextConfig:this[d].options.nextConfig,parseData:!0,i18nProvider:this[d].options.i18nProvider}),a=(0,l.F)(this[d].url,this[d].options.headers);this[d].domainLocale=this[d].options.i18nProvider?this[d].options.i18nProvider.detectDomainLocale(a):function(e,t,r){if(e)for(let s of(r&&(r=r.toLowerCase()),e)){var n,i;if(t===(null==(n=s.domain)?void 0:n.split(":",1)[0].toLowerCase())||r===s.defaultLocale.toLowerCase()||(null==(i=s.locales)?void 0:i.some(e=>e.toLowerCase()===r)))return s}}(null==(t=this[d].options.nextConfig)?void 0:null==(e=t.i18n)?void 0:e.domains,a);let o=(null==(r=this[d].domainLocale)?void 0:r.defaultLocale)||(null==(i=this[d].options.nextConfig)?void 0:null==(n=i.i18n)?void 0:n.defaultLocale);this[d].url.pathname=s.pathname,this[d].defaultLocale=o,this[d].basePath=s.basePath??"",this[d].buildId=s.buildId,this[d].locale=s.locale??o,this[d].trailingSlash=s.trailingSlash}formatPathname(){var e;let t;return t=function(e,t,r,n){if(!t||t===r)return e;let s=e.toLowerCase();return!n&&((0,o.Y)(s,"/api")||(0,o.Y)(s,"/"+t.toLowerCase()))?e:(0,i.V)(e,"/"+t)}((e={basePath:this[d].basePath,buildId:this[d].buildId,defaultLocale:this[d].options.forceLocale?void 0:this[d].defaultLocale,locale:this[d].locale,pathname:this[d].url.pathname,trailingSlash:this[d].trailingSlash}).pathname,e.locale,e.buildId?void 0:e.defaultLocale,e.ignorePrefix),(e.buildId||!e.trailingSlash)&&(t=(0,n.Q)(t)),e.buildId&&(t=a((0,i.V)(t,"/_next/data/"+e.buildId),"/"===e.pathname?"index.json":".json")),t=(0,i.V)(t,e.basePath),!e.buildId&&e.trailingSlash?t.endsWith("/")?t:a(t,"/"):(0,n.Q)(t)}formatSearch(){return this[d].url.search}get buildId(){return this[d].buildId}set buildId(e){this[d].buildId=e}get locale(){return this[d].locale??""}set locale(e){var t,r;if(!this[d].locale||!(null==(r=this[d].options.nextConfig)?void 0:null==(t=r.i18n)?void 0:t.locales.includes(e)))throw TypeError(`The NextURL configuration includes no locale "${e}"`);this[d].locale=e}get defaultLocale(){return this[d].defaultLocale}get domainLocale(){return this[d].domainLocale}get searchParams(){return this[d].url.searchParams}get host(){return this[d].url.host}set host(e){this[d].url.host=e}get hostname(){return this[d].url.hostname}set hostname(e){this[d].url.hostname=e}get port(){return this[d].url.port}set port(e){this[d].url.port=e}get protocol(){return this[d].url.protocol}set protocol(e){this[d].url.protocol=e}get href(){let e=this.formatPathname(),t=this.formatSearch();return`${this.protocol}//${this.host}${e}${t}${this.hash}`}set href(e){this[d].url=h(e),this.analyze()}get origin(){return this[d].url.origin}get pathname(){return this[d].url.pathname}set pathname(e){this[d].url.pathname=e}get hash(){return this[d].url.hash}set hash(e){this[d].url.hash=e}get search(){return this[d].url.search}set search(e){this[d].url.search=e}get password(){return this[d].url.password}set password(e){this[d].url.password=e}get username(){return this[d].url.username}set username(e){this[d].url.username=e}get basePath(){return this[d].basePath}set basePath(e){this[d].basePath=e.startsWith("/")?e:`/${e}`}toString(){return this.href}toJSON(){return this.href}[Symbol.for("edge-runtime.inspect.custom")](){return{href:this.href,origin:this.origin,protocol:this.protocol,username:this.username,password:this.password,host:this.host,hostname:this.hostname,port:this.port,pathname:this.pathname,search:this.search,searchParams:this.searchParams,hash:this.hash}}clone(){return new f(String(this),this[d].options)}}},6150:(e,t,r)=>{"use strict";r.d(t,{h:()=>s});var n=r(3659);class i extends Error{constructor(){super("Headers cannot be modified. Read more: https://nextjs.org/docs/app/api-reference/functions/headers")}static callable(){throw new i}}class s extends Headers{constructor(e){super(),this.headers=new Proxy(e,{get(t,r,i){if("symbol"==typeof r)return n.g.get(t,r,i);let s=r.toLowerCase(),a=Object.keys(e).find(e=>e.toLowerCase()===s);if(void 0!==a)return n.g.get(t,a,i)},set(t,r,i,s){if("symbol"==typeof r)return n.g.set(t,r,i,s);let a=r.toLowerCase(),o=Object.keys(e).find(e=>e.toLowerCase()===a);return n.g.set(t,o??r,i,s)},has(t,r){if("symbol"==typeof r)return n.g.has(t,r);let i=r.toLowerCase(),s=Object.keys(e).find(e=>e.toLowerCase()===i);return void 0!==s&&n.g.has(t,s)},deleteProperty(t,r){if("symbol"==typeof r)return n.g.deleteProperty(t,r);let i=r.toLowerCase(),s=Object.keys(e).find(e=>e.toLowerCase()===i);return void 0===s||n.g.deleteProperty(t,s)}})}static seal(e){return new Proxy(e,{get(e,t,r){switch(t){case"append":case"delete":case"set":return i.callable;default:return n.g.get(e,t,r)}}})}merge(e){return Array.isArray(e)?e.join(", "):e}static from(e){return e instanceof Headers?e:new s(e)}append(e,t){let r=this.headers[e];"string"==typeof r?this.headers[e]=[r,t]:Array.isArray(r)?r.push(t):this.headers[e]=t}delete(e){delete this.headers[e]}get(e){let t=this.headers[e];return void 0!==t?this.merge(t):null}has(e){return void 0!==this.headers[e]}set(e,t){this.headers[e]=t}forEach(e,t){for(let[r,n]of this.entries())e.call(t,n,r,this)}*entries(){for(let e of Object.keys(this.headers)){let t=e.toLowerCase(),r=this.get(t);yield[t,r]}}*keys(){for(let e of Object.keys(this.headers)){let t=e.toLowerCase();yield t}}*values(){for(let e of Object.keys(this.headers)){let t=this.get(e);yield t}}[Symbol.iterator](){return this.entries()}}},3395:(e,t,r)=>{"use strict";r.d(t,{Og:()=>c,Ub:()=>u,WK:()=>a,yi:()=>l});var n=r(2070),i=r(6536),s=r(7967);let a="ResponseAborted";class o extends Error{constructor(...e){super(...e),this.name=a}}function l(e){let t=new AbortController;return e.once("close",()=>{e.writableFinished||t.abort(new o)}),t}function u(e){let{errored:t,destroyed:r}=e;if(t||r)return AbortSignal.abort(t??new o);let{signal:n}=l(e);return n}class c{static fromBaseNextRequest(e,t){return"request"in e&&e.request?c.fromWebNextRequest(e):c.fromNodeNextRequest(e,t)}static fromNodeNextRequest(e,t){let r,a=null;if("GET"!==e.method&&"HEAD"!==e.method&&e.body&&(a=e.body),e.url.startsWith("http"))r=new URL(e.url);else{let t=(0,n.OX)(e,"initURL");r=t&&t.startsWith("http")?new URL(e.url,t):new URL(e.url,"http://n")}return new s.I(r,{method:e.method,headers:(0,i.EK)(e.headers),duplex:"half",signal:t,...t.aborted?{}:{body:a}})}static fromWebNextRequest(e){let t=null;return"GET"!==e.method&&"HEAD"!==e.method&&(t=e.body),new s.I(e.url,{method:e.method,headers:(0,i.EK)(e.headers),duplex:"half",signal:e.request.signal,...e.request.signal.aborted?{}:{body:t}})}}},3659:(e,t,r)=>{"use strict";r.d(t,{g:()=>n});class n{static get(e,t,r){let n=Reflect.get(e,t,r);return"function"==typeof n?n.bind(e):n}static set(e,t,r,n){return Reflect.set(e,t,r,n)}static has(e,t){return Reflect.has(e,t)}static deleteProperty(e,t){return Reflect.deleteProperty(e,t)}}},3655:(e,t,r)=>{"use strict";r.d(t,{Qb:()=>o,_5:()=>c,fB:()=>u,vr:()=>h});var n=r(1641),i=r(3659),s=r(9182);class a extends Error{constructor(){super("Cookies can only be modified in a Server Action or Route Handler. Read more: https://nextjs.org/docs/app/api-reference/functions/cookies#cookiessetname-value-options")}static callable(){throw new a}}class o{static seal(e){return new Proxy(e,{get(e,t,r){switch(t){case"clear":case"delete":case"set":return a.callable;default:return i.g.get(e,t,r)}}})}}let l=Symbol.for("next.mutated.cookies");function u(e){let t=e[l];return t&&Array.isArray(t)&&0!==t.length?t:[]}function c(e,t){let r=u(t);if(0===r.length)return!1;let i=new n.nV(e),s=i.getAll();for(let e of r)i.set(e);for(let e of s)i.set(e);return!0}class h{static wrap(e,t){let r=new n.nV(new Headers);for(let t of e.getAll())r.set(t);let a=[],o=new Set,u=()=>{let e=s.A.getStore();if(e&&(e.pathWasRevalidated=!0),a=r.getAll().filter(e=>o.has(e.name)),t){let e=[];for(let t of a){let r=new n.nV(new Headers);r.set(t),e.push(r.toString())}t(e)}};return new Proxy(r,{get(e,t,r){switch(t){case l:return a;case"delete":return function(...t){o.add("string"==typeof t[0]?t[0]:t[0].name);try{e.delete(...t)}finally{u()}};case"set":return function(...t){o.add("string"==typeof t[0]?t[0]:t[0].name);try{return e.set(...t)}finally{u()}};default:return i.g.get(e,t,r)}}})}}},1641:(e,t,r)=>{"use strict";r.d(t,{Q7:()=>n.stringifyCookie,nV:()=>n.ResponseCookies,qC:()=>n.RequestCookies});var n=r(5181)},7967:(e,t,r)=>{"use strict";r.d(t,{I:()=>l});var n=r(9141),i=r(6536),s=r(8269),a=r(1641);let o=Symbol("internal request");class l extends Request{constructor(e,t={}){let r="string"!=typeof e&&"url"in e?e.url:String(e);(0,i.r4)(r),e instanceof Request?super(e,t):super(r,t);let s=new n.c(r,{headers:(0,i.lb)(this.headers),nextConfig:t.nextConfig});this[o]={cookies:new a.qC(this.headers),geo:t.geo||{},ip:t.ip,nextUrl:s,url:s.toString()}}[Symbol.for("edge-runtime.inspect.custom")](){return{cookies:this.cookies,geo:this.geo,ip:this.ip,nextUrl:this.nextUrl,url:this.url,bodyUsed:this.bodyUsed,cache:this.cache,credentials:this.credentials,destination:this.destination,headers:Object.fromEntries(this.headers),integrity:this.integrity,keepalive:this.keepalive,method:this.method,mode:this.mode,redirect:this.redirect,referrer:this.referrer,referrerPolicy:this.referrerPolicy,signal:this.signal}}get cookies(){return this[o].cookies}get geo(){return this[o].geo}get ip(){return this[o].ip}get nextUrl(){return this[o].nextUrl}get page(){throw new s.cR}get ua(){throw new s.Y5}get url(){return this[o].url}}},6536:(e,t,r)=>{"use strict";function n(e){let t=new Headers;for(let[r,n]of Object.entries(e))for(let e of Array.isArray(n)?n:[n])void 0!==e&&("number"==typeof e&&(e=e.toString()),t.append(r,e));return t}function i(e){var t,r,n,i,s,a=[],o=0;function l(){for(;o<e.length&&/\s/.test(e.charAt(o));)o+=1;return o<e.length}for(;o<e.length;){for(t=o,s=!1;l();)if(","===(r=e.charAt(o))){for(n=o,o+=1,l(),i=o;o<e.length&&"="!==(r=e.charAt(o))&&";"!==r&&","!==r;)o+=1;o<e.length&&"="===e.charAt(o)?(s=!0,o=i,a.push(e.substring(t,n)),t=o):o=n+1}else o+=1;(!s||o>=e.length)&&a.push(e.substring(t,e.length))}return a}function s(e){let t={},r=[];if(e)for(let[n,s]of e.entries())"set-cookie"===n.toLowerCase()?(r.push(...i(s)),t[n]=1===r.length?r[0]:r):t[n]=s;return t}function a(e){try{return String(new URL(String(e)))}catch(t){throw Error(`URL is malformed "${String(e)}". Please use only absolute URLs - https://nextjs.org/docs/messages/middleware-relative-urls`,{cause:t})}}r.d(t,{EK:()=>n,l$:()=>i,lb:()=>s,r4:()=>a})},5291:(e,t,r)=>{"use strict";r.r(t),r.d(t,{AppRouterContext:()=>i,GlobalLayoutRouterContext:()=>a,LayoutRouterContext:()=>s,MissingSlotContext:()=>l,TemplateContext:()=>o});var n=r(9220);let i=n.createContext(null),s=n.createContext(null),a=n.createContext(null),o=n.createContext(null),l=n.createContext(new Set)},5374:(e,t,r)=>{"use strict";r.d(t,{f:()=>s});let n=/[|\\{}()[\]^$+*?.-]/,i=/[|\\{}()[\]^$+*?.-]/g;function s(e){return n.test(e)?e.replace(i,"\\$&"):e}},9556:(e,t,r)=>{"use strict";function n(e,t){let r;if((null==t?void 0:t.host)&&!Array.isArray(t.host))r=t.host.toString().split(":",1)[0];else{if(!e.hostname)return;r=e.hostname}return r.toLowerCase()}r.d(t,{F:()=>n})},1958:(e,t,r)=>{"use strict";function n(e){let t=5381;for(let r=0;r<e.length;r++)t=(t<<5)+t+e.charCodeAt(r)&4294967295;return t>>>0}function i(e){return n(e).toString(36).slice(0,5)}r.d(t,{a:()=>i,p:()=>n})},3589:(e,t,r)=>{"use strict";r.r(t),r.d(t,{HeadManagerContext:()=>n});let n=r(9220).createContext({})},4504:(e,t,r)=>{"use strict";r.r(t),r.d(t,{PathParamsContext:()=>a,PathnameContext:()=>s,SearchParamsContext:()=>i});var n=r(9220);let i=(0,n.createContext)(null),s=(0,n.createContext)(null),a=(0,n.createContext)(null)},3786:(e,t,r)=>{"use strict";function n(e,t){let r;let n=e.split("/");return(t||[]).some(t=>!!n[1]&&n[1].toLowerCase()===t.toLowerCase()&&(r=t,n.splice(1,1),e=n.join("/")||"/",!0)),{pathname:e,detectedLocale:r}}r.d(t,{h:()=>n})},3889:(e,t,r)=>{"use strict";let n;n=r(1982),e.exports=n},7105:(e,t,r)=>{"use strict";r.d(t,{D:()=>s,Z:()=>i});let n="BAILOUT_TO_CLIENT_SIDE_RENDERING";class i extends Error{constructor(e){super("Bail out to client-side rendering: "+e),this.reason=e,this.digest=n}}function s(e){return"object"==typeof e&&null!==e&&"digest"in e&&e.digest===n}},5975:(e,t,r)=>{"use strict";r.r(t),r.d(t,{LoadableContext:()=>n});let n=r(9220).createContext(null)},8027:e=>{"use strict";e.exports=["chrome 64","edge 79","firefox 67","opera 51","safari 12"]},9951:(e,t,r)=>{"use strict";function n(e){return e.startsWith("/")?e:"/"+e}r.d(t,{e:()=>n})},6419:(e,t,r)=>{"use strict";r.d(t,{y:()=>s});var n=r(9951),i=r(8631);function s(e){return/^\/index(\/|$)/.test(e)&&!(0,i.$)(e)?"/index"+e:"/"===e?"/index":(0,n.e)(e)}r(7506)},402:(e,t,r)=>{"use strict";r.r(t),r.d(t,{RouterContext:()=>n});let n=r(9220).createContext(null)},9912:(e,t,r)=>{"use strict";r.d(t,{V:()=>i});var n=r(4679);function i(e,t){if(!e.startsWith("/")||!t)return e;let{pathname:r,query:i,hash:s}=(0,n.c)(e);return""+t+r+i+s}},1959:(e,t,r)=>{"use strict";r.d(t,{b:()=>a,w:()=>s});var n=r(9951),i=r(6083);function s(e){return(0,n.e)(e.split("/").reduce((e,t,r,n)=>!t||(0,i.lv)(t)||"@"===t[0]||("page"===t||"route"===t)&&r===n.length-1?e:e+"/"+t,""))}function a(e){return e.replace(/\.rsc($|\?)/,"$1")}},4372:(e,t,r)=>{"use strict";r.d(t,{a:()=>a});var n=r(3786),i=r(7274),s=r(7843);function a(e,t){var r,a;let{basePath:o,i18n:l,trailingSlash:u}=null!=(r=t.nextConfig)?r:{},c={pathname:e,trailingSlash:"/"!==e?e.endsWith("/"):u};o&&(0,s.Y)(c.pathname,o)&&(c.pathname=(0,i.n)(c.pathname,o),c.basePath=o);let h=c.pathname;if(c.pathname.startsWith("/_next/data/")&&c.pathname.endsWith(".json")){let e=c.pathname.replace(/^\/_next\/data\//,"").replace(/\.json$/,"").split("/"),r=e[0];c.buildId=r,h="index"!==e[1]?"/"+e.slice(1).join("/"):"/",!0===t.parseData&&(c.pathname=h)}if(l){let e=t.i18nProvider?t.i18nProvider.analyze(c.pathname):(0,n.h)(c.pathname,l.locales);c.locale=e.detectedLocale,c.pathname=null!=(a=e.pathname)?a:c.pathname,!e.detectedLocale&&c.buildId&&(e=t.i18nProvider?t.i18nProvider.analyze(h):(0,n.h)(h,l.locales)).detectedLocale&&(c.locale=e.detectedLocale)}return c}},9022:(e,t,r)=>{"use strict";function n(e){return/Googlebot|Mediapartners-Google|AdsBot-Google|googleweblight|Storebot-Google|Google-PageRenderer|Bingbot|BingPreview|Slurp|DuckDuckBot|baiduspider|yandex|sogou|LinkedInBot|bitlybot|tumblr|vkShare|quora link preview|facebookexternalhit|facebookcatalog|Twitterbot|applebot|redditbot|Slackbot|Discordbot|WhatsApp|SkypeUriPreview|ia_archiver/i.test(e)}r.d(t,{Q:()=>n})},8631:(e,t,r)=>{"use strict";r.d(t,{$:()=>s});var n=r(9567);let i=/\/\[[^/]+?\](?=\/|$)/;function s(e){return(0,n.Ag)(e)&&(e=(0,n.CK)(e).interceptedRoute),i.test(e)}},4679:(e,t,r)=>{"use strict";function n(e){let t=e.indexOf("#"),r=e.indexOf("?"),n=r>-1&&(t<0||r<t);return n||t>-1?{pathname:e.substring(0,n?r:t),query:n?e.substring(r,t>-1?t:void 0):"",hash:t>-1?e.slice(t):""}:{pathname:e,query:"",hash:""}}r.d(t,{c:()=>n})},7843:(e,t,r)=>{"use strict";r.d(t,{Y:()=>i});var n=r(4679);function i(e,t){if("string"!=typeof e)return!1;let{pathname:r}=(0,n.c)(e);return r===t||r.startsWith(t+"/")}},6037:(e,t,r)=>{"use strict";function n(e){let t={};return e.forEach((e,r)=>{void 0===t[r]?t[r]=e:Array.isArray(t[r])?t[r].push(e):t[r]=[t[r],e]}),t}function i(e){return"string"!=typeof e&&("number"!=typeof e||isNaN(e))&&"boolean"!=typeof e?"":String(e)}function s(e){let t=new URLSearchParams;return Object.entries(e).forEach(e=>{let[r,n]=e;Array.isArray(n)?n.forEach(e=>t.append(r,i(e))):t.set(r,i(n))}),t}r.d(t,{Nn:()=>s,u5:()=>n})},7274:(e,t,r)=>{"use strict";r.d(t,{n:()=>i});var n=r(7843);function i(e,t){if(!(0,n.Y)(e,t))return e;let r=e.slice(t.length);return r.startsWith("/")?r:"/"+r}},9558:(e,t,r)=>{"use strict";function n(e){return e.replace(/\/$/,"")||"/"}r.d(t,{Q:()=>n})},8215:(e,t,r)=>{"use strict";r.d(t,{t:()=>i});var n=r(7506);function i(e){let{re:t,groups:r}=e;return e=>{let i=t.exec(e);if(!i)return!1;let s=e=>{try{return decodeURIComponent(e)}catch(e){throw new n._9("failed to decode param")}},a={};return Object.keys(r).forEach(e=>{let t=r[e],n=i[t.pos];void 0!==n&&(a[e]=~n.indexOf("/")?n.split("/").map(e=>s(e)):t.repeat?[s(n)]:s(n))}),a}}},9963:(e,t,r)=>{"use strict";r.d(t,{JV:()=>u,b8:()=>a,vG:()=>o});var n=r(9567),i=r(5374),s=r(9558);function a(e){let t=e.startsWith("[")&&e.endsWith("]");t&&(e=e.slice(1,-1));let r=e.startsWith("...");return r&&(e=e.slice(3)),{key:e,repeat:r,optional:t}}function o(e){let{parameterizedRoute:t,groups:r}=function(e){let t=(0,s.Q)(e).slice(1).split("/"),r={},o=1;return{parameterizedRoute:t.map(e=>{let t=n.Wz.find(t=>e.startsWith(t)),s=e.match(/\[((?:\[.*\])|.+)\]/);if(t&&s){let{key:e,optional:n,repeat:l}=a(s[1]);return r[e]={pos:o++,repeat:l,optional:n},"/"+(0,i.f)(t)+"([^/]+?)"}if(!s)return"/"+(0,i.f)(e);{let{key:e,repeat:t,optional:n}=a(s[1]);return r[e]={pos:o++,repeat:t,optional:n},t?n?"(?:/(.+?))?":"/(.+?)":"/([^/]+?)"}}).join(""),groups:r}}(e);return{re:RegExp("^"+t+"(?:/)?$"),groups:r}}function l(e){let{interceptionMarker:t,getSafeRouteKey:r,segment:n,routeKeys:s,keyPrefix:o}=e,{key:l,optional:u,repeat:c}=a(n),h=l.replace(/\W/g,"");o&&(h=""+o+h);let d=!1;(0===h.length||h.length>30)&&(d=!0),isNaN(parseInt(h.slice(0,1)))||(d=!0),d&&(h=r()),o?s[h]=""+o+l:s[h]=l;let f=t?(0,i.f)(t):"";return c?u?"(?:/"+f+"(?<"+h+">.+?))?":"/"+f+"(?<"+h+">.+?)":"/"+f+"(?<"+h+">[^/]+?)"}function u(e,t){let r=function(e,t){let r;let a=(0,s.Q)(e).slice(1).split("/"),o=(r=0,()=>{let e="",t=++r;for(;t>0;)e+=String.fromCharCode(97+(t-1)%26),t=Math.floor((t-1)/26);return e}),u={};return{namedParameterizedRoute:a.map(e=>{let r=n.Wz.some(t=>e.startsWith(t)),s=e.match(/\[((?:\[.*\])|.+)\]/);if(r&&s){let[r]=e.split(s[0]);return l({getSafeRouteKey:o,interceptionMarker:r,segment:s[1],routeKeys:u,keyPrefix:t?"nxtI":void 0})}return s?l({getSafeRouteKey:o,segment:s[1],routeKeys:u,keyPrefix:t?"nxtP":void 0}):"/"+(0,i.f)(e)}).join(""),routeKeys:u}}(e,t);return{...o(e),namedRegex:"^"+r.namedParameterizedRoute+"(?:/)?$",routeKeys:r.routeKeys}}},6083:(e,t,r)=>{"use strict";function n(e){return"("===e[0]&&e.endsWith(")")}r.d(t,{GC:()=>i,av:()=>s,lv:()=>n});let i="__PAGE__",s="__DEFAULT__"},8823:(e,t,r)=>{"use strict";r.r(t),r.d(t,{ServerInsertedHTMLContext:()=>i,useServerInsertedHTML:()=>s});var n=r(9220);let i=n.createContext(null);function s(e){let t=(0,n.useContext)(i);t&&t(e)}},7506:(e,t,r)=>{"use strict";function n(e){let t,r=!1;return function(){for(var n=arguments.length,i=Array(n),s=0;s<n;s++)i[s]=arguments[s];return r||(r=!0,t=e(...i)),t}}r.d(t,{At:()=>c,Dp:()=>a,KM:()=>u,U3:()=>o,_9:()=>l,gf:()=>n,sD:()=>s});let i=/^[a-zA-Z][a-zA-Z\d+\-.]*?:/,s=e=>i.test(e);function a(){let{protocol:e,hostname:t,port:r}=window.location;return e+"//"+t+(r?":"+r:"")}function o(e){let t=e.split("?");return t[0].replace(/\\/g,"/").replace(/\/\/+/g,"/")+(t[1]?"?"+t.slice(1).join("?"):"")}"undefined"!=typeof performance&&["mark","measure","getEntriesByName"].every(e=>"function"==typeof performance[e]);class l extends Error{}class u extends Error{}class c extends Error{constructor(e,t){super(),this.message="Failed to load static file for page: "+e+" "+t}}},2012:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{getTestReqInfo:function(){return a},withRequest:function(){return s}});let n=new(r(2067)).AsyncLocalStorage;function i(e,t){let r=t.header(e,"next-test-proxy-port");if(r)return{url:t.url(e),proxyPort:Number(r),testData:t.header(e,"next-test-data")||""}}function s(e,t,r){let s=i(e,t);return s?n.run(s,r):r()}function a(e,t){return n.getStore()||(e&&t?i(e,t):void 0)}},3774:(e,t,r)=>{"use strict";var n=r(6195).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{handleFetch:function(){return o},interceptFetch:function(){return l},reader:function(){return s}});let i=r(2012),s={url:e=>e.url,header:(e,t)=>e.headers.get(t)};async function a(e,t){let{url:r,method:i,headers:s,body:a,cache:o,credentials:l,integrity:u,mode:c,redirect:h,referrer:d,referrerPolicy:f}=t;return{testData:e,api:"fetch",request:{url:r,method:i,headers:[...Array.from(s),["next-test-stack",function(){let e=(Error().stack??"").split("\n");for(let t=1;t<e.length;t++)if(e[t].length>0){e=e.slice(t);break}return(e=(e=(e=e.filter(e=>!e.includes("/next/dist/"))).slice(0,5)).map(e=>e.replace("webpack-internal:///(rsc)/","").trim())).join("    ")}()]],body:a?n.from(await t.arrayBuffer()).toString("base64"):null,cache:o,credentials:l,integrity:u,mode:c,redirect:h,referrer:d,referrerPolicy:f}}}async function o(e,t){let r=(0,i.getTestReqInfo)(t,s);if(!r)return e(t);let{testData:o,proxyPort:l}=r,u=await a(o,t),c=await e(`http://localhost:${l}`,{method:"POST",body:JSON.stringify(u),next:{internal:!0}});if(!c.ok)throw Error(`Proxy request failed: ${c.status}`);let h=await c.json(),{api:d}=h;switch(d){case"continue":return e(t);case"abort":case"unhandled":throw Error(`Proxy request aborted [${t.method} ${t.url}]`)}return function(e){let{status:t,headers:r,body:i}=e.response;return new Response(i?n.from(i,"base64"):null,{status:t,headers:new Headers(r)})}(h)}function l(e){return r.g.fetch=function(t,r){var n;return(null==r?void 0:null==(n=r.next)?void 0:n.internal)?e(t,r):o(e,new Request(t,r))},()=>{r.g.fetch=e}}},5916:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{interceptTestApis:function(){return s},wrapRequestHandler:function(){return a}});let n=r(2012),i=r(3774);function s(){return(0,i.interceptFetch)(r.g.fetch)}function a(e){return(t,r)=>(0,n.withRequest)(t,i.reader,()=>e(t,r))}},8819:(e,t,r)=>{(()=>{"use strict";var t={491:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ContextAPI=void 0;let n=r(223),i=r(172),s=r(930),a="context",o=new n.NoopContextManager;class l{constructor(){}static getInstance(){return this._instance||(this._instance=new l),this._instance}setGlobalContextManager(e){return(0,i.registerGlobal)(a,e,s.DiagAPI.instance())}active(){return this._getContextManager().active()}with(e,t,r,...n){return this._getContextManager().with(e,t,r,...n)}bind(e,t){return this._getContextManager().bind(e,t)}_getContextManager(){return(0,i.getGlobal)(a)||o}disable(){this._getContextManager().disable(),(0,i.unregisterGlobal)(a,s.DiagAPI.instance())}}t.ContextAPI=l},930:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DiagAPI=void 0;let n=r(56),i=r(912),s=r(957),a=r(172);class o{constructor(){function e(e){return function(...t){let r=(0,a.getGlobal)("diag");if(r)return r[e](...t)}}let t=this;t.setLogger=(e,r={logLevel:s.DiagLogLevel.INFO})=>{var n,o,l;if(e===t){let e=Error("Cannot use diag as the logger for itself. Please use a DiagLogger implementation like ConsoleDiagLogger or a custom implementation");return t.error(null!==(n=e.stack)&&void 0!==n?n:e.message),!1}"number"==typeof r&&(r={logLevel:r});let u=(0,a.getGlobal)("diag"),c=(0,i.createLogLevelDiagLogger)(null!==(o=r.logLevel)&&void 0!==o?o:s.DiagLogLevel.INFO,e);if(u&&!r.suppressOverrideMessage){let e=null!==(l=Error().stack)&&void 0!==l?l:"<failed to generate stacktrace>";u.warn(`Current logger will be overwritten from ${e}`),c.warn(`Current logger will overwrite one already registered from ${e}`)}return(0,a.registerGlobal)("diag",c,t,!0)},t.disable=()=>{(0,a.unregisterGlobal)("diag",t)},t.createComponentLogger=e=>new n.DiagComponentLogger(e),t.verbose=e("verbose"),t.debug=e("debug"),t.info=e("info"),t.warn=e("warn"),t.error=e("error")}static instance(){return this._instance||(this._instance=new o),this._instance}}t.DiagAPI=o},653:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.MetricsAPI=void 0;let n=r(660),i=r(172),s=r(930),a="metrics";class o{constructor(){}static getInstance(){return this._instance||(this._instance=new o),this._instance}setGlobalMeterProvider(e){return(0,i.registerGlobal)(a,e,s.DiagAPI.instance())}getMeterProvider(){return(0,i.getGlobal)(a)||n.NOOP_METER_PROVIDER}getMeter(e,t,r){return this.getMeterProvider().getMeter(e,t,r)}disable(){(0,i.unregisterGlobal)(a,s.DiagAPI.instance())}}t.MetricsAPI=o},181:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PropagationAPI=void 0;let n=r(172),i=r(874),s=r(194),a=r(277),o=r(369),l=r(930),u="propagation",c=new i.NoopTextMapPropagator;class h{constructor(){this.createBaggage=o.createBaggage,this.getBaggage=a.getBaggage,this.getActiveBaggage=a.getActiveBaggage,this.setBaggage=a.setBaggage,this.deleteBaggage=a.deleteBaggage}static getInstance(){return this._instance||(this._instance=new h),this._instance}setGlobalPropagator(e){return(0,n.registerGlobal)(u,e,l.DiagAPI.instance())}inject(e,t,r=s.defaultTextMapSetter){return this._getGlobalPropagator().inject(e,t,r)}extract(e,t,r=s.defaultTextMapGetter){return this._getGlobalPropagator().extract(e,t,r)}fields(){return this._getGlobalPropagator().fields()}disable(){(0,n.unregisterGlobal)(u,l.DiagAPI.instance())}_getGlobalPropagator(){return(0,n.getGlobal)(u)||c}}t.PropagationAPI=h},997:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TraceAPI=void 0;let n=r(172),i=r(846),s=r(139),a=r(607),o=r(930),l="trace";class u{constructor(){this._proxyTracerProvider=new i.ProxyTracerProvider,this.wrapSpanContext=s.wrapSpanContext,this.isSpanContextValid=s.isSpanContextValid,this.deleteSpan=a.deleteSpan,this.getSpan=a.getSpan,this.getActiveSpan=a.getActiveSpan,this.getSpanContext=a.getSpanContext,this.setSpan=a.setSpan,this.setSpanContext=a.setSpanContext}static getInstance(){return this._instance||(this._instance=new u),this._instance}setGlobalTracerProvider(e){let t=(0,n.registerGlobal)(l,this._proxyTracerProvider,o.DiagAPI.instance());return t&&this._proxyTracerProvider.setDelegate(e),t}getTracerProvider(){return(0,n.getGlobal)(l)||this._proxyTracerProvider}getTracer(e,t){return this.getTracerProvider().getTracer(e,t)}disable(){(0,n.unregisterGlobal)(l,o.DiagAPI.instance()),this._proxyTracerProvider=new i.ProxyTracerProvider}}t.TraceAPI=u},277:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.deleteBaggage=t.setBaggage=t.getActiveBaggage=t.getBaggage=void 0;let n=r(491),i=(0,r(780).createContextKey)("OpenTelemetry Baggage Key");function s(e){return e.getValue(i)||void 0}t.getBaggage=s,t.getActiveBaggage=function(){return s(n.ContextAPI.getInstance().active())},t.setBaggage=function(e,t){return e.setValue(i,t)},t.deleteBaggage=function(e){return e.deleteValue(i)}},993:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.BaggageImpl=void 0;class r{constructor(e){this._entries=e?new Map(e):new Map}getEntry(e){let t=this._entries.get(e);if(t)return Object.assign({},t)}getAllEntries(){return Array.from(this._entries.entries()).map(([e,t])=>[e,t])}setEntry(e,t){let n=new r(this._entries);return n._entries.set(e,t),n}removeEntry(e){let t=new r(this._entries);return t._entries.delete(e),t}removeEntries(...e){let t=new r(this._entries);for(let r of e)t._entries.delete(r);return t}clear(){return new r}}t.BaggageImpl=r},830:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.baggageEntryMetadataSymbol=void 0,t.baggageEntryMetadataSymbol=Symbol("BaggageEntryMetadata")},369:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.baggageEntryMetadataFromString=t.createBaggage=void 0;let n=r(930),i=r(993),s=r(830),a=n.DiagAPI.instance();t.createBaggage=function(e={}){return new i.BaggageImpl(new Map(Object.entries(e)))},t.baggageEntryMetadataFromString=function(e){return"string"!=typeof e&&(a.error(`Cannot create baggage metadata from unknown type: ${typeof e}`),e=""),{__TYPE__:s.baggageEntryMetadataSymbol,toString:()=>e}}},67:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.context=void 0;let n=r(491);t.context=n.ContextAPI.getInstance()},223:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NoopContextManager=void 0;let n=r(780);class i{active(){return n.ROOT_CONTEXT}with(e,t,r,...n){return t.call(r,...n)}bind(e,t){return t}enable(){return this}disable(){return this}}t.NoopContextManager=i},780:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ROOT_CONTEXT=t.createContextKey=void 0,t.createContextKey=function(e){return Symbol.for(e)};class r{constructor(e){let t=this;t._currentContext=e?new Map(e):new Map,t.getValue=e=>t._currentContext.get(e),t.setValue=(e,n)=>{let i=new r(t._currentContext);return i._currentContext.set(e,n),i},t.deleteValue=e=>{let n=new r(t._currentContext);return n._currentContext.delete(e),n}}}t.ROOT_CONTEXT=new r},506:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.diag=void 0;let n=r(930);t.diag=n.DiagAPI.instance()},56:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DiagComponentLogger=void 0;let n=r(172);class i{constructor(e){this._namespace=e.namespace||"DiagComponentLogger"}debug(...e){return s("debug",this._namespace,e)}error(...e){return s("error",this._namespace,e)}info(...e){return s("info",this._namespace,e)}warn(...e){return s("warn",this._namespace,e)}verbose(...e){return s("verbose",this._namespace,e)}}function s(e,t,r){let i=(0,n.getGlobal)("diag");if(i)return r.unshift(t),i[e](...r)}t.DiagComponentLogger=i},972:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DiagConsoleLogger=void 0;let r=[{n:"error",c:"error"},{n:"warn",c:"warn"},{n:"info",c:"info"},{n:"debug",c:"debug"},{n:"verbose",c:"trace"}];class n{constructor(){for(let e=0;e<r.length;e++)this[r[e].n]=function(e){return function(...t){if(console){let r=console[e];if("function"!=typeof r&&(r=console.log),"function"==typeof r)return r.apply(console,t)}}}(r[e].c)}}t.DiagConsoleLogger=n},912:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.createLogLevelDiagLogger=void 0;let n=r(957);t.createLogLevelDiagLogger=function(e,t){function r(r,n){let i=t[r];return"function"==typeof i&&e>=n?i.bind(t):function(){}}return e<n.DiagLogLevel.NONE?e=n.DiagLogLevel.NONE:e>n.DiagLogLevel.ALL&&(e=n.DiagLogLevel.ALL),t=t||{},{error:r("error",n.DiagLogLevel.ERROR),warn:r("warn",n.DiagLogLevel.WARN),info:r("info",n.DiagLogLevel.INFO),debug:r("debug",n.DiagLogLevel.DEBUG),verbose:r("verbose",n.DiagLogLevel.VERBOSE)}}},957:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DiagLogLevel=void 0,function(e){e[e.NONE=0]="NONE",e[e.ERROR=30]="ERROR",e[e.WARN=50]="WARN",e[e.INFO=60]="INFO",e[e.DEBUG=70]="DEBUG",e[e.VERBOSE=80]="VERBOSE",e[e.ALL=9999]="ALL"}(t.DiagLogLevel||(t.DiagLogLevel={}))},172:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.unregisterGlobal=t.getGlobal=t.registerGlobal=void 0;let n=r(200),i=r(521),s=r(130),a=i.VERSION.split(".")[0],o=Symbol.for(`opentelemetry.js.api.${a}`),l=n._globalThis;t.registerGlobal=function(e,t,r,n=!1){var s;let a=l[o]=null!==(s=l[o])&&void 0!==s?s:{version:i.VERSION};if(!n&&a[e]){let t=Error(`@opentelemetry/api: Attempted duplicate registration of API: ${e}`);return r.error(t.stack||t.message),!1}if(a.version!==i.VERSION){let t=Error(`@opentelemetry/api: Registration of version v${a.version} for ${e} does not match previously registered API v${i.VERSION}`);return r.error(t.stack||t.message),!1}return a[e]=t,r.debug(`@opentelemetry/api: Registered a global for ${e} v${i.VERSION}.`),!0},t.getGlobal=function(e){var t,r;let n=null===(t=l[o])||void 0===t?void 0:t.version;if(n&&(0,s.isCompatible)(n))return null===(r=l[o])||void 0===r?void 0:r[e]},t.unregisterGlobal=function(e,t){t.debug(`@opentelemetry/api: Unregistering a global for ${e} v${i.VERSION}.`);let r=l[o];r&&delete r[e]}},130:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.isCompatible=t._makeCompatibilityCheck=void 0;let n=r(521),i=/^(\d+)\.(\d+)\.(\d+)(-(.+))?$/;function s(e){let t=new Set([e]),r=new Set,n=e.match(i);if(!n)return()=>!1;let s={major:+n[1],minor:+n[2],patch:+n[3],prerelease:n[4]};if(null!=s.prerelease)return function(t){return t===e};function a(e){return r.add(e),!1}return function(e){if(t.has(e))return!0;if(r.has(e))return!1;let n=e.match(i);if(!n)return a(e);let o={major:+n[1],minor:+n[2],patch:+n[3],prerelease:n[4]};return null!=o.prerelease||s.major!==o.major?a(e):0===s.major?s.minor===o.minor&&s.patch<=o.patch?(t.add(e),!0):a(e):s.minor<=o.minor?(t.add(e),!0):a(e)}}t._makeCompatibilityCheck=s,t.isCompatible=s(n.VERSION)},886:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.metrics=void 0;let n=r(653);t.metrics=n.MetricsAPI.getInstance()},901:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ValueType=void 0,function(e){e[e.INT=0]="INT",e[e.DOUBLE=1]="DOUBLE"}(t.ValueType||(t.ValueType={}))},102:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.createNoopMeter=t.NOOP_OBSERVABLE_UP_DOWN_COUNTER_METRIC=t.NOOP_OBSERVABLE_GAUGE_METRIC=t.NOOP_OBSERVABLE_COUNTER_METRIC=t.NOOP_UP_DOWN_COUNTER_METRIC=t.NOOP_HISTOGRAM_METRIC=t.NOOP_COUNTER_METRIC=t.NOOP_METER=t.NoopObservableUpDownCounterMetric=t.NoopObservableGaugeMetric=t.NoopObservableCounterMetric=t.NoopObservableMetric=t.NoopHistogramMetric=t.NoopUpDownCounterMetric=t.NoopCounterMetric=t.NoopMetric=t.NoopMeter=void 0;class r{constructor(){}createHistogram(e,r){return t.NOOP_HISTOGRAM_METRIC}createCounter(e,r){return t.NOOP_COUNTER_METRIC}createUpDownCounter(e,r){return t.NOOP_UP_DOWN_COUNTER_METRIC}createObservableGauge(e,r){return t.NOOP_OBSERVABLE_GAUGE_METRIC}createObservableCounter(e,r){return t.NOOP_OBSERVABLE_COUNTER_METRIC}createObservableUpDownCounter(e,r){return t.NOOP_OBSERVABLE_UP_DOWN_COUNTER_METRIC}addBatchObservableCallback(e,t){}removeBatchObservableCallback(e){}}t.NoopMeter=r;class n{}t.NoopMetric=n;class i extends n{add(e,t){}}t.NoopCounterMetric=i;class s extends n{add(e,t){}}t.NoopUpDownCounterMetric=s;class a extends n{record(e,t){}}t.NoopHistogramMetric=a;class o{addCallback(e){}removeCallback(e){}}t.NoopObservableMetric=o;class l extends o{}t.NoopObservableCounterMetric=l;class u extends o{}t.NoopObservableGaugeMetric=u;class c extends o{}t.NoopObservableUpDownCounterMetric=c,t.NOOP_METER=new r,t.NOOP_COUNTER_METRIC=new i,t.NOOP_HISTOGRAM_METRIC=new a,t.NOOP_UP_DOWN_COUNTER_METRIC=new s,t.NOOP_OBSERVABLE_COUNTER_METRIC=new l,t.NOOP_OBSERVABLE_GAUGE_METRIC=new u,t.NOOP_OBSERVABLE_UP_DOWN_COUNTER_METRIC=new c,t.createNoopMeter=function(){return t.NOOP_METER}},660:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NOOP_METER_PROVIDER=t.NoopMeterProvider=void 0;let n=r(102);class i{getMeter(e,t,r){return n.NOOP_METER}}t.NoopMeterProvider=i,t.NOOP_METER_PROVIDER=new i},200:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(46),t)},651:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t._globalThis=void 0,t._globalThis="object"==typeof globalThis?globalThis:r.g},46:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(651),t)},939:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.propagation=void 0;let n=r(181);t.propagation=n.PropagationAPI.getInstance()},874:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NoopTextMapPropagator=void 0;class r{inject(e,t){}extract(e,t){return e}fields(){return[]}}t.NoopTextMapPropagator=r},194:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.defaultTextMapSetter=t.defaultTextMapGetter=void 0,t.defaultTextMapGetter={get(e,t){if(null!=e)return e[t]},keys:e=>null==e?[]:Object.keys(e)},t.defaultTextMapSetter={set(e,t,r){null!=e&&(e[t]=r)}}},845:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.trace=void 0;let n=r(997);t.trace=n.TraceAPI.getInstance()},403:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NonRecordingSpan=void 0;let n=r(476);class i{constructor(e=n.INVALID_SPAN_CONTEXT){this._spanContext=e}spanContext(){return this._spanContext}setAttribute(e,t){return this}setAttributes(e){return this}addEvent(e,t){return this}setStatus(e){return this}updateName(e){return this}end(e){}isRecording(){return!1}recordException(e,t){}}t.NonRecordingSpan=i},614:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NoopTracer=void 0;let n=r(491),i=r(607),s=r(403),a=r(139),o=n.ContextAPI.getInstance();class l{startSpan(e,t,r=o.active()){if(null==t?void 0:t.root)return new s.NonRecordingSpan;let n=r&&(0,i.getSpanContext)(r);return"object"==typeof n&&"string"==typeof n.spanId&&"string"==typeof n.traceId&&"number"==typeof n.traceFlags&&(0,a.isSpanContextValid)(n)?new s.NonRecordingSpan(n):new s.NonRecordingSpan}startActiveSpan(e,t,r,n){let s,a,l;if(arguments.length<2)return;2==arguments.length?l=t:3==arguments.length?(s=t,l=r):(s=t,a=r,l=n);let u=null!=a?a:o.active(),c=this.startSpan(e,s,u),h=(0,i.setSpan)(u,c);return o.with(h,l,void 0,c)}}t.NoopTracer=l},124:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NoopTracerProvider=void 0;let n=r(614);class i{getTracer(e,t,r){return new n.NoopTracer}}t.NoopTracerProvider=i},125:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ProxyTracer=void 0;let n=new(r(614)).NoopTracer;class i{constructor(e,t,r,n){this._provider=e,this.name=t,this.version=r,this.options=n}startSpan(e,t,r){return this._getTracer().startSpan(e,t,r)}startActiveSpan(e,t,r,n){let i=this._getTracer();return Reflect.apply(i.startActiveSpan,i,arguments)}_getTracer(){if(this._delegate)return this._delegate;let e=this._provider.getDelegateTracer(this.name,this.version,this.options);return e?(this._delegate=e,this._delegate):n}}t.ProxyTracer=i},846:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ProxyTracerProvider=void 0;let n=r(125),i=new(r(124)).NoopTracerProvider;class s{getTracer(e,t,r){var i;return null!==(i=this.getDelegateTracer(e,t,r))&&void 0!==i?i:new n.ProxyTracer(this,e,t,r)}getDelegate(){var e;return null!==(e=this._delegate)&&void 0!==e?e:i}setDelegate(e){this._delegate=e}getDelegateTracer(e,t,r){var n;return null===(n=this._delegate)||void 0===n?void 0:n.getTracer(e,t,r)}}t.ProxyTracerProvider=s},996:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SamplingDecision=void 0,function(e){e[e.NOT_RECORD=0]="NOT_RECORD",e[e.RECORD=1]="RECORD",e[e.RECORD_AND_SAMPLED=2]="RECORD_AND_SAMPLED"}(t.SamplingDecision||(t.SamplingDecision={}))},607:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getSpanContext=t.setSpanContext=t.deleteSpan=t.setSpan=t.getActiveSpan=t.getSpan=void 0;let n=r(780),i=r(403),s=r(491),a=(0,n.createContextKey)("OpenTelemetry Context Key SPAN");function o(e){return e.getValue(a)||void 0}function l(e,t){return e.setValue(a,t)}t.getSpan=o,t.getActiveSpan=function(){return o(s.ContextAPI.getInstance().active())},t.setSpan=l,t.deleteSpan=function(e){return e.deleteValue(a)},t.setSpanContext=function(e,t){return l(e,new i.NonRecordingSpan(t))},t.getSpanContext=function(e){var t;return null===(t=o(e))||void 0===t?void 0:t.spanContext()}},325:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TraceStateImpl=void 0;let n=r(564);class i{constructor(e){this._internalState=new Map,e&&this._parse(e)}set(e,t){let r=this._clone();return r._internalState.has(e)&&r._internalState.delete(e),r._internalState.set(e,t),r}unset(e){let t=this._clone();return t._internalState.delete(e),t}get(e){return this._internalState.get(e)}serialize(){return this._keys().reduce((e,t)=>(e.push(t+"="+this.get(t)),e),[]).join(",")}_parse(e){!(e.length>512)&&(this._internalState=e.split(",").reverse().reduce((e,t)=>{let r=t.trim(),i=r.indexOf("=");if(-1!==i){let s=r.slice(0,i),a=r.slice(i+1,t.length);(0,n.validateKey)(s)&&(0,n.validateValue)(a)&&e.set(s,a)}return e},new Map),this._internalState.size>32&&(this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,32))))}_keys(){return Array.from(this._internalState.keys()).reverse()}_clone(){let e=new i;return e._internalState=new Map(this._internalState),e}}t.TraceStateImpl=i},564:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.validateValue=t.validateKey=void 0;let r="[_0-9a-z-*/]",n=`[a-z]${r}{0,255}`,i=`[a-z0-9]${r}{0,240}@[a-z]${r}{0,13}`,s=RegExp(`^(?:${n}|${i})$`),a=/^[ -~]{0,255}[!-~]$/,o=/,|=/;t.validateKey=function(e){return s.test(e)},t.validateValue=function(e){return a.test(e)&&!o.test(e)}},98:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.createTraceState=void 0;let n=r(325);t.createTraceState=function(e){return new n.TraceStateImpl(e)}},476:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.INVALID_SPAN_CONTEXT=t.INVALID_TRACEID=t.INVALID_SPANID=void 0;let n=r(475);t.INVALID_SPANID="0000000000000000",t.INVALID_TRACEID="00000000000000000000000000000000",t.INVALID_SPAN_CONTEXT={traceId:t.INVALID_TRACEID,spanId:t.INVALID_SPANID,traceFlags:n.TraceFlags.NONE}},357:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SpanKind=void 0,function(e){e[e.INTERNAL=0]="INTERNAL",e[e.SERVER=1]="SERVER",e[e.CLIENT=2]="CLIENT",e[e.PRODUCER=3]="PRODUCER",e[e.CONSUMER=4]="CONSUMER"}(t.SpanKind||(t.SpanKind={}))},139:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.wrapSpanContext=t.isSpanContextValid=t.isValidSpanId=t.isValidTraceId=void 0;let n=r(476),i=r(403),s=/^([0-9a-f]{32})$/i,a=/^[0-9a-f]{16}$/i;function o(e){return s.test(e)&&e!==n.INVALID_TRACEID}function l(e){return a.test(e)&&e!==n.INVALID_SPANID}t.isValidTraceId=o,t.isValidSpanId=l,t.isSpanContextValid=function(e){return o(e.traceId)&&l(e.spanId)},t.wrapSpanContext=function(e){return new i.NonRecordingSpan(e)}},847:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SpanStatusCode=void 0,function(e){e[e.UNSET=0]="UNSET",e[e.OK=1]="OK",e[e.ERROR=2]="ERROR"}(t.SpanStatusCode||(t.SpanStatusCode={}))},475:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TraceFlags=void 0,function(e){e[e.NONE=0]="NONE",e[e.SAMPLED=1]="SAMPLED"}(t.TraceFlags||(t.TraceFlags={}))},521:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.VERSION=void 0,t.VERSION="1.6.0"}},n={};function i(e){var r=n[e];if(void 0!==r)return r.exports;var s=n[e]={exports:{}},a=!0;try{t[e].call(s.exports,s,s.exports,i),a=!1}finally{a&&delete n[e]}return s.exports}i.ab="//";var s={};(()=>{Object.defineProperty(s,"__esModule",{value:!0}),s.trace=s.propagation=s.metrics=s.diag=s.context=s.INVALID_SPAN_CONTEXT=s.INVALID_TRACEID=s.INVALID_SPANID=s.isValidSpanId=s.isValidTraceId=s.isSpanContextValid=s.createTraceState=s.TraceFlags=s.SpanStatusCode=s.SpanKind=s.SamplingDecision=s.ProxyTracerProvider=s.ProxyTracer=s.defaultTextMapSetter=s.defaultTextMapGetter=s.ValueType=s.createNoopMeter=s.DiagLogLevel=s.DiagConsoleLogger=s.ROOT_CONTEXT=s.createContextKey=s.baggageEntryMetadataFromString=void 0;var e=i(369);Object.defineProperty(s,"baggageEntryMetadataFromString",{enumerable:!0,get:function(){return e.baggageEntryMetadataFromString}});var t=i(780);Object.defineProperty(s,"createContextKey",{enumerable:!0,get:function(){return t.createContextKey}}),Object.defineProperty(s,"ROOT_CONTEXT",{enumerable:!0,get:function(){return t.ROOT_CONTEXT}});var r=i(972);Object.defineProperty(s,"DiagConsoleLogger",{enumerable:!0,get:function(){return r.DiagConsoleLogger}});var n=i(957);Object.defineProperty(s,"DiagLogLevel",{enumerable:!0,get:function(){return n.DiagLogLevel}});var a=i(102);Object.defineProperty(s,"createNoopMeter",{enumerable:!0,get:function(){return a.createNoopMeter}});var o=i(901);Object.defineProperty(s,"ValueType",{enumerable:!0,get:function(){return o.ValueType}});var l=i(194);Object.defineProperty(s,"defaultTextMapGetter",{enumerable:!0,get:function(){return l.defaultTextMapGetter}}),Object.defineProperty(s,"defaultTextMapSetter",{enumerable:!0,get:function(){return l.defaultTextMapSetter}});var u=i(125);Object.defineProperty(s,"ProxyTracer",{enumerable:!0,get:function(){return u.ProxyTracer}});var c=i(846);Object.defineProperty(s,"ProxyTracerProvider",{enumerable:!0,get:function(){return c.ProxyTracerProvider}});var h=i(996);Object.defineProperty(s,"SamplingDecision",{enumerable:!0,get:function(){return h.SamplingDecision}});var d=i(357);Object.defineProperty(s,"SpanKind",{enumerable:!0,get:function(){return d.SpanKind}});var f=i(847);Object.defineProperty(s,"SpanStatusCode",{enumerable:!0,get:function(){return f.SpanStatusCode}});var p=i(475);Object.defineProperty(s,"TraceFlags",{enumerable:!0,get:function(){return p.TraceFlags}});var g=i(98);Object.defineProperty(s,"createTraceState",{enumerable:!0,get:function(){return g.createTraceState}});var m=i(139);Object.defineProperty(s,"isSpanContextValid",{enumerable:!0,get:function(){return m.isSpanContextValid}}),Object.defineProperty(s,"isValidTraceId",{enumerable:!0,get:function(){return m.isValidTraceId}}),Object.defineProperty(s,"isValidSpanId",{enumerable:!0,get:function(){return m.isValidSpanId}});var y=i(476);Object.defineProperty(s,"INVALID_SPANID",{enumerable:!0,get:function(){return y.INVALID_SPANID}}),Object.defineProperty(s,"INVALID_TRACEID",{enumerable:!0,get:function(){return y.INVALID_TRACEID}}),Object.defineProperty(s,"INVALID_SPAN_CONTEXT",{enumerable:!0,get:function(){return y.INVALID_SPAN_CONTEXT}});let v=i(67);Object.defineProperty(s,"context",{enumerable:!0,get:function(){return v.context}});let b=i(506);Object.defineProperty(s,"diag",{enumerable:!0,get:function(){return b.diag}});let w=i(886);Object.defineProperty(s,"metrics",{enumerable:!0,get:function(){return w.metrics}});let _=i(939);Object.defineProperty(s,"propagation",{enumerable:!0,get:function(){return _.propagation}});let S=i(845);Object.defineProperty(s,"trace",{enumerable:!0,get:function(){return S.trace}}),s.default={context:v.context,diag:b.diag,metrics:w.metrics,propagation:_.propagation,trace:S.trace}})(),e.exports=s})()},9642:(e,t)=>{"use strict";var r={usingClientEntryPoint:!1,Events:null,Dispatcher:{current:null}};function n(e,t){return"font"===e?"":"string"==typeof t?"use-credentials"===t?t:"":void 0}var i=r.Dispatcher;t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=r,t.preconnect=function(e,t){var r=i.current;r&&"string"==typeof e&&(t=t?"string"==typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:null,r.preconnect(e,t))},t.prefetchDNS=function(e){var t=i.current;t&&"string"==typeof e&&t.prefetchDNS(e)},t.preinit=function(e,t){var r=i.current;if(r&&"string"==typeof e&&t&&"string"==typeof t.as){var s=t.as,a=n(s,t.crossOrigin),o="string"==typeof t.integrity?t.integrity:void 0,l="string"==typeof t.fetchPriority?t.fetchPriority:void 0;"style"===s?r.preinitStyle(e,"string"==typeof t.precedence?t.precedence:void 0,{crossOrigin:a,integrity:o,fetchPriority:l}):"script"===s&&r.preinitScript(e,{crossOrigin:a,integrity:o,fetchPriority:l,nonce:"string"==typeof t.nonce?t.nonce:void 0})}},t.preinitModule=function(e,t){var r=i.current;if(r&&"string"==typeof e){if("object"==typeof t&&null!==t){if(null==t.as||"script"===t.as){var s=n(t.as,t.crossOrigin);r.preinitModuleScript(e,{crossOrigin:s,integrity:"string"==typeof t.integrity?t.integrity:void 0,nonce:"string"==typeof t.nonce?t.nonce:void 0})}}else null==t&&r.preinitModuleScript(e)}},t.preload=function(e,t){var r=i.current;if(r&&"string"==typeof e&&"object"==typeof t&&null!==t&&"string"==typeof t.as){var s=t.as,a=n(s,t.crossOrigin);r.preload(e,s,{crossOrigin:a,integrity:"string"==typeof t.integrity?t.integrity:void 0,nonce:"string"==typeof t.nonce?t.nonce:void 0,type:"string"==typeof t.type?t.type:void 0,fetchPriority:"string"==typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"==typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"==typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"==typeof t.imageSizes?t.imageSizes:void 0})}},t.preloadModule=function(e,t){var r=i.current;if(r&&"string"==typeof e){if(t){var s=n(t.as,t.crossOrigin);r.preloadModule(e,{as:"string"==typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:s,integrity:"string"==typeof t.integrity?t.integrity:void 0})}else r.preloadModule(e)}}},5105:(e,t,r)=>{"use strict";e.exports=r(9642)},1651:(e,t,r)=>{"use strict";var n=r(7908),i=r(5105),s=null,a=0;function o(e,t){if(0!==t.byteLength){if(2048<t.byteLength)0<a&&(e.enqueue(new Uint8Array(s.buffer,0,a)),s=new Uint8Array(2048),a=0),e.enqueue(t);else{var r=s.length-a;r<t.byteLength&&(0===r?e.enqueue(s):(s.set(t.subarray(0,r),a),e.enqueue(s),t=t.subarray(r)),s=new Uint8Array(2048),a=0),s.set(t,a),a+=t.byteLength}}return!0}var l=new TextEncoder;function u(e,t){"function"==typeof e.error?e.error(t):e.close()}var c=Symbol.for("react.client.reference"),h=Symbol.for("react.server.reference");function d(e,t,r){return Object.defineProperties(e,{$$typeof:{value:c},$$id:{value:t},$$async:{value:r}})}var f=Function.prototype.bind,p=Array.prototype.slice;function g(){var e=f.apply(this,arguments);if(this.$$typeof===h){var t=p.call(arguments,1);return Object.defineProperties(e,{$$typeof:{value:h},$$id:{value:this.$$id},$$bound:{value:this.$$bound?this.$$bound.concat(t):t},bind:{value:g}})}return e}var m=Promise.prototype,y={get:function(e,t){switch(t){case"$$typeof":return e.$$typeof;case"$$id":return e.$$id;case"$$async":return e.$$async;case"name":return e.name;case"displayName":case"defaultProps":case"toJSON":return;case Symbol.toPrimitive:return Object.prototype[Symbol.toPrimitive];case Symbol.toStringTag:return Object.prototype[Symbol.toStringTag];case"Provider":throw Error("Cannot render a Client Context Provider on the Server. Instead, you can export a Client Component wrapper that itself renders a Client Context Provider.")}throw Error("Cannot access "+String(e.name)+"."+String(t)+" on the server. You cannot dot into a client module from a server component. You can only pass the imported name through.")},set:function(){throw Error("Cannot assign to a client module from a server module.")}};function v(e,t){switch(t){case"$$typeof":return e.$$typeof;case"$$id":return e.$$id;case"$$async":return e.$$async;case"name":return e.name;case"defaultProps":case"toJSON":return;case Symbol.toPrimitive:return Object.prototype[Symbol.toPrimitive];case Symbol.toStringTag:return Object.prototype[Symbol.toStringTag];case"__esModule":var r=e.$$id;return e.default=d(function(){throw Error("Attempted to call the default export of "+r+" from the server but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},e.$$id+"#",e.$$async),!0;case"then":if(e.then)return e.then;if(e.$$async)return;var n=d({},e.$$id,!0),i=new Proxy(n,b);return e.status="fulfilled",e.value=i,e.then=d(function(e){return Promise.resolve(e(i))},e.$$id+"#then",!1)}if("symbol"==typeof t)throw Error("Cannot read Symbol exports. Only named exports are supported on a client module imported on the server.");return(n=e[t])||(Object.defineProperty(n=d(function(){throw Error("Attempted to call "+String(t)+"() from the server but "+String(t)+" is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},e.$$id+"#"+t,e.$$async),"name",{value:t}),n=e[t]=new Proxy(n,y)),n}var b={get:function(e,t){return v(e,t)},getOwnPropertyDescriptor:function(e,t){var r=Object.getOwnPropertyDescriptor(e,t);return r||(r={value:v(e,t),writable:!1,configurable:!1,enumerable:!1},Object.defineProperty(e,t,r)),r},getPrototypeOf:function(){return m},set:function(){throw Error("Cannot assign to a client module from a server module.")}},w={prefetchDNS:function(e){if("string"==typeof e&&e){var t=eh();if(t){var r=t.hints,n="D|"+e;r.has(n)||(r.add(n),ed(t,"D",e))}}},preconnect:function(e,t){if("string"==typeof e){var r=eh();if(r){var n=r.hints,i="C|"+(null==t?"null":t)+"|"+e;n.has(i)||(n.add(i),"string"==typeof t?ed(r,"C",[e,t]):ed(r,"C",e))}}},preload:function(e,t,r){if("string"==typeof e){var n=eh();if(n){var i=n.hints,s="L";if("image"===t&&r){var a=r.imageSrcSet,o=r.imageSizes,l="";"string"==typeof a&&""!==a?(l+="["+a+"]","string"==typeof o&&(l+="["+o+"]")):l+="[][]"+e,s+="[image]"+l}else s+="["+t+"]"+e;i.has(s)||(i.add(s),(r=_(r))?ed(n,"L",[e,t,r]):ed(n,"L",[e,t]))}}},preloadModule:function(e,t){if("string"==typeof e){var r=eh();if(r){var n=r.hints,i="m|"+e;if(!n.has(i))return n.add(i),(t=_(t))?ed(r,"m",[e,t]):ed(r,"m",e)}}},preinitStyle:function(e,t,r){if("string"==typeof e){var n=eh();if(n){var i=n.hints,s="S|"+e;if(!i.has(s))return i.add(s),(r=_(r))?ed(n,"S",[e,"string"==typeof t?t:0,r]):"string"==typeof t?ed(n,"S",[e,t]):ed(n,"S",e)}}},preinitScript:function(e,t){if("string"==typeof e){var r=eh();if(r){var n=r.hints,i="X|"+e;if(!n.has(i))return n.add(i),(t=_(t))?ed(r,"X",[e,t]):ed(r,"X",e)}}},preinitModuleScript:function(e,t){if("string"==typeof e){var r=eh();if(r){var n=r.hints,i="M|"+e;if(!n.has(i))return n.add(i),(t=_(t))?ed(r,"M",[e,t]):ed(r,"M",e)}}}};function _(e){if(null==e)return null;var t,r=!1,n={};for(t in e)null!=e[t]&&(r=!0,n[t]=e[t]);return r?n:null}var S=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.Dispatcher,E="function"==typeof AsyncLocalStorage,x=E?new AsyncLocalStorage:null;"object"==typeof async_hooks&&async_hooks.createHook,"object"==typeof async_hooks&&async_hooks.executionAsyncId;var T=Symbol.for("react.element"),C=Symbol.for("react.fragment"),I=Symbol.for("react.context"),R=Symbol.for("react.forward_ref"),k=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),N=Symbol.for("react.memo_cache_sentinel");Symbol.for("react.postpone");var D=Symbol.iterator,M=Error("Suspense Exception: This is not a real error! It's an implementation detail of `use` to interrupt the current render. You must either rethrow it immediately, or move the `use` call outside of the `try/catch` block. Capturing without rethrowing will lead to unexpected behavior.\n\nTo handle async errors, wrap your component in an error boundary, or call the promise's `.catch` method and pass the result to `use`");function L(){}var j=null;function $(){if(null===j)throw Error("Expected a suspended thenable. This is a bug in React. Please file an issue.");var e=j;return j=null,e}var F=null,U=0,V=null;function B(){var e=V||[];return V=null,e}var q={useMemo:function(e){return e()},useCallback:function(e){return e},useDebugValue:function(){},useDeferredValue:z,useTransition:z,readContext:G,useContext:G,useReducer:z,useRef:z,useState:z,useInsertionEffect:z,useLayoutEffect:z,useImperativeHandle:z,useEffect:z,useId:function(){if(null===F)throw Error("useId can only be used while React is rendering");var e=F.identifierCount++;return":"+F.identifierPrefix+"S"+e.toString(32)+":"},useSyncExternalStore:z,useCacheRefresh:function(){return H},useMemoCache:function(e){for(var t=Array(e),r=0;r<e;r++)t[r]=N;return t},use:function(e){if(null!==e&&"object"==typeof e||"function"==typeof e){if("function"==typeof e.then){var t=U;return U+=1,null===V&&(V=[]),function(e,t,r){switch(void 0===(r=e[r])?e.push(t):r!==t&&(t.then(L,L),t=r),t.status){case"fulfilled":return t.value;case"rejected":throw t.reason;default:if("string"!=typeof t.status)switch((e=t).status="pending",e.then(function(e){if("pending"===t.status){var r=t;r.status="fulfilled",r.value=e}},function(e){if("pending"===t.status){var r=t;r.status="rejected",r.reason=e}}),t.status){case"fulfilled":return t.value;case"rejected":throw t.reason}throw j=t,M}}(V,e,t)}e.$$typeof===I&&G()}if(e.$$typeof===c){if(null!=e.value&&e.value.$$typeof===I)throw Error("Cannot read a Client Context from a Server Component.");throw Error("Cannot use() an already resolved Client Reference.")}throw Error("An unsupported type was passed to use(): "+String(e))}};function z(){throw Error("This Hook is not supported in Server Components.")}function H(){throw Error("Refreshing the cache is not supported in Server Components.")}function G(){throw Error("Cannot read a Client Context from a Server Component.")}function W(){return(new AbortController).signal}function K(){var e=eh();return e?e.cache:new Map}var J={getCacheSignal:function(){var e=K(),t=e.get(W);return void 0===t&&(t=W(),e.set(W,t)),t},getCacheForType:function(e){var t=K(),r=t.get(e);return void 0===r&&(r=e(),t.set(e,r)),r}},X=Array.isArray,Y=Object.getPrototypeOf;function Q(e){return Object.prototype.toString.call(e).replace(/^\[object (.*)\]$/,function(e,t){return t})}function Z(e){switch(typeof e){case"string":return JSON.stringify(10>=e.length?e:e.slice(0,10)+"...");case"object":if(X(e))return"[...]";if(null!==e&&e.$$typeof===ee)return"client";return"Object"===(e=Q(e))?"{...}":e;case"function":return e.$$typeof===ee?"client":(e=e.displayName||e.name)?"function "+e:"function";default:return String(e)}}var ee=Symbol.for("react.client.reference");function et(e,t){var r=Q(e);if("Object"!==r&&"Array"!==r)return r;r=-1;var n=0;if(X(e)){for(var i="[",s=0;s<e.length;s++){0<s&&(i+=", ");var a=e[s];a="object"==typeof a&&null!==a?et(a):Z(a),""+s===t?(r=i.length,n=a.length,i+=a):i=10>a.length&&40>i.length+a.length?i+a:i+"..."}i+="]"}else if(e.$$typeof===T)i="<"+function e(t){if("string"==typeof t)return t;switch(t){case k:return"Suspense";case P:return"SuspenseList"}if("object"==typeof t)switch(t.$$typeof){case R:return e(t.render);case O:return e(t.type);case A:var r=t._payload;t=t._init;try{return e(t(r))}catch(e){}}return""}(e.type)+"/>";else{if(e.$$typeof===ee)return"client";for(a=0,i="{",s=Object.keys(e);a<s.length;a++){0<a&&(i+=", ");var o=s[a],l=JSON.stringify(o);i+=('"'+o+'"'===l?o:l)+": ",l="object"==typeof(l=e[o])&&null!==l?et(l):Z(l),o===t?(r=i.length,n=l.length,i+=l):i=10>l.length&&40>i.length+l.length?i+l:i+"..."}i+="}"}return void 0===t?i:-1<r&&0<n?"\n  "+i+"\n  "+(e=" ".repeat(r)+"^".repeat(n)):"\n  "+i}var er=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,en=n.__SECRET_SERVER_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;if(!en)throw Error('The "react" package in this environment is not configured correctly. The "react-server" condition must be enabled in any environment that runs React Server Components.');var ei=Object.prototype,es=JSON.stringify,ea=en.ReactCurrentCache,eo=er.ReactCurrentDispatcher;function el(e){console.error(e)}function eu(){}var ec=null;function eh(){if(ec)return ec;if(E){var e=x.getStore();if(e)return e}return null}function ed(e,t,r){r=es(r),t="H"+t,t=(e.nextChunkId++).toString(16)+":"+t,r=l.encode(t+r+"\n"),e.completedHintChunks.push(r),function(e){if(!1===e.flushScheduled&&0===e.pingedTasks.length&&null!==e.destination){var t=e.destination;e.flushScheduled=!0,setTimeout(function(){return ek(e,t)},0)}}(e)}function ef(e){if("fulfilled"===e.status)return e.value;if("rejected"===e.status)throw e.reason;throw e}function ep(e,t,r,n,i){var s=t.thenableState;if(t.thenableState=null,U=0,V=s,"object"==typeof(n=n(i,void 0))&&null!==n&&"function"==typeof n.then){if("fulfilled"===(i=n).status)return i.value;n=function(e){switch(e.status){case"fulfilled":case"rejected":break;default:"string"!=typeof e.status&&(e.status="pending",e.then(function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)},function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)}))}return{$$typeof:A,_payload:e,_init:ef}}(n)}return i=t.keyPath,s=t.implicitSlot,null!==r?t.keyPath=null===i?r:i+","+r:null===i&&(t.implicitSlot=!0),e=eS(e,t,eC,"",n),t.keyPath=i,t.implicitSlot=s,e}function eg(e,t){var r=e.pingedTasks;r.push(t),1===r.length&&(e.flushScheduled=null!==e.destination,setTimeout(function(){return eR(e)},0))}function em(e,t,r,n,i){e.pendingChunks++;var s=e.nextChunkId++;"object"==typeof t&&null!==t&&e.writtenObjects.set(t,s);var a={id:s,status:0,model:t,keyPath:r,implicitSlot:n,ping:function(){return eg(e,a)},toJSON:function(t,r){var n=a.keyPath,i=a.implicitSlot;try{var s=eS(e,a,this,t,r)}catch(l){if(t=l===M?$():l,r="object"==typeof(r=a.model)&&null!==r&&(r.$$typeof===T||r.$$typeof===A),"object"==typeof t&&null!==t&&"function"==typeof t.then){var o=(s=em(e,a.model,a.keyPath,a.implicitSlot,e.abortableTasks)).ping;t.then(o,o),s.thenableState=B(),a.keyPath=n,a.implicitSlot=i,s=r?"$L"+s.id.toString(16):ey(s.id)}else if(a.keyPath=n,a.implicitSlot=i,r)e.pendingChunks++,n=e.nextChunkId++,i=eE(e,t),eT(e,n,i),s="$L"+n.toString(16);else throw t}return s},thenableState:null};return i.add(a),a}function ey(e){return"$"+e.toString(16)}function ev(e,t,r){return e=es(r),t=t.toString(16)+":"+e+"\n",l.encode(t)}function eb(e,t,r,n){var i=n.$$async?n.$$id+"#async":n.$$id,s=e.writtenClientReferences,a=s.get(i);if(void 0!==a)return t[0]===T&&"1"===r?"$L"+a.toString(16):ey(a);try{var o=e.bundlerConfig,u=n.$$id;a="";var c=o[u];if(c)a=c.name;else{var h=u.lastIndexOf("#");if(-1!==h&&(a=u.slice(h+1),c=o[u.slice(0,h)]),!c)throw Error('Could not find the module "'+u+'" in the React Client Manifest. This is probably a bug in the React Server Components bundler.')}var d=!0===n.$$async?[c.id,c.chunks,a,1]:[c.id,c.chunks,a];e.pendingChunks++;var f=e.nextChunkId++,p=es(d),g=f.toString(16)+":I"+p+"\n",m=l.encode(g);return e.completedImportChunks.push(m),s.set(i,f),t[0]===T&&"1"===r?"$L"+f.toString(16):ey(f)}catch(n){return e.pendingChunks++,t=e.nextChunkId++,r=eE(e,n),eT(e,t,r),ey(t)}}function ew(e,t){return t=em(e,t,null,!1,e.abortableTasks),eI(e,t),t.id}var e_=!1;function eS(e,t,r,n,i){if(t.model=i,i===T)return"$";if(null===i)return null;if("object"==typeof i){switch(i.$$typeof){case T:if(void 0!==(n=(r=e.writtenObjects).get(i))){if(e_!==i)return -1===n?ey(e=ew(e,i)):ey(n);e_=null}else r.set(i,-1);return function e(t,r,n,i,s,a){if(null!=s)throw Error("Refs cannot be used in Server Components, nor passed to Client Components.");if("function"==typeof n)return n.$$typeof===c?[T,n,i,a]:ep(t,r,i,n,a);if("string"==typeof n)return[T,n,i,a];if("symbol"==typeof n)return n===C&&null===i?(i=r.implicitSlot,null===r.keyPath&&(r.implicitSlot=!0),t=eS(t,r,eC,"",a.children),r.implicitSlot=i,t):[T,n,i,a];if(null!=n&&"object"==typeof n){if(n.$$typeof===c)return[T,n,i,a];switch(n.$$typeof){case A:return e(t,r,n=(0,n._init)(n._payload),i,s,a);case R:return ep(t,r,i,n.render,a);case O:return e(t,r,n.type,i,s,a)}}throw Error("Unsupported Server Component type: "+Z(n))}(e,t,i.type,i.key,i.ref,i.props);case A:return t.thenableState=null,eS(e,t,eC,"",i=(r=i._init)(i._payload))}if(i.$$typeof===c)return eb(e,r,n,i);if(n=(r=e.writtenObjects).get(i),"function"==typeof i.then){if(void 0!==n){if(e_!==i)return"$@"+n.toString(16);e_=null}return e=function(e,t,r){var n=em(e,null,t.keyPath,t.implicitSlot,e.abortableTasks);switch(r.status){case"fulfilled":return n.model=r.value,eg(e,n),n.id;case"rejected":return t=eE(e,r.reason),eT(e,n.id,t),n.id;default:"string"!=typeof r.status&&(r.status="pending",r.then(function(e){"pending"===r.status&&(r.status="fulfilled",r.value=e)},function(e){"pending"===r.status&&(r.status="rejected",r.reason=e)}))}return r.then(function(t){n.model=t,eg(e,n)},function(t){n.status=4,t=eE(e,t),eT(e,n.id,t),e.abortableTasks.delete(n),null!==e.destination&&ek(e,e.destination)}),n.id}(e,t,i),r.set(i,e),"$@"+e.toString(16)}if(void 0!==n){if(e_!==i)return -1===n?ey(e=ew(e,i)):ey(n);e_=null}else r.set(i,-1);if(X(i))return i;if(i instanceof Map){for(t=0,i=Array.from(i);t<i.length;t++)"object"==typeof(r=i[t][0])&&null!==r&&void 0===(n=e.writtenObjects).get(r)&&n.set(r,-1);return"$Q"+ew(e,i).toString(16)}if(i instanceof Set){for(t=0,i=Array.from(i);t<i.length;t++)"object"==typeof(r=i[t])&&null!==r&&void 0===(n=e.writtenObjects).get(r)&&n.set(r,-1);return"$W"+ew(e,i).toString(16)}if(e=null===i||"object"!=typeof i?null:"function"==typeof(e=D&&i[D]||i["@@iterator"])?e:null)return e=Array.from(i);if((e=Y(i))!==ei&&(null===e||null!==Y(e)))throw Error("Only plain objects, and a few built-ins, can be passed to Client Components from Server Components. Classes or null prototypes are not supported.");return i}if("string"==typeof i)return"Z"===i[i.length-1]&&r[n]instanceof Date?"$D"+i:1024<=i.length?(e.pendingChunks+=2,t=e.nextChunkId++,r=(i=l.encode(i)).byteLength,r=t.toString(16)+":T"+r.toString(16)+",",r=l.encode(r),e.completedRegularChunks.push(r,i),ey(t)):e="$"===i[0]?"$"+i:i;if("boolean"==typeof i)return i;if("number"==typeof i)return Number.isFinite(i)?0===i&&-1/0==1/i?"$-0":i:1/0===i?"$Infinity":-1/0===i?"$-Infinity":"$NaN";if(void 0===i)return"$undefined";if("function"==typeof i){if(i.$$typeof===c)return eb(e,r,n,i);if(i.$$typeof===h)return void 0!==(r=(t=e.writtenServerReferences).get(i))?e="$F"+r.toString(16):(r=i.$$bound,e=ew(e,r={id:i.$$id,bound:r?Promise.resolve(r):null}),t.set(i,e),e="$F"+e.toString(16)),e;if(/^on[A-Z]/.test(n))throw Error("Event handlers cannot be passed to Client Component props."+et(r,n)+"\nIf you need interactivity, consider converting part of this to a Client Component.");throw Error('Functions cannot be passed directly to Client Components unless you explicitly expose it by marking it with "use server". Or maybe you meant to call this function rather than return it.'+et(r,n))}if("symbol"==typeof i){var s=(t=e.writtenSymbols).get(i);if(void 0!==s)return ey(s);if(Symbol.for(s=i.description)!==i)throw Error("Only global symbols received from Symbol.for(...) can be passed to Client Components. The symbol Symbol.for("+i.description+") cannot be found among global symbols."+et(r,n));return e.pendingChunks++,r=e.nextChunkId++,n=ev(e,r,"$S"+s),e.completedImportChunks.push(n),t.set(i,r),ey(r)}if("bigint"==typeof i)return"$n"+i.toString(10);throw Error("Type "+typeof i+" is not supported in Client Component props."+et(r,n))}function eE(e,t){var r=ec;ec=null;try{var n=e.onError,i=E?x.run(void 0,n,t):n(t)}finally{ec=r}if(null!=i&&"string"!=typeof i)throw Error('onError returned something with a type other than "string". onError should return a string and may return null or undefined but must not return anything else. It received something of type "'+typeof i+'" instead');return i||""}function ex(e,t){null!==e.destination?(e.status=2,u(e.destination,t)):(e.status=1,e.fatalError=t)}function eT(e,t,r){r={digest:r},t=t.toString(16)+":E"+es(r)+"\n",t=l.encode(t),e.completedErrorChunks.push(t)}var eC={};function eI(e,t){if(0===t.status)try{e_=t.model;var r=eS(e,t,eC,"",t.model);e_=r,t.keyPath=null,t.implicitSlot=!1;var n="object"==typeof r&&null!==r?es(r,t.toJSON):es(r),i=t.id.toString(16)+":"+n+"\n",s=l.encode(i);e.completedRegularChunks.push(s),e.abortableTasks.delete(t),t.status=1}catch(r){var a=r===M?$():r;if("object"==typeof a&&null!==a&&"function"==typeof a.then){var o=t.ping;a.then(o,o),t.thenableState=B()}else{e.abortableTasks.delete(t),t.status=4;var u=eE(e,a);eT(e,t.id,u)}}finally{}}function eR(e){var t=eo.current;eo.current=q;var r=ec;F=ec=e;try{var n=e.pingedTasks;e.pingedTasks=[];for(var i=0;i<n.length;i++)eI(e,n[i]);null!==e.destination&&ek(e,e.destination)}catch(t){eE(e,t),ex(e,t)}finally{eo.current=t,F=null,ec=r}}function ek(e,t){s=new Uint8Array(2048),a=0;try{for(var r=e.completedImportChunks,n=0;n<r.length;n++)e.pendingChunks--,o(t,r[n]);r.splice(0,n);var i=e.completedHintChunks;for(n=0;n<i.length;n++)o(t,i[n]);i.splice(0,n);var l=e.completedRegularChunks;for(n=0;n<l.length;n++)e.pendingChunks--,o(t,l[n]);l.splice(0,n);var u=e.completedErrorChunks;for(n=0;n<u.length;n++)e.pendingChunks--,o(t,u[n]);u.splice(0,n)}finally{e.flushScheduled=!1,s&&0<a&&(t.enqueue(new Uint8Array(s.buffer,0,a)),s=null,a=0)}0===e.pendingChunks&&t.close()}function eP(e,t){try{var r=e.abortableTasks;if(0<r.size){e.pendingChunks++;var n=e.nextChunkId++,i=void 0===t?Error("The render was aborted by the server without a reason."):t,s=eE(e,i);eT(e,n,s,i),r.forEach(function(t){t.status=3;var r=ey(n);t=ev(e,t.id,r),e.completedErrorChunks.push(t)}),r.clear()}null!==e.destination&&ek(e,e.destination)}catch(t){eE(e,t),ex(e,t)}}function eO(e,t){var r="",n=e[t];if(n)r=n.name;else{var i=t.lastIndexOf("#");if(-1!==i&&(r=t.slice(i+1),n=e[t.slice(0,i)]),!n)throw Error('Could not find the module "'+t+'" in the React Server Manifest. This is probably a bug in the React Server Components bundler.')}return[n.id,n.chunks,r]}var eA=new Map;function eN(e){var t=globalThis.__next_require__(e);return"function"!=typeof t.then||"fulfilled"===t.status?null:(t.then(function(e){t.status="fulfilled",t.value=e},function(e){t.status="rejected",t.reason=e}),t)}function eD(){}function eM(e){for(var t=e[1],n=[],i=0;i<t.length;){var s=t[i++];t[i++];var a=eA.get(s);if(void 0===a){a=r.e(s),n.push(a);var o=eA.set.bind(eA,s,null);a.then(o,eD),eA.set(s,a)}else null!==a&&n.push(a)}return 4===e.length?0===n.length?eN(e[0]):Promise.all(n).then(function(){return eN(e[0])}):0<n.length?Promise.all(n):null}function eL(e){var t=globalThis.__next_require__(e[0]);if(4===e.length&&"function"==typeof t.then){if("fulfilled"===t.status)t=t.value;else throw t.reason}return"*"===e[2]?t:""===e[2]?t.__esModule?t.default:t:t[e[2]]}function ej(e,t,r,n){this.status=e,this.value=t,this.reason=r,this._response=n}function e$(e,t){for(var r=0;r<e.length;r++)(0,e[r])(t)}function eF(e,t){if("pending"===e.status||"blocked"===e.status){var r=e.reason;e.status="rejected",e.reason=t,null!==r&&e$(r,t)}}ej.prototype=Object.create(Promise.prototype),ej.prototype.then=function(e,t){switch("resolved_model"===this.status&&eB(this),this.status){case"fulfilled":e(this.value);break;case"pending":case"blocked":e&&(null===this.value&&(this.value=[]),this.value.push(e)),t&&(null===this.reason&&(this.reason=[]),this.reason.push(t));break;default:t(this.reason)}};var eU=null,eV=null;function eB(e){var t=eU,r=eV;eU=e,eV=null;try{var n=JSON.parse(e.value,e._response._fromJSON);null!==eV&&0<eV.deps?(eV.value=n,e.status="blocked",e.value=null,e.reason=null):(e.status="fulfilled",e.value=n)}catch(t){e.status="rejected",e.reason=t}finally{eU=t,eV=r}}function eq(e,t){var r=e._chunks,n=r.get(t);return n||(n=null!=(n=e._formData.get(e._prefix+t))?new ej("resolved_model",n,null,e):e._closed?new ej("rejected",null,e._closedReason,e):new ej("pending",null,null,e),r.set(t,n)),n}function ez(e,t,r){if(eV){var n=eV;n.deps++}else n=eV={deps:1,value:null};return function(i){t[r]=i,n.deps--,0===n.deps&&"blocked"===e.status&&(i=e.value,e.status="fulfilled",e.value=n.value,null!==i&&e$(i,n.value))}}function eH(e){return function(t){return eF(e,t)}}function eG(e,t){if("resolved_model"===(e=eq(e,t)).status&&eB(e),"fulfilled"!==e.status)throw e.reason;return e.value}function eW(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:new FormData,n={_bundlerConfig:e,_prefix:t,_formData:r,_chunks:new Map,_fromJSON:function(e,t){return"string"==typeof t?function(e,t,r,n){if("$"===n[0])switch(n[1]){case"$":return n.slice(1);case"@":return eq(e,t=parseInt(n.slice(2),16));case"S":return Symbol.for(n.slice(2));case"F":return n=eG(e,n=parseInt(n.slice(2),16)),function(e,t,r,n,i,s){var a=eO(e._bundlerConfig,t);if(e=eM(a),r)r=Promise.all([r,e]).then(function(e){e=e[0];var t=eL(a);return t.bind.apply(t,[null].concat(e))});else{if(!e)return eL(a);r=Promise.resolve(e).then(function(){return eL(a)})}return r.then(ez(n,i,s),eH(n)),null}(e,n.id,n.bound,eU,t,r);case"Q":return new Map(e=eG(e,t=parseInt(n.slice(2),16)));case"W":return new Set(e=eG(e,t=parseInt(n.slice(2),16)));case"K":t=n.slice(2);var i=e._prefix+t+"_",s=new FormData;return e._formData.forEach(function(e,t){t.startsWith(i)&&s.append(t.slice(i.length),e)}),s;case"I":return 1/0;case"-":return"$-0"===n?-0:-1/0;case"N":return NaN;case"u":return;case"D":return new Date(Date.parse(n.slice(2)));case"n":return BigInt(n.slice(2));default:switch("resolved_model"===(e=eq(e,n=parseInt(n.slice(1),16))).status&&eB(e),e.status){case"fulfilled":return e.value;case"pending":case"blocked":return n=eU,e.then(ez(n,t,r),eH(n)),null;default:throw e.reason}}return n}(n,this,e,t):t},_closed:!1,_closedReason:null};return n}function eK(e){var t;t=Error("Connection closed."),e._closed=!0,e._closedReason=t,e._chunks.forEach(function(e){"pending"===e.status&&eF(e,t)})}function eJ(e,t,r){var n=eO(e,t);return e=eM(n),r?Promise.all([r,e]).then(function(e){e=e[0];var t=eL(n);return t.bind.apply(t,[null].concat(e))}):e?Promise.resolve(e).then(function(){return eL(n)}):Promise.resolve(eL(n))}function eX(e,t,r){if(eK(e=eW(t,r,e)),(e=eq(e,0)).then(function(){}),"fulfilled"!==e.status)throw e.reason;return e.value}t.createClientModuleProxy=function(e){return new Proxy(e=d({},e,!1),b)},t.decodeAction=function(e,t){var r=new FormData,n=null;return e.forEach(function(i,s){s.startsWith("$ACTION_")?s.startsWith("$ACTION_REF_")?(i=eX(e,t,i="$ACTION_"+s.slice(12)+":"),n=eJ(t,i.id,i.bound)):s.startsWith("$ACTION_ID_")&&(n=eJ(t,i=s.slice(11),null)):r.append(s,i)}),null===n?null:n.then(function(e){return e.bind(null,r)})},t.decodeFormState=function(e,t,r){var n=t.get("$ACTION_KEY");if("string"!=typeof n)return Promise.resolve(null);var i=null;if(t.forEach(function(e,n){n.startsWith("$ACTION_REF_")&&(i=eX(t,r,"$ACTION_"+n.slice(12)+":"))}),null===i)return Promise.resolve(null);var s=i.id;return Promise.resolve(i.bound).then(function(t){return null===t?null:[e,n,s,t.length-1]})},t.decodeReply=function(e,t){if("string"==typeof e){var r=new FormData;r.append("0",e),e=r}return t=eq(e=eW(t,"",e),0),eK(e),t},t.renderToReadableStream=function(e,t,r){var n=function(e,t,r,n,i){if(null!==ea.current&&ea.current!==J)throw Error("Currently React only supports one RSC renderer at a time.");S.current=w,ea.current=J;var s=new Set,a=[],o=new Set;return e=em(t={status:0,flushScheduled:!1,fatalError:null,destination:null,bundlerConfig:t,cache:new Map,nextChunkId:0,pendingChunks:0,hints:o,abortableTasks:s,pingedTasks:a,completedImportChunks:[],completedHintChunks:[],completedRegularChunks:[],completedErrorChunks:[],writtenSymbols:new Map,writtenClientReferences:new Map,writtenServerReferences:new Map,writtenObjects:new WeakMap,identifierPrefix:n||"",identifierCount:1,taintCleanupQueue:[],onError:void 0===r?el:r,onPostpone:void 0===i?eu:i},e,null,!1,s),a.push(e),t}(e,t,r?r.onError:void 0,r?r.identifierPrefix:void 0,r?r.onPostpone:void 0);if(r&&r.signal){var i=r.signal;if(i.aborted)eP(n,i.reason);else{var s=function(){eP(n,i.reason),i.removeEventListener("abort",s)};i.addEventListener("abort",s)}}return new ReadableStream({type:"bytes",start:function(){n.flushScheduled=null!==n.destination,E?setTimeout(function(){return x.run(n,eR,n)},0):setTimeout(function(){return eR(n)},0)},pull:function(e){if(1===n.status)n.status=2,u(e,n.fatalError);else if(2!==n.status&&null===n.destination){n.destination=e;try{ek(n,e)}catch(e){eE(n,e),ex(n,e)}}},cancel:function(e){n.destination=null,eP(n,e)}},{highWaterMark:0})}},796:(e,t,r)=>{"use strict";e.exports=r(1651)},4814:(e,t,r)=>{"use strict";var n=r(2168),i=Symbol.for("react.element"),s=(Symbol.for("react.fragment"),Object.prototype.hasOwnProperty),a=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner;function o(e,t,r){var n,o={},l=null,u=null;for(n in void 0!==r&&(l=""+r),void 0!==t.key&&(l=""+t.key),void 0!==t.ref&&(u=t.ref),t)s.call(t,n)&&"key"!==n&&"ref"!==n&&(o[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps)void 0===o[n]&&(o[n]=t[n]);return{$$typeof:i,type:e,key:l,ref:u,props:o,_owner:a.current}}t.jsx=o,t.jsxs=o},5778:(e,t)=>{"use strict";var r=Symbol.for("react.element"),n=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.iterator,p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,m={};function y(e,t,r){this.props=e,this.context=t,this.refs=m,this.updater=r||p}function v(){}function b(e,t,r){this.props=e,this.context=t,this.refs=m,this.updater=r||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=y.prototype;var w=b.prototype=new v;w.constructor=b,g(w,y.prototype),w.isPureReactComponent=!0;var _=Array.isArray,S={current:null},E={current:null},x={transition:null},T={ReactCurrentDispatcher:S,ReactCurrentCache:E,ReactCurrentBatchConfig:x,ReactCurrentOwner:{current:null}},C=Object.prototype.hasOwnProperty,I=T.ReactCurrentOwner;function R(e,t,n){var i,s={},a=null,o=null;if(null!=t)for(i in void 0!==t.ref&&(o=t.ref),void 0!==t.key&&(a=""+t.key),t)C.call(t,i)&&"key"!==i&&"ref"!==i&&"__self"!==i&&"__source"!==i&&(s[i]=t[i]);var l=arguments.length-2;if(1===l)s.children=n;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];s.children=u}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===s[i]&&(s[i]=l[i]);return{$$typeof:r,type:e,key:a,ref:o,props:s,_owner:I.current}}function k(e){return"object"==typeof e&&null!==e&&e.$$typeof===r}var P=/\/+/g;function O(e,t){var r,n;return"object"==typeof e&&null!==e&&null!=e.key?(r=""+e.key,n={"=":"=0",":":"=2"},"$"+r.replace(/[=:]/g,function(e){return n[e]})):t.toString(36)}function A(){}function N(e,t,i){if(null==e)return e;var s=[],a=0;return!function e(t,i,s,a,o){var l,u,c,h=typeof t;("undefined"===h||"boolean"===h)&&(t=null);var p=!1;if(null===t)p=!0;else switch(h){case"string":case"number":p=!0;break;case"object":switch(t.$$typeof){case r:case n:p=!0;break;case d:return e((p=t._init)(t._payload),i,s,a,o)}}if(p)return o=o(t),p=""===a?"."+O(t,0):a,_(o)?(s="",null!=p&&(s=p.replace(P,"$&/")+"/"),e(o,i,s,"",function(e){return e})):null!=o&&(k(o)&&(l=o,u=s+(!o.key||t&&t.key===o.key?"":(""+o.key).replace(P,"$&/")+"/")+p,o={$$typeof:r,type:l.type,key:u,ref:l.ref,props:l.props,_owner:l._owner}),i.push(o)),1;p=0;var g=""===a?".":a+":";if(_(t))for(var m=0;m<t.length;m++)h=g+O(a=t[m],m),p+=e(a,i,s,h,o);else if("function"==typeof(m=null===(c=t)||"object"!=typeof c?null:"function"==typeof(c=f&&c[f]||c["@@iterator"])?c:null))for(t=m.call(t),m=0;!(a=t.next()).done;)h=g+O(a=a.value,m++),p+=e(a,i,s,h,o);else if("object"===h){if("function"==typeof t.then)return e(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"==typeof e.status?e.then(A,A):(e.status="pending",e.then(function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)},function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(t),i,s,a,o);throw Error("Objects are not valid as a React child (found: "+("[object Object]"===(i=String(t))?"object with keys {"+Object.keys(t).join(", ")+"}":i)+"). If you meant to render a collection of children, use an array instead.")}return p}(e,s,"","",function(e){return t.call(i,e,a++)}),s}function D(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){(0===e._status||-1===e._status)&&(e._status=1,e._result=t)},function(t){(0===e._status||-1===e._status)&&(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}function M(){return new WeakMap}function L(){return{s:0,v:void 0,o:null,p:null}}function j(){}var $="function"==typeof reportError?reportError:function(e){console.error(e)};t.Children={map:N,forEach:function(e,t,r){N(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return N(e,function(){t++}),t},toArray:function(e){return N(e,function(e){return e})||[]},only:function(e){if(!k(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=a,t.PureComponent=b,t.StrictMode=s,t.Suspense=c,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=T,t.act=function(){throw Error("act(...) is not supported in production builds of React.")},t.cache=function(e){return function(){var t=E.current;if(!t)return e.apply(null,arguments);var r=t.getCacheForType(M);void 0===(t=r.get(e))&&(t=L(),r.set(e,t)),r=0;for(var n=arguments.length;r<n;r++){var i=arguments[r];if("function"==typeof i||"object"==typeof i&&null!==i){var s=t.o;null===s&&(t.o=s=new WeakMap),void 0===(t=s.get(i))&&(t=L(),s.set(i,t))}else null===(s=t.p)&&(t.p=s=new Map),void 0===(t=s.get(i))&&(t=L(),s.set(i,t))}if(1===t.s)return t.v;if(2===t.s)throw t.v;try{var a=e.apply(null,arguments);return(r=t).s=1,r.v=a}catch(e){throw(a=t).s=2,a.v=e,e}}},t.cloneElement=function(e,t,n){if(null==e)throw Error("The argument must be a React element, but you passed "+e+".");var i=g({},e.props),s=e.key,a=e.ref,o=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,o=I.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(u in t)C.call(t,u)&&"key"!==u&&"ref"!==u&&"__self"!==u&&"__source"!==u&&(i[u]=void 0===t[u]&&void 0!==l?l[u]:t[u])}var u=arguments.length-2;if(1===u)i.children=n;else if(1<u){l=Array(u);for(var c=0;c<u;c++)l[c]=arguments[c+2];i.children=l}return{$$typeof:r,type:e.type,key:s,ref:a,props:i,_owner:o}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=R,t.createFactory=function(e){var t=R.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=k,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:D}},t.memo=function(e,t){return{$$typeof:h,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=x.transition,r=new Set;x.transition={_callbacks:r};var n=x.transition;try{var i=e();"object"==typeof i&&null!==i&&"function"==typeof i.then&&(r.forEach(function(e){return e(n,i)}),i.then(j,$))}catch(e){$(e)}finally{x.transition=t}},t.unstable_useCacheRefresh=function(){return S.current.useCacheRefresh()},t.use=function(e){return S.current.use(e)},t.useCallback=function(e,t){return S.current.useCallback(e,t)},t.useContext=function(e){return S.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e,t){return S.current.useDeferredValue(e,t)},t.useEffect=function(e,t){return S.current.useEffect(e,t)},t.useId=function(){return S.current.useId()},t.useImperativeHandle=function(e,t,r){return S.current.useImperativeHandle(e,t,r)},t.useInsertionEffect=function(e,t){return S.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return S.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return S.current.useMemo(e,t)},t.useOptimistic=function(e,t){return S.current.useOptimistic(e,t)},t.useReducer=function(e,t,r){return S.current.useReducer(e,t,r)},t.useRef=function(e){return S.current.useRef(e)},t.useState=function(e){return S.current.useState(e)},t.useSyncExternalStore=function(e,t,r){return S.current.useSyncExternalStore(e,t,r)},t.useTransition=function(){return S.current.useTransition()},t.version="18.3.0-canary-178c267a4e-20241218"},8949:(e,t)=>{"use strict";var r=Object.assign,n={current:null};function i(){return new Map}if("function"==typeof fetch){var s=fetch,a=function(e,t){var r=n.current;if(!r||t&&t.signal&&t.signal!==r.getCacheSignal())return s(e,t);if("string"!=typeof e||t){var a="string"==typeof e||e instanceof URL?new Request(e,t):e;if("GET"!==a.method&&"HEAD"!==a.method||a.keepalive)return s(e,t);var o=JSON.stringify([a.method,Array.from(a.headers.entries()),a.mode,a.redirect,a.credentials,a.referrer,a.referrerPolicy,a.integrity]);a=a.url}else o='["GET",[],null,"follow",null,null,null,null]',a=e;var l=r.getCacheForType(i);if(void 0===(r=l.get(a)))e=s(e,t),l.set(a,[o,e]);else{for(a=0,l=r.length;a<l;a+=2){var u=r[a+1];if(r[a]===o)return(e=u).then(function(e){return e.clone()})}e=s(e,t),r.push(o,e)}return e.then(function(e){return e.clone()})};r(a,s);try{fetch=a}catch(e){try{globalThis.fetch=a}catch(e){console.warn("React was unable to patch the fetch() function in this environment. Suspensey APIs might not work correctly as a result.")}}}var o={current:null},l={ReactCurrentDispatcher:o,ReactCurrentOwner:{current:null}};function u(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var c=Array.isArray,h=Symbol.for("react.element"),d=Symbol.for("react.portal"),f=Symbol.for("react.fragment"),p=Symbol.for("react.strict_mode"),g=Symbol.for("react.profiler"),m=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),w=Symbol.iterator,_=Object.prototype.hasOwnProperty,S=l.ReactCurrentOwner;function E(e){return"object"==typeof e&&null!==e&&e.$$typeof===h}var x=/\/+/g;function T(e,t){var r,n;return"object"==typeof e&&null!==e&&null!=e.key?(r=""+e.key,n={"=":"=0",":":"=2"},"$"+r.replace(/[=:]/g,function(e){return n[e]})):t.toString(36)}function C(){}function I(e,t,r){if(null==e)return e;var n=[],i=0;return!function e(t,r,n,i,s){var a,o,l,f=typeof t;("undefined"===f||"boolean"===f)&&(t=null);var p=!1;if(null===t)p=!0;else switch(f){case"string":case"number":p=!0;break;case"object":switch(t.$$typeof){case h:case d:p=!0;break;case b:return e((p=t._init)(t._payload),r,n,i,s)}}if(p)return s=s(t),p=""===i?"."+T(t,0):i,c(s)?(n="",null!=p&&(n=p.replace(x,"$&/")+"/"),e(s,r,n,"",function(e){return e})):null!=s&&(E(s)&&(a=s,o=n+(!s.key||t&&t.key===s.key?"":(""+s.key).replace(x,"$&/")+"/")+p,s={$$typeof:h,type:a.type,key:o,ref:a.ref,props:a.props,_owner:a._owner}),r.push(s)),1;p=0;var g=""===i?".":i+":";if(c(t))for(var m=0;m<t.length;m++)f=g+T(i=t[m],m),p+=e(i,r,n,f,s);else if("function"==typeof(m=null===(l=t)||"object"!=typeof l?null:"function"==typeof(l=w&&l[w]||l["@@iterator"])?l:null))for(t=m.call(t),m=0;!(i=t.next()).done;)f=g+T(i=i.value,m++),p+=e(i,r,n,f,s);else if("object"===f){if("function"==typeof t.then)return e(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"==typeof e.status?e.then(C,C):(e.status="pending",e.then(function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)},function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(t),r,n,i,s);throw Error(u(31,"[object Object]"===(r=String(t))?"object with keys {"+Object.keys(t).join(", ")+"}":r))}return p}(e,n,"","",function(e){return t.call(r,e,i++)}),n}function R(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){(0===e._status||-1===e._status)&&(e._status=1,e._result=t)},function(t){(0===e._status||-1===e._status)&&(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}function k(){return new WeakMap}function P(){return{s:0,v:void 0,o:null,p:null}}var O={transition:null};function A(){}var N="function"==typeof reportError?reportError:function(e){console.error(e)};t.Children={map:I,forEach:function(e,t,r){I(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return I(e,function(){t++}),t},toArray:function(e){return I(e,function(e){return e})||[]},only:function(e){if(!E(e))throw Error(u(143));return e}},t.Fragment=f,t.Profiler=g,t.StrictMode=p,t.Suspense=y,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=l,t.__SECRET_SERVER_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED={ReactCurrentCache:n},t.cache=function(e){return function(){var t=n.current;if(!t)return e.apply(null,arguments);var r=t.getCacheForType(k);void 0===(t=r.get(e))&&(t=P(),r.set(e,t)),r=0;for(var i=arguments.length;r<i;r++){var s=arguments[r];if("function"==typeof s||"object"==typeof s&&null!==s){var a=t.o;null===a&&(t.o=a=new WeakMap),void 0===(t=a.get(s))&&(t=P(),a.set(s,t))}else null===(a=t.p)&&(t.p=a=new Map),void 0===(t=a.get(s))&&(t=P(),a.set(s,t))}if(1===t.s)return t.v;if(2===t.s)throw t.v;try{var o=e.apply(null,arguments);return(r=t).s=1,r.v=o}catch(e){throw(o=t).s=2,o.v=e,e}}},t.cloneElement=function(e,t,n){if(null==e)throw Error(u(267,e));var i=r({},e.props),s=e.key,a=e.ref,o=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,o=S.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)_.call(t,c)&&"key"!==c&&"ref"!==c&&"__self"!==c&&"__source"!==c&&(i[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=n;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];i.children=l}return{$$typeof:h,type:e.type,key:s,ref:a,props:i,_owner:o}},t.createElement=function(e,t,r){var n,i={},s=null,a=null;if(null!=t)for(n in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(s=""+t.key),t)_.call(t,n)&&"key"!==n&&"ref"!==n&&"__self"!==n&&"__source"!==n&&(i[n]=t[n]);var o=arguments.length-2;if(1===o)i.children=r;else if(1<o){for(var l=Array(o),u=0;u<o;u++)l[u]=arguments[u+2];i.children=l}if(e&&e.defaultProps)for(n in o=e.defaultProps)void 0===i[n]&&(i[n]=o[n]);return{$$typeof:h,type:e,key:s,ref:a,props:i,_owner:S.current}},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:m,render:e}},t.isValidElement=E,t.lazy=function(e){return{$$typeof:b,_payload:{_status:-1,_result:e},_init:R}},t.memo=function(e,t){return{$$typeof:v,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=O.transition,r=new Set;O.transition={_callbacks:r};var n=O.transition;try{var i=e();"object"==typeof i&&null!==i&&"function"==typeof i.then&&(r.forEach(function(e){return e(n,i)}),i.then(A,N))}catch(e){N(e)}finally{O.transition=t}},t.use=function(e){return o.current.use(e)},t.useCallback=function(e,t){return o.current.useCallback(e,t)},t.useDebugValue=function(){},t.useId=function(){return o.current.useId()},t.useMemo=function(e,t){return o.current.useMemo(e,t)},t.version="18.3.0-canary-178c267a4e-20241218"},2168:(e,t,r)=>{"use strict";e.exports=r(5778)},2416:(e,t,r)=>{"use strict";e.exports=r(4814)},7908:(e,t,r)=>{"use strict";e.exports=r(8949)},8797:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});let n=(0,r(8264).D)(String.raw`C:\Users\blana\Desktop\Reality-portal\node_modules\next\dist\esm\client\link.js#default`)},8264:(e,t,r)=>{"use strict";r.d(t,{D:()=>n});let n=r(796).createClientModuleProxy},5505:(e,t,r)=>{"use strict";r.d(t,{ZP:()=>i});var n=r(8264);(0,n.D)(String.raw`C:\Users\blana\Desktop\Reality-portal\node_modules\next\dist\esm\client\components\error-boundary.js#ErrorBoundaryHandler`),(0,n.D)(String.raw`C:\Users\blana\Desktop\Reality-portal\node_modules\next\dist\esm\client\components\error-boundary.js#GlobalError`);let i=(0,n.D)(String.raw`C:\Users\blana\Desktop\Reality-portal\node_modules\next\dist\esm\client\components\error-boundary.js#default`);(0,n.D)(String.raw`C:\Users\blana\Desktop\Reality-portal\node_modules\next\dist\esm\client\components\error-boundary.js#ErrorBoundary`)},3839:(e,t,r)=>{"use strict";let n;r.d(t,{WY:()=>w,b1:()=>C,yO:()=>_,O4:()=>U,hQ:()=>D,b5:()=>S,Wz:()=>T.W,rL:()=>F,S5:()=>$,Hs:()=>v.decodeAction,dH:()=>v.decodeFormState,kf:()=>v.decodeReply,XH:()=>eI,$P:()=>eT,C5:()=>ex,oH:()=>eE,aW:()=>v.renderToReadableStream,Fg:()=>x.O,GP:()=>y,AT:()=>E.A,nr:()=>eC});var i,s,a,o,l,u,c,h,d,f,p,g,m,y={};r.r(y),r.d(y,{DynamicServerError:()=>k,isDynamicServerError:()=>P});var v=r(796),b=r(8264);(0,b.D)(String.raw`C:\Users\blana\Desktop\Reality-portal\node_modules\next\dist\esm\client\components\app-router.js#getServerActionDispatcher`),(0,b.D)(String.raw`C:\Users\blana\Desktop\Reality-portal\node_modules\next\dist\esm\client\components\app-router.js#urlToUrlWithoutFlightMarker`),(0,b.D)(String.raw`C:\Users\blana\Desktop\Reality-portal\node_modules\next\dist\esm\client\components\app-router.js#createEmptyCacheNode`);let w=(0,b.D)(String.raw`C:\Users\blana\Desktop\Reality-portal\node_modules\next\dist\esm\client\components\app-router.js#default`),_=(0,b.D)(String.raw`C:\Users\blana\Desktop\Reality-portal\node_modules\next\dist\esm\client\components\layout-router.js#default`),S=(0,b.D)(String.raw`C:\Users\blana\Desktop\Reality-portal\node_modules\next\dist\esm\client\components\render-from-template-context.js#default`);var E=r(9182),x=r(8983),T=r(2296);let C=(0,b.D)(String.raw`C:\Users\blana\Desktop\Reality-portal\node_modules\next\dist\esm\client\components\client-page.js#ClientPageRoot`);var I=r(7908);let R="DYNAMIC_SERVER_USAGE";class k extends Error{constructor(e){super("Dynamic server usage: "+e),this.description=e,this.digest=R}}function P(e){return"object"==typeof e&&null!==e&&"digest"in e&&"string"==typeof e.digest&&e.digest===R}class O extends Error{constructor(...e){super(...e),this.code="NEXT_STATIC_GEN_BAILOUT"}}let A="function"==typeof I.unstable_postpone;function N(e,t){let r=new URL(e.urlPathname,"http://n").pathname;if(e.isUnstableCacheCallback)throw Error(`Route ${r} used "${t}" inside a function cached with "unstable_cache(...)". Accessing Dynamic data sources inside a cache scope is not supported. If you need this data inside a cached function use "${t}" outside of the cached function and pass the required dynamic data in as an argument. See more info here: https://nextjs.org/docs/app/api-reference/functions/unstable_cache`);if(e.dynamicShouldError)throw new O(`Route ${r} with \`dynamic = "error"\` couldn't be rendered statically because it used \`${t}\`. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`);if(e.prerenderState)L(e.prerenderState,t,r);else if(e.revalidate=0,e.isStaticGeneration){let n=new k(`Route ${r} couldn't be rendered statically because it used \`${t}\`. See more info here: https://nextjs.org/docs/messages/dynamic-server-error`);throw e.dynamicUsageDescription=t,e.dynamicUsageStack=n.stack,n}}function D({reason:e,prerenderState:t,pathname:r}){L(t,e,r)}function M(e,t){e.prerenderState&&L(e.prerenderState,t,e.urlPathname)}function L(e,t,r){!function(){if(!A)throw Error("Invariant: React.unstable_postpone is not defined. This suggests the wrong version of React was loaded. This is a bug in Next.js")}();let n=`Route ${r} needs to bail out of prerendering at this point because it used ${t}. React throws this special object to indicate where. It should not be caught by your own try/catch. Learn more: https://nextjs.org/docs/messages/ppr-caught-error`;e.dynamicAccesses.push({stack:e.isDebugSkeleton?Error().stack:void 0,expression:t}),I.unstable_postpone(n)}class j{static get(e,t,r){let n=Reflect.get(e,t,r);return"function"==typeof n?n.bind(e):n}static set(e,t,r,n){return Reflect.set(e,t,r,n)}static has(e,t){return Reflect.has(e,t)}static deleteProperty(e,t){return Reflect.deleteProperty(e,t)}}function $(e){let t=E.A.getStore();return t&&t.forceStatic?{}:e}function F(e){let t=E.A.getStore();return t?t.forceStatic?{}:t.isStaticGeneration||t.dynamicShouldError?new Proxy({},{get:(e,r,n)=>("string"==typeof r&&N(t,"searchParams."+r),j.get(e,r,n)),has:(e,r)=>("string"==typeof r&&N(t,"searchParams."+r),Reflect.has(e,r)),ownKeys:e=>(N(t,"searchParams"),Reflect.ownKeys(e))}):e:e}let U=(0,b.D)(String.raw`C:\Users\blana\Desktop\Reality-portal\node_modules\next\dist\esm\client\components\not-found-boundary.js#NotFoundBoundary`);!function(e){e.handleRequest="BaseServer.handleRequest",e.run="BaseServer.run",e.pipe="BaseServer.pipe",e.getStaticHTML="BaseServer.getStaticHTML",e.render="BaseServer.render",e.renderToResponseWithComponents="BaseServer.renderToResponseWithComponents",e.renderToResponse="BaseServer.renderToResponse",e.renderToHTML="BaseServer.renderToHTML",e.renderError="BaseServer.renderError",e.renderErrorToResponse="BaseServer.renderErrorToResponse",e.renderErrorToHTML="BaseServer.renderErrorToHTML",e.render404="BaseServer.render404"}(i||(i={})),function(e){e.loadDefaultErrorComponents="LoadComponents.loadDefaultErrorComponents",e.loadComponents="LoadComponents.loadComponents"}(s||(s={})),function(e){e.getRequestHandler="NextServer.getRequestHandler",e.getServer="NextServer.getServer",e.getServerRequestHandler="NextServer.getServerRequestHandler",e.createServer="createServer.createServer"}(a||(a={})),function(e){e.compression="NextNodeServer.compression",e.getBuildId="NextNodeServer.getBuildId",e.createComponentTree="NextNodeServer.createComponentTree",e.clientComponentLoading="NextNodeServer.clientComponentLoading",e.getLayoutOrPageModule="NextNodeServer.getLayoutOrPageModule",e.generateStaticRoutes="NextNodeServer.generateStaticRoutes",e.generateFsStaticRoutes="NextNodeServer.generateFsStaticRoutes",e.generatePublicRoutes="NextNodeServer.generatePublicRoutes",e.generateImageRoutes="NextNodeServer.generateImageRoutes.route",e.sendRenderResult="NextNodeServer.sendRenderResult",e.proxyRequest="NextNodeServer.proxyRequest",e.runApi="NextNodeServer.runApi",e.render="NextNodeServer.render",e.renderHTML="NextNodeServer.renderHTML",e.imageOptimizer="NextNodeServer.imageOptimizer",e.getPagePath="NextNodeServer.getPagePath",e.getRoutesManifest="NextNodeServer.getRoutesManifest",e.findPageComponents="NextNodeServer.findPageComponents",e.getFontManifest="NextNodeServer.getFontManifest",e.getServerComponentManifest="NextNodeServer.getServerComponentManifest",e.getRequestHandler="NextNodeServer.getRequestHandler",e.renderToHTML="NextNodeServer.renderToHTML",e.renderError="NextNodeServer.renderError",e.renderErrorToHTML="NextNodeServer.renderErrorToHTML",e.render404="NextNodeServer.render404",e.startResponse="NextNodeServer.startResponse",e.route="route",e.onProxyReq="onProxyReq",e.apiResolver="apiResolver",e.internalFetch="internalFetch"}(o||(o={})),(l||(l={})).startServer="startServer.startServer",function(e){e.getServerSideProps="Render.getServerSideProps",e.getStaticProps="Render.getStaticProps",e.renderToString="Render.renderToString",e.renderDocument="Render.renderDocument",e.createBodyResult="Render.createBodyResult"}(u||(u={})),function(e){e.renderToString="AppRender.renderToString",e.renderToReadableStream="AppRender.renderToReadableStream",e.getBodyResult="AppRender.getBodyResult",e.fetch="AppRender.fetch"}(c||(c={})),(h||(h={})).executeRoute="Router.executeRoute",(d||(d={})).runHandler="Node.runHandler",(f||(f={})).runHandler="AppRouteRouteHandlers.runHandler",function(e){e.generateMetadata="ResolveMetadata.generateMetadata",e.generateViewport="ResolveMetadata.generateViewport"}(p||(p={})),(g||(g={})).execute="Middleware.execute";let V=["Middleware.execute","BaseServer.handleRequest","Render.getServerSideProps","Render.getStaticProps","AppRender.fetch","AppRender.getBodyResult","Render.renderDocument","Node.runHandler","AppRouteRouteHandlers.runHandler","ResolveMetadata.generateMetadata","ResolveMetadata.generateViewport","NextNodeServer.createComponentTree","NextNodeServer.findPageComponents","NextNodeServer.getLayoutOrPageModule","NextNodeServer.startResponse","NextNodeServer.clientComponentLoading"],B=["NextNodeServer.findPageComponents","NextNodeServer.createComponentTree","NextNodeServer.clientComponentLoading"],{context:q,propagation:z,trace:H,SpanStatusCode:G,SpanKind:W,ROOT_CONTEXT:K}=n=r(8819),J=e=>null!==e&&"object"==typeof e&&"function"==typeof e.then,X=(e,t)=>{(null==t?void 0:t.bubble)===!0?e.setAttribute("next.bubble",!0):(t&&e.recordException(t),e.setStatus({code:G.ERROR,message:null==t?void 0:t.message})),e.end()},Y=new Map,Q=n.createContextKey("next.rootSpanId"),Z=0,ee=()=>Z++;class et{getTracerInstance(){return H.getTracer("next.js","0.0.1")}getContext(){return q}getActiveScopeSpan(){return H.getSpan(null==q?void 0:q.active())}withPropagatedContext(e,t,r){let n=q.active();if(H.getSpanContext(n))return t();let i=z.extract(n,e,r);return q.with(i,t)}trace(...e){var t;let[r,n,i]=e,{fn:s,options:a}="function"==typeof n?{fn:n,options:{}}:{fn:i,options:{...n}},o=a.spanName??r;if(!V.includes(r)&&"1"!==process.env.NEXT_OTEL_VERBOSE||a.hideSpan)return s();let l=this.getSpanContext((null==a?void 0:a.parentSpan)??this.getActiveScopeSpan()),u=!1;l?(null==(t=H.getSpanContext(l))?void 0:t.isRemote)&&(u=!0):(l=(null==q?void 0:q.active())??K,u=!0);let c=ee();return a.attributes={"next.span_name":o,"next.span_type":r,...a.attributes},q.with(l.setValue(Q,c),()=>this.getTracerInstance().startActiveSpan(o,a,e=>{let t="performance"in globalThis?globalThis.performance.now():void 0,n=()=>{Y.delete(c),t&&process.env.NEXT_OTEL_PERFORMANCE_PREFIX&&B.includes(r||"")&&performance.measure(`${process.env.NEXT_OTEL_PERFORMANCE_PREFIX}:next-${(r.split(".").pop()||"").replace(/[A-Z]/g,e=>"-"+e.toLowerCase())}`,{start:t,end:performance.now()})};u&&Y.set(c,new Map(Object.entries(a.attributes??{})));try{if(s.length>1)return s(e,t=>X(e,t));let t=s(e);if(J(t))return t.then(t=>(e.end(),t)).catch(t=>{throw X(e,t),t}).finally(n);return e.end(),n(),t}catch(t){throw X(e,t),n(),t}}))}wrap(...e){let t=this,[r,n,i]=3===e.length?e:[e[0],{},e[1]];return V.includes(r)||"1"===process.env.NEXT_OTEL_VERBOSE?function(){let e=n;"function"==typeof e&&"function"==typeof i&&(e=e.apply(this,arguments));let s=arguments.length-1,a=arguments[s];if("function"!=typeof a)return t.trace(r,e,()=>i.apply(this,arguments));{let n=t.getContext().bind(q.active(),a);return t.trace(r,e,(e,t)=>(arguments[s]=function(e){return null==t||t(e),n.apply(this,arguments)},i.apply(this,arguments)))}}:i}startSpan(...e){let[t,r]=e,n=this.getSpanContext((null==r?void 0:r.parentSpan)??this.getActiveScopeSpan());return this.getTracerInstance().startSpan(t,r,n)}getSpanContext(e){return e?H.setSpan(q.active(),e):void 0}getRootSpanAttributes(){let e=q.active().getValue(Q);return Y.get(e)}}let er=(()=>{let e=new et;return()=>e})(),en="_N_T_",ei={shared:"shared",reactServerComponents:"rsc",serverSideRendering:"ssr",actionBrowser:"action-browser",api:"api",middleware:"middleware",instrument:"instrument",edgeAsset:"edge-asset",appPagesBrowser:"app-pages-browser",appMetadataRoute:"app-metadata-route",appRouteHandler:"app-route-handler"};({...ei,GROUP:{serverOnly:[ei.reactServerComponents,ei.actionBrowser,ei.appMetadataRoute,ei.appRouteHandler,ei.instrument],clientOnly:[ei.serverSideRendering,ei.appPagesBrowser],nonClientServerTarget:[ei.middleware,ei.api],app:[ei.reactServerComponents,ei.actionBrowser,ei.appMetadataRoute,ei.appRouteHandler,ei.serverSideRendering,ei.appPagesBrowser,ei.shared,ei.instrument]}});let{env:es,stdout:ea}=(null==(m=globalThis)?void 0:m.process)??{},eo=es&&!es.NO_COLOR&&(es.FORCE_COLOR||(null==ea?void 0:ea.isTTY)&&!es.CI&&"dumb"!==es.TERM),el=(e,t,r,n)=>{let i=e.substring(0,n)+r,s=e.substring(n+t.length),a=s.indexOf(t);return~a?i+el(s,t,r,a):i+s},eu=(e,t,r=e)=>eo?n=>{let i=""+n,s=i.indexOf(t,e.length);return~s?e+el(i,t,r,s)+t:e+i+t}:String,ec=eu("\x1b[1m","\x1b[22m","\x1b[22m\x1b[1m");eu("\x1b[2m","\x1b[22m","\x1b[22m\x1b[2m"),eu("\x1b[3m","\x1b[23m"),eu("\x1b[4m","\x1b[24m"),eu("\x1b[7m","\x1b[27m"),eu("\x1b[8m","\x1b[28m"),eu("\x1b[9m","\x1b[29m"),eu("\x1b[30m","\x1b[39m");let eh=eu("\x1b[31m","\x1b[39m"),ed=eu("\x1b[32m","\x1b[39m"),ef=eu("\x1b[33m","\x1b[39m");eu("\x1b[34m","\x1b[39m");let ep=eu("\x1b[35m","\x1b[39m");eu("\x1b[38;2;173;127;168m","\x1b[39m"),eu("\x1b[36m","\x1b[39m");let eg=eu("\x1b[37m","\x1b[39m");eu("\x1b[90m","\x1b[39m"),eu("\x1b[40m","\x1b[49m"),eu("\x1b[41m","\x1b[49m"),eu("\x1b[42m","\x1b[49m"),eu("\x1b[43m","\x1b[49m"),eu("\x1b[44m","\x1b[49m"),eu("\x1b[45m","\x1b[49m"),eu("\x1b[46m","\x1b[49m"),eu("\x1b[47m","\x1b[49m");let em={wait:eg(ec("")),error:eh(ec("")),warn:ef(ec("")),ready:"",info:eg(ec(" ")),event:ed(ec("")),trace:ep(ec("\xbb"))},ey={log:"log",warn:"warn",error:"error"};function ev(e){if(!e.body)return[e,e];let[t,r]=e.body.tee(),n=new Response(t,{status:e.status,statusText:e.statusText,headers:e.headers});Object.defineProperty(n,"url",{value:e.url});let i=new Response(r,{status:e.status,statusText:e.statusText,headers:e.headers});return Object.defineProperty(i,"url",{value:e.url}),[n,i]}var eb=r(6195).Buffer;let ew=e=>{let t=["/layout"];if(e.startsWith("/")){let r=e.split("/");for(let e=1;e<r.length+1;e++){let n=r.slice(0,e).join("/");n&&(n.endsWith("/page")||n.endsWith("/route")||(n=`${n}${n.endsWith("/")?"":"/"}layout`),t.push(n))}}return t};function e_(e,t){var r;e&&(null==(r=e.requestEndedState)||r.ended)}r(5505);var eS=r(5105);function eE(e,t){let r={as:"style"};"string"==typeof t&&(r.crossOrigin=t),eS.preload(e,r)}function ex(e,t,r){let n={as:"font",type:t};"string"==typeof r&&(n.crossOrigin=r),eS.preload(e,n)}function eT(e,t){eS.preconnect(e,"string"==typeof t?{crossOrigin:t}:void 0)}let eC=function(){throw Error("Taint can only be used with the taint flag.")};function eI(){return function(e){var t;if("__nextPatched"in(t=globalThis.fetch)&&!0===t.__nextPatched)return;let r=function(e){let t=I.cache(e=>[]);return function(r,n){let i,s;if(n&&n.signal)return e(r,n);if("string"!=typeof r||n){let t="string"==typeof r||r instanceof URL?new Request(r,n):r;if("GET"!==t.method&&"HEAD"!==t.method||t.keepalive)return e(r,n);s=JSON.stringify([t.method,Array.from(t.headers.entries()),t.mode,t.redirect,t.credentials,t.referrer,t.referrerPolicy,t.integrity]),i=t.url}else s='["GET",[],null,"follow",null,null,null,null]',i=r;let a=t(i);for(let e=0,t=a.length;e<t;e+=1){let[t,r]=a[e];if(t===s)return r.then(()=>{let t=a[e][2];if(!t)throw Error("No cached response");let[r,n]=ev(t);return a[e][2]=n,r})}let o=new AbortController,l=e(r,{...n,signal:o.signal}),u=[s,l,null];return a.push(u),l.then(e=>{let[t,r]=ev(e);return u[2]=r,t})}}(globalThis.fetch);globalThis.fetch=function(e,{serverHooks:{DynamicServerError:t},staticGenerationAsyncStorage:r}){let n=async(n,i)=>{var s,a;let l;try{(l=new URL(n instanceof Request?n.url:n)).username="",l.password=""}catch{l=void 0}let u=(null==l?void 0:l.href)??"",h=Date.now(),d=(null==i?void 0:null==(s=i.method)?void 0:s.toUpperCase())||"GET",f=(null==i?void 0:null==(a=i.next)?void 0:a.internal)===!0,p="1"===process.env.NEXT_OTEL_FETCH_DISABLED;return er().trace(f?o.internalFetch:c.fetch,{hideSpan:p,kind:W.CLIENT,spanName:["fetch",d,u].filter(Boolean).join(" "),attributes:{"http.url":u,"http.method":d,"net.peer.name":null==l?void 0:l.hostname,"net.peer.port":(null==l?void 0:l.port)||void 0}},async()=>{var s;let a,o,l;if(f)return e(n,i);let c=r.getStore();if(!c||c.isDraftMode)return e(n,i);let d=n&&"object"==typeof n&&"string"==typeof n.method,p=e=>(null==i?void 0:i[e])||(d?n[e]:null),g=e=>{var t,r,s;return void 0!==(null==i?void 0:null==(t=i.next)?void 0:t[e])?null==i?void 0:null==(r=i.next)?void 0:r[e]:d?null==(s=n.next)?void 0:s[e]:void 0},m=g("revalidate"),y=function(e,t){let r=[],n=[];for(let i=0;i<e.length;i++){let s=e[i];if("string"!=typeof s?n.push({tag:s,reason:"invalid type, must be a string"}):s.length>256?n.push({tag:s,reason:"exceeded max length of 256"}):r.push(s),r.length>128){console.warn(`Warning: exceeded max tag count for ${t}, dropped tags:`,e.slice(i).join(", "));break}}if(n.length>0)for(let{tag:e,reason:r}of(console.warn(`Warning: invalid tags passed to ${t}: `),n))console.log(`tag: "${e}" ${r}`);return r}(g("tags")||[],`fetch ${n.toString()}`);if(Array.isArray(y))for(let e of(c.tags||(c.tags=[]),y))c.tags.includes(e)||c.tags.push(e);let v=function(e){var t,r;let n=[],{pagePath:i,urlPathname:s}=e;if(Array.isArray(e.tags)||(e.tags=[]),i)for(let r of ew(i))r=`${en}${r}`,(null==(t=e.tags)?void 0:t.includes(r))||e.tags.push(r),n.push(r);if(s){let t=new URL(s,"http://n").pathname,i=`${en}${t}`;(null==(r=e.tags)?void 0:r.includes(i))||e.tags.push(i),n.push(i)}return n}(c),b=c.fetchCache,w=!!c.isUnstableNoStore,_=p("cache"),S="";"string"==typeof _&&void 0!==m&&(d&&"default"===_||function(...e){!function(e,...t){(""===t[0]||void 0===t[0])&&1===t.length&&t.shift();let r=e in ey?ey[e]:"log",n=em[e];0===t.length?console[r](""):console[r](" "+n,...t)}("warn",...e)}(`fetch for ${u} on ${c.urlPathname} specified "cache: ${_}" and "revalidate: ${m}", only one should be specified.`),_=void 0),"force-cache"===_?m=!1:("no-cache"===_||"no-store"===_||"force-no-store"===b||"only-no-store"===b)&&(m=0),("no-cache"===_||"no-store"===_)&&(S=`cache: ${_}`),l=function(e,t){try{let r;if(!1===e)r=e;else if("number"==typeof e&&!isNaN(e)&&e>-1)r=e;else if(void 0!==e)throw Error(`Invalid revalidate value "${e}" on "${t}", must be a non-negative number or "false"`);return r}catch(e){if(e instanceof Error&&e.message.includes("Invalid revalidate"))throw e;return}}(m,c.urlPathname);let E=p("headers"),x="function"==typeof(null==E?void 0:E.get)?E:new Headers(E||{}),T=x.get("authorization")||x.get("cookie"),C=!["get","head"].includes((null==(s=p("method"))?void 0:s.toLowerCase())||"get"),I=(T||C)&&0===c.revalidate;switch(b){case"force-no-store":S="fetchCache = force-no-store";break;case"only-no-store":if("force-cache"===_||void 0!==l&&(!1===l||l>0))throw Error(`cache: 'force-cache' used on fetch for ${u} with 'export const fetchCache = 'only-no-store'`);S="fetchCache = only-no-store";break;case"only-cache":if("no-store"===_)throw Error(`cache: 'no-store' used on fetch for ${u} with 'export const fetchCache = 'only-cache'`);break;case"force-cache":(void 0===m||0===m)&&(S="fetchCache = force-cache",l=!1)}void 0===l?"default-cache"===b?(l=!1,S="fetchCache = default-cache"):I?(l=0,S="auto no cache"):"default-no-store"===b?(l=0,S="fetchCache = default-no-store"):w?(l=0,S="noStore call"):(S="auto cache",l="boolean"!=typeof c.revalidate&&void 0!==c.revalidate&&c.revalidate):S||(S=`revalidate: ${l}`),c.forceStatic&&0===l||I||void 0!==c.revalidate&&("number"!=typeof l||!1!==c.revalidate&&("number"!=typeof c.revalidate||!(l<c.revalidate)))||(0===l&&M(c,"revalidate: 0"),c.revalidate=l);let R="number"==typeof l&&l>0||!1===l;if(c.incrementalCache&&R)try{a=await c.incrementalCache.fetchCacheKey(u,d?n:i)}catch(e){console.error("Failed to generate cache key for",n)}let k=c.nextFetchId??1;c.nextFetchId=k+1;let P="number"!=typeof l?31536e3:l,O=async(t,r)=>{let s=["cache","credentials","headers","integrity","keepalive","method","mode","redirect","referrer","referrerPolicy","window","duplex",...t?[]:["signal"]];if(d){let e=n,t={body:e._ogBody||e.body};for(let r of s)t[r]=e[r];n=new Request(e.url,t)}else if(i){let{_ogBody:e,body:r,signal:n,...s}=i;i={...s,body:e||r,signal:t?void 0:n}}let o={...i,next:{...null==i?void 0:i.next,fetchType:"origin",fetchIdx:k}};return e(n,o).then(async e=>{if(t||e_(c,{start:h,url:u,cacheReason:r||S,cacheStatus:0===l||r?"skip":"miss",status:e.status,method:o.method||"GET"}),200===e.status&&c.incrementalCache&&a&&R){let t=eb.from(await e.arrayBuffer());try{await c.incrementalCache.set(a,{kind:"FETCH",data:{headers:Object.fromEntries(e.headers.entries()),body:t.toString("base64"),status:e.status,url:e.url},revalidate:P},{fetchCache:!0,revalidate:l,fetchUrl:u,fetchIdx:k,tags:y})}catch(e){console.warn("Failed to set fetch cache",n,e)}let r=new Response(t,{headers:new Headers(e.headers),status:e.status});return Object.defineProperty(r,"url",{value:e.url}),r}return e})},A=()=>Promise.resolve(),N=!1;if(a&&c.incrementalCache){A=await c.incrementalCache.lock(a);let e=c.isOnDemandRevalidate?null:await c.incrementalCache.get(a,{kindHint:"fetch",revalidate:l,fetchUrl:u,fetchIdx:k,tags:y,softTags:v});if(e?await A():o="cache-control: no-cache (hard refresh)",(null==e?void 0:e.value)&&"FETCH"===e.value.kind){if(c.isRevalidate&&e.isStale)N=!0;else{if(e.isStale&&(c.pendingRevalidates??={},!c.pendingRevalidates[a])){let e=O(!0).then(async e=>({body:await e.arrayBuffer(),headers:e.headers,status:e.status,statusText:e.statusText})).finally(()=>{c.pendingRevalidates??={},delete c.pendingRevalidates[a||""]});e.catch(console.error),c.pendingRevalidates[a]=e}let t=e.value.data;e_(c,{start:h,url:u,cacheReason:S,cacheStatus:"hit",status:t.status||200,method:(null==i?void 0:i.method)||"GET"});let r=new Response(eb.from(t.body,"base64"),{headers:t.headers,status:t.status});return Object.defineProperty(r,"url",{value:e.value.data.url}),r}}}if(c.isStaticGeneration&&i&&"object"==typeof i){let{cache:e}=i;if(delete i.cache,!c.forceStatic&&"no-store"===e){let e=`no-store fetch ${n}${c.urlPathname?` ${c.urlPathname}`:""}`;M(c,e),c.revalidate=0;let r=new t(e);throw c.dynamicUsageErr=r,c.dynamicUsageDescription=e,r}let r="next"in i,{next:s={}}=i;if("number"==typeof s.revalidate&&(void 0===c.revalidate||"number"==typeof c.revalidate&&s.revalidate<c.revalidate)){if(!c.forceDynamic&&!c.forceStatic&&0===s.revalidate){let e=`revalidate: 0 fetch ${n}${c.urlPathname?` ${c.urlPathname}`:""}`;M(c,e);let r=new t(e);throw c.dynamicUsageErr=r,c.dynamicUsageDescription=e,r}c.forceStatic&&0===s.revalidate||(c.revalidate=s.revalidate)}r&&delete i.next}if(!a||!N)return O(!1,o).finally(A);{c.pendingRevalidates??={};let e=c.pendingRevalidates[a];if(e){let t=await e;return new Response(t.body,{headers:t.headers,status:t.status,statusText:t.statusText})}let t=O(!0,o).then(ev);return(e=t.then(async e=>{let t=e[0];return{body:await t.arrayBuffer(),headers:t.headers,status:t.status,statusText:t.statusText}}).finally(()=>{if(a){var e;(null==(e=c.pendingRevalidates)?void 0:e[a])&&delete c.pendingRevalidates[a]}})).catch(()=>{}),c.pendingRevalidates[a]=e,t.then(e=>e[1])}})};return n.__nextPatched=!0,n.__nextGetStaticStore=()=>r,n._nextOriginalFetch=e,n}(r,e)}({serverHooks:y,staticGenerationAsyncStorage:E.A})}},4828:(e,t,r)=>{"use strict";var n;r.d(t,{x:()=>n}),function(e){e.PAGES="PAGES",e.PAGES_API="PAGES_API",e.APP_PAGE="APP_PAGE",e.APP_ROUTE="APP_ROUTE"}(n||(n={}))},4630:(e,t,r)=>{e.exports=r(5172)},2296:(e,t,r)=>{"use strict";r.d(t,{W:()=>n});let n=(0,r(5228).P)()},5228:(e,t,r)=>{"use strict";r.d(t,{P:()=>a});let n=Error("Invariant: AsyncLocalStorage accessed in runtime where it is not available");class i{disable(){throw n}getStore(){}run(){throw n}exit(){throw n}enterWith(){throw n}}let s=globalThis.AsyncLocalStorage;function a(){return s?new s:new i}},8983:(e,t,r)=>{"use strict";r.d(t,{O:()=>n});let n=(0,r(5228).P)()},9182:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});let n=(0,r(5228).P)()},2324:e=>{(()=>{"undefined"!=typeof __nccwpck_require__&&(__nccwpck_require__.ab="//");var t={};({318:function(e,t){(function(e){"use strict";class t extends TypeError{constructor(e,t){let r;let{message:n,explanation:i,...s}=e,{path:a}=e,o=0===a.length?n:`At path: ${a.join(".")} -- ${n}`;super(i??o),null!=i&&(this.cause=o),Object.assign(this,s),this.name=this.constructor.name,this.failures=()=>r??(r=[e,...t()])}}function r(e){return"object"==typeof e&&null!=e}function n(e){if("[object Object]"!==Object.prototype.toString.call(e))return!1;let t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function i(e){return"symbol"==typeof e?e.toString():"string"==typeof e?JSON.stringify(e):`${e}`}function*s(e,t,n,s){var a;for(let o of(r(a=e)&&"function"==typeof a[Symbol.iterator]||(e=[e]),e)){let e=function(e,t,r,n){if(!0===e)return;!1===e?e={}:"string"==typeof e&&(e={message:e});let{path:s,branch:a}=t,{type:o}=r,{refinement:l,message:u=`Expected a value of type \`${o}\`${l?` with refinement \`${l}\``:""}, but received: \`${i(n)}\``}=e;return{value:n,type:o,refinement:l,key:s[s.length-1],path:s,branch:a,...e,message:u}}(o,t,n,s);e&&(yield e)}}function*a(e,t,n={}){let{path:i=[],branch:s=[e],coerce:o=!1,mask:l=!1}=n,u={path:i,branch:s};if(o&&(e=t.coercer(e,u),l&&"type"!==t.type&&r(t.schema)&&r(e)&&!Array.isArray(e)))for(let r in e)void 0===t.schema[r]&&delete e[r];let c="valid";for(let r of t.validator(e,u))r.explanation=n.message,c="not_valid",yield[r,void 0];for(let[h,d,f]of t.entries(e,u))for(let t of a(d,f,{path:void 0===h?i:[...i,h],branch:void 0===h?s:[...s,d],coerce:o,mask:l,message:n.message}))t[0]?(c=null!=t[0].refinement?"not_refined":"not_valid",yield[t[0],void 0]):o&&(d=t[1],void 0===h?e=d:e instanceof Map?e.set(h,d):e instanceof Set?e.add(d):r(e)&&(void 0!==d||h in e)&&(e[h]=d));if("not_valid"!==c)for(let r of t.refiner(e,u))r.explanation=n.message,c="not_refined",yield[r,void 0];"valid"===c&&(yield[void 0,e])}class o{constructor(e){let{type:t,schema:r,validator:n,refiner:i,coercer:a=e=>e,entries:o=function*(){}}=e;this.type=t,this.schema=r,this.entries=o,this.coercer=a,n?this.validator=(e,t)=>s(n(e,t),t,this,e):this.validator=()=>[],i?this.refiner=(e,t)=>s(i(e,t),t,this,e):this.refiner=()=>[]}assert(e,t){return l(e,this,t)}create(e,t){return u(e,this,t)}is(e){return h(e,this)}mask(e,t){return c(e,this,t)}validate(e,t={}){return d(e,this,t)}}function l(e,t,r){let n=d(e,t,{message:r});if(n[0])throw n[0]}function u(e,t,r){let n=d(e,t,{coerce:!0,message:r});if(!n[0])return n[1];throw n[0]}function c(e,t,r){let n=d(e,t,{coerce:!0,mask:!0,message:r});if(!n[0])return n[1];throw n[0]}function h(e,t){return!d(e,t)[0]}function d(e,r,n={}){let i=a(e,r,n),s=function(e){let{done:t,value:r}=e.next();return t?void 0:r}(i);return s[0]?[new t(s[0],function*(){for(let e of i)e[0]&&(yield e[0])}),void 0]:[void 0,s[1]]}function f(e,t){return new o({type:e,schema:null,validator:t})}function p(){return f("never",()=>!1)}function g(e){let t=e?Object.keys(e):[],n=p();return new o({type:"object",schema:e||null,*entries(i){if(e&&r(i)){let r=new Set(Object.keys(i));for(let n of t)r.delete(n),yield[n,i[n],e[n]];for(let e of r)yield[e,i[e],n]}},validator:e=>r(e)||`Expected an object, but received: ${i(e)}`,coercer:e=>r(e)?{...e}:e})}function m(e){return new o({...e,validator:(t,r)=>void 0===t||e.validator(t,r),refiner:(t,r)=>void 0===t||e.refiner(t,r)})}function y(){return f("string",e=>"string"==typeof e||`Expected a string, but received: ${i(e)}`)}function v(e){let t=Object.keys(e);return new o({type:"type",schema:e,*entries(n){if(r(n))for(let r of t)yield[r,n[r],e[r]]},validator:e=>r(e)||`Expected an object, but received: ${i(e)}`,coercer:e=>r(e)?{...e}:e})}function b(){return f("unknown",()=>!0)}function w(e,t,r){return new o({...e,coercer:(n,i)=>h(n,t)?e.coercer(r(n,i),i):e.coercer(n,i)})}function _(e){return e instanceof Map||e instanceof Set?e.size:e.length}function S(e,t,r){return new o({...e,*refiner(n,i){for(let a of(yield*e.refiner(n,i),s(r(n,i),i,e,n)))yield{...a,refinement:t}}})}e.Struct=o,e.StructError=t,e.any=function(){return f("any",()=>!0)},e.array=function(e){return new o({type:"array",schema:e,*entries(t){if(e&&Array.isArray(t))for(let[r,n]of t.entries())yield[r,n,e]},coercer:e=>Array.isArray(e)?e.slice():e,validator:e=>Array.isArray(e)||`Expected an array value, but received: ${i(e)}`})},e.assert=l,e.assign=function(...e){let t="type"===e[0].type,r=Object.assign({},...e.map(e=>e.schema));return t?v(r):g(r)},e.bigint=function(){return f("bigint",e=>"bigint"==typeof e)},e.boolean=function(){return f("boolean",e=>"boolean"==typeof e)},e.coerce=w,e.create=u,e.date=function(){return f("date",e=>e instanceof Date&&!isNaN(e.getTime())||`Expected a valid \`Date\` object, but received: ${i(e)}`)},e.defaulted=function(e,t,r={}){return w(e,b(),e=>{let i="function"==typeof t?t():t;if(void 0===e)return i;if(!r.strict&&n(e)&&n(i)){let t={...e},r=!1;for(let e in i)void 0===t[e]&&(t[e]=i[e],r=!0);if(r)return t}return e})},e.define=f,e.deprecated=function(e,t){return new o({...e,refiner:(t,r)=>void 0===t||e.refiner(t,r),validator:(r,n)=>void 0===r||(t(r,n),e.validator(r,n))})},e.dynamic=function(e){return new o({type:"dynamic",schema:null,*entries(t,r){let n=e(t,r);yield*n.entries(t,r)},validator:(t,r)=>e(t,r).validator(t,r),coercer:(t,r)=>e(t,r).coercer(t,r),refiner:(t,r)=>e(t,r).refiner(t,r)})},e.empty=function(e){return S(e,"empty",t=>{let r=_(t);return 0===r||`Expected an empty ${e.type} but received one with a size of \`${r}\``})},e.enums=function(e){let t={},r=e.map(e=>i(e)).join();for(let r of e)t[r]=r;return new o({type:"enums",schema:t,validator:t=>e.includes(t)||`Expected one of \`${r}\`, but received: ${i(t)}`})},e.func=function(){return f("func",e=>"function"==typeof e||`Expected a function, but received: ${i(e)}`)},e.instance=function(e){return f("instance",t=>t instanceof e||`Expected a \`${e.name}\` instance, but received: ${i(t)}`)},e.integer=function(){return f("integer",e=>"number"==typeof e&&!isNaN(e)&&Number.isInteger(e)||`Expected an integer, but received: ${i(e)}`)},e.intersection=function(e){return new o({type:"intersection",schema:null,*entries(t,r){for(let n of e)yield*n.entries(t,r)},*validator(t,r){for(let n of e)yield*n.validator(t,r)},*refiner(t,r){for(let n of e)yield*n.refiner(t,r)}})},e.is=h,e.lazy=function(e){let t;return new o({type:"lazy",schema:null,*entries(r,n){t??(t=e()),yield*t.entries(r,n)},validator:(r,n)=>(t??(t=e()),t.validator(r,n)),coercer:(r,n)=>(t??(t=e()),t.coercer(r,n)),refiner:(r,n)=>(t??(t=e()),t.refiner(r,n))})},e.literal=function(e){let t=i(e),r=typeof e;return new o({type:"literal",schema:"string"===r||"number"===r||"boolean"===r?e:null,validator:r=>r===e||`Expected the literal \`${t}\`, but received: ${i(r)}`})},e.map=function(e,t){return new o({type:"map",schema:null,*entries(r){if(e&&t&&r instanceof Map)for(let[n,i]of r.entries())yield[n,n,e],yield[n,i,t]},coercer:e=>e instanceof Map?new Map(e):e,validator:e=>e instanceof Map||`Expected a \`Map\` object, but received: ${i(e)}`})},e.mask=c,e.max=function(e,t,r={}){let{exclusive:n}=r;return S(e,"max",r=>n?r<t:r<=t||`Expected a ${e.type} less than ${n?"":"or equal to "}${t} but received \`${r}\``)},e.min=function(e,t,r={}){let{exclusive:n}=r;return S(e,"min",r=>n?r>t:r>=t||`Expected a ${e.type} greater than ${n?"":"or equal to "}${t} but received \`${r}\``)},e.never=p,e.nonempty=function(e){return S(e,"nonempty",t=>_(t)>0||`Expected a nonempty ${e.type} but received an empty one`)},e.nullable=function(e){return new o({...e,validator:(t,r)=>null===t||e.validator(t,r),refiner:(t,r)=>null===t||e.refiner(t,r)})},e.number=function(){return f("number",e=>"number"==typeof e&&!isNaN(e)||`Expected a number, but received: ${i(e)}`)},e.object=g,e.omit=function(e,t){let{schema:r}=e,n={...r};for(let e of t)delete n[e];return"type"===e.type?v(n):g(n)},e.optional=m,e.partial=function(e){let t=e instanceof o?{...e.schema}:{...e};for(let e in t)t[e]=m(t[e]);return g(t)},e.pattern=function(e,t){return S(e,"pattern",r=>t.test(r)||`Expected a ${e.type} matching \`/${t.source}/\` but received "${r}"`)},e.pick=function(e,t){let{schema:r}=e,n={};for(let e of t)n[e]=r[e];return g(n)},e.record=function(e,t){return new o({type:"record",schema:null,*entries(n){if(r(n))for(let r in n){let i=n[r];yield[r,r,e],yield[r,i,t]}},validator:e=>r(e)||`Expected an object, but received: ${i(e)}`})},e.refine=S,e.regexp=function(){return f("regexp",e=>e instanceof RegExp)},e.set=function(e){return new o({type:"set",schema:null,*entries(t){if(e&&t instanceof Set)for(let r of t)yield[r,r,e]},coercer:e=>e instanceof Set?new Set(e):e,validator:e=>e instanceof Set||`Expected a \`Set\` object, but received: ${i(e)}`})},e.size=function(e,t,r=t){let n=`Expected a ${e.type}`,i=t===r?`of \`${t}\``:`between \`${t}\` and \`${r}\``;return S(e,"size",e=>{if("number"==typeof e||e instanceof Date)return t<=e&&e<=r||`${n} ${i} but received \`${e}\``;if(e instanceof Map||e instanceof Set){let{size:s}=e;return t<=s&&s<=r||`${n} with a size ${i} but received one with a size of \`${s}\``}{let{length:s}=e;return t<=s&&s<=r||`${n} with a length ${i} but received one with a length of \`${s}\``}})},e.string=y,e.struct=function(e,t){return console.warn("superstruct@0.11 - The `struct` helper has been renamed to `define`."),f(e,t)},e.trimmed=function(e){return w(e,y(),e=>e.trim())},e.tuple=function(e){let t=p();return new o({type:"tuple",schema:null,*entries(r){if(Array.isArray(r)){let n=Math.max(e.length,r.length);for(let i=0;i<n;i++)yield[i,r[i],e[i]||t]}},validator:e=>Array.isArray(e)||`Expected an array, but received: ${i(e)}`})},e.type=v,e.union=function(e){let t=e.map(e=>e.type).join(" | ");return new o({type:"union",schema:null,coercer(t){for(let r of e){let[e,n]=r.validate(t,{coerce:!0});if(!e)return n}return t},validator(r,n){let s=[];for(let t of e){let[...e]=a(r,t,n),[i]=e;if(!i[0])return[];for(let[t]of e)t&&s.push(t)}return[`Expected the value to satisfy a union of \`${t}\`, but received: ${i(r)}`,...s]}})},e.unknown=b,e.validate=d})(t)}})[318](0,t),e.exports=t})()},459:(e,t,r)=>{"use strict";let n,i,s;r.d(t,{Jn:()=>j,qX:()=>N,rh:()=>D,Xd:()=>A,Mq:()=>F,C6:()=>U,ZF:()=>$,KN:()=>V});var a=r(2596),o=r(23),l=r(6600);let u=(e,t)=>t.some(t=>e instanceof t),c=new WeakMap,h=new WeakMap,d=new WeakMap,f=new WeakMap,p=new WeakMap,g={get(e,t,r){if(e instanceof IDBTransaction){if("done"===t)return h.get(e);if("objectStoreNames"===t)return e.objectStoreNames||d.get(e);if("store"===t)return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return m(e[t])},set:(e,t,r)=>(e[t]=r,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function m(e){var t;if(e instanceof IDBRequest)return function(e){let t=new Promise((t,r)=>{let n=()=>{e.removeEventListener("success",i),e.removeEventListener("error",s)},i=()=>{t(m(e.result)),n()},s=()=>{r(e.error),n()};e.addEventListener("success",i),e.addEventListener("error",s)});return t.then(t=>{t instanceof IDBCursor&&c.set(t,e)}).catch(()=>{}),p.set(t,e),t}(e);if(f.has(e))return f.get(e);let r="function"==typeof(t=e)?t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(i||(i=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(t)?function(...e){return t.apply(y(this),e),m(c.get(this))}:function(...e){return m(t.apply(y(this),e))}:function(e,...r){let n=t.call(y(this),e,...r);return d.set(n,e.sort?e.sort():[e]),m(n)}:(t instanceof IDBTransaction&&function(e){if(h.has(e))return;let t=new Promise((t,r)=>{let n=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",s),e.removeEventListener("abort",s)},i=()=>{t(),n()},s=()=>{r(e.error||new DOMException("AbortError","AbortError")),n()};e.addEventListener("complete",i),e.addEventListener("error",s),e.addEventListener("abort",s)});h.set(e,t)}(t),u(t,n||(n=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])))?new Proxy(t,g):t;return r!==e&&(f.set(e,r),p.set(r,e)),r}let y=e=>p.get(e),v=["get","getKey","getAll","getAllKeys","count"],b=["put","add","delete","clear"],w=new Map;function _(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&"string"==typeof t))return;if(w.get(t))return w.get(t);let r=t.replace(/FromIndex$/,""),n=t!==r,i=b.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(i||v.includes(r)))return;let s=async function(e,...t){let s=this.transaction(e,i?"readwrite":"readonly"),a=s.store;return n&&(a=a.index(t.shift())),(await Promise.all([a[r](...t),i&&s.done]))[0]};return w.set(t,s),s}g={...s=g,get:(e,t,r)=>_(e,t)||s.get(e,t,r),has:(e,t)=>!!_(e,t)||s.has(e,t)};class S{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(!function(e){let t=e.getComponent();return(null==t?void 0:t.type)==="VERSION"}(e))return null;{let t=e.getImmediate();return`${t.library}/${t.version}`}}).filter(e=>e).join(" ")}}let E="@firebase/app",x="0.11.2",T=new o.Yd("@firebase/app"),C="[DEFAULT]",I={[E]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/data-connect":"fire-data-connect","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","@firebase/vertexai":"fire-vertex","fire-js":"fire-js",firebase:"fire-js-all"},R=new Map,k=new Map,P=new Map;function O(e,t){try{e.container.addComponent(t)}catch(r){T.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,r)}}function A(e){let t=e.name;if(P.has(t))return T.debug(`There were multiple attempts to register component ${t}.`),!1;for(let r of(P.set(t,e),R.values()))O(r,e);for(let t of k.values())O(t,e);return!0}function N(e,t){let r=e.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),e.container.getProvider(t)}function D(e){return null!=e&&void 0!==e.settings}let M=new l.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class L{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new a.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw M.create("app-deleted",{appName:this._name})}}let j="11.4.0";function $(e,t={}){let r=e;"object"!=typeof t&&(t={name:t});let n=Object.assign({name:C,automaticDataCollectionEnabled:!1},t),i=n.name;if("string"!=typeof i||!i)throw M.create("bad-app-name",{appName:String(i)});if(r||(r=(0,l.aH)()),!r)throw M.create("no-options");let s=R.get(i);if(s){if((0,l.vZ)(r,s.options)&&(0,l.vZ)(n,s.config))return s;throw M.create("duplicate-app",{appName:i})}let o=new a.H0(i);for(let e of P.values())o.addComponent(e);let u=new L(r,n,o);return R.set(i,u),u}function F(e=C){let t=R.get(e);if(!t&&e===C&&(0,l.aH)())return $();if(!t)throw M.create("no-app",{appName:e});return t}function U(){return Array.from(R.values())}function V(e,t,r){var n;let i=null!==(n=I[e])&&void 0!==n?n:e;r&&(i+=`-${r}`);let s=i.match(/\s|\//),o=t.match(/\s|\//);if(s||o){let e=[`Unable to register library "${i}" with version "${t}":`];s&&e.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&e.push("and"),o&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),T.warn(e.join(" "));return}A(new a.wA(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}let B="firebase-heartbeat-store",q=null;function z(){return q||(q=(function(e,t,{blocked:r,upgrade:n,blocking:i,terminated:s}={}){let a=indexedDB.open(e,1),o=m(a);return n&&a.addEventListener("upgradeneeded",e=>{n(m(a.result),e.oldVersion,e.newVersion,m(a.transaction),e)}),r&&a.addEventListener("blocked",e=>r(e.oldVersion,e.newVersion,e)),o.then(e=>{s&&e.addEventListener("close",()=>s()),i&&e.addEventListener("versionchange",e=>i(e.oldVersion,e.newVersion,e))}).catch(()=>{}),o})("firebase-heartbeat-database",0,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(B)}catch(e){console.warn(e)}}}).catch(e=>{throw M.create("idb-open",{originalErrorMessage:e.message})})),q}async function H(e){try{let t=(await z()).transaction(B),r=await t.objectStore(B).get(W(e));return await t.done,r}catch(e){if(e instanceof l.ZR)T.warn(e.message);else{let t=M.create("idb-get",{originalErrorMessage:null==e?void 0:e.message});T.warn(t.message)}}}async function G(e,t){try{let r=(await z()).transaction(B,"readwrite"),n=r.objectStore(B);await n.put(t,W(e)),await r.done}catch(e){if(e instanceof l.ZR)T.warn(e.message);else{let t=M.create("idb-set",{originalErrorMessage:null==e?void 0:e.message});T.warn(t.message)}}}function W(e){return`${e.name}!${e.options.appId}`}class K{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new X(t),this._heartbeatsCachePromise=this._storage.read().then(e=>(this._heartbeatsCache=e,e))}async triggerHeartbeat(){var e,t;try{let r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),n=J();if((null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===n||this._heartbeatsCache.heartbeats.some(e=>e.date===n))return;if(this._heartbeatsCache.heartbeats.push({date:n,agent:r}),this._heartbeatsCache.heartbeats.length>30){let e=function(e){if(0===e.length)return -1;let t=0,r=e[0].date;for(let n=1;n<e.length;n++)e[n].date<r&&(r=e[n].date,t=n);return t}(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(e,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){T.warn(e)}}async getHeartbeatsHeader(){var e;try{if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)==null||0===this._heartbeatsCache.heartbeats.length)return"";let t=J(),{heartbeatsToSend:r,unsentEntries:n}=function(e,t=1024){let r=[],n=e.slice();for(let i of e){let e=r.find(e=>e.agent===i.agent);if(e){if(e.dates.push(i.date),Y(r)>t){e.dates.pop();break}}else if(r.push({agent:i.agent,dates:[i.date]}),Y(r)>t){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}(this._heartbeatsCache.heartbeats),i=(0,l.L)(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(e){return T.warn(e),""}}}function J(){return new Date().toISOString().substring(0,10)}class X{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!(0,l.hl)()&&(0,l.eu)().then(()=>!0).catch(()=>!1)}async read(){if(!await this._canUseIndexedDBPromise)return{heartbeats:[]};{let e=await H(this.app);return(null==e?void 0:e.heartbeats)?e:{heartbeats:[]}}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){let r=await this.read();return G(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){let r=await this.read();return G(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}}}function Y(e){return(0,l.L)(JSON.stringify({version:2,heartbeats:e})).length}A(new a.wA("platform-logger",e=>new S(e),"PRIVATE")),A(new a.wA("heartbeat",e=>new K(e),"PRIVATE")),V(E,x,""),V(E,x,"esm2017"),V("fire-js","")},2596:(e,t,r)=>{"use strict";r.d(t,{H0:()=>o,wA:()=>i});var n=r(6600);class i{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}let s="[DEFAULT]";class a{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let e=new n.BH;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{let r=this.getOrInitializeService({instanceIdentifier:t});r&&e.resolve(r)}catch(e){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let r=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),n=null!==(t=null==e?void 0:e.optional)&&void 0!==t&&t;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(e){if(n)return null;throw e}else{if(n)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if("EAGER"===e.instantiationMode)try{this.getOrInitializeService({instanceIdentifier:s})}catch(e){}for(let[e,t]of this.instancesDeferred.entries()){let r=this.normalizeInstanceIdentifier(e);try{let e=this.getOrInitializeService({instanceIdentifier:r});t.resolve(e)}catch(e){}}}}clearInstance(e=s){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){let e=Array.from(this.instances.values());await Promise.all([...e.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...e.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return null!=this.component}isInitialized(e=s){return this.instances.has(e)}getOptions(e=s){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let n=this.getOrInitializeService({instanceIdentifier:r,options:t});for(let[e,t]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(e)&&t.resolve(n);return n}onInit(e,t){var r;let n=this.normalizeInstanceIdentifier(t),i=null!==(r=this.onInitCallbacks.get(n))&&void 0!==r?r:new Set;i.add(e),this.onInitCallbacks.set(n,i);let s=this.instances.get(n);return s&&e(s,n),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){let r=this.onInitCallbacks.get(t);if(r)for(let n of r)try{n(e,t)}catch(e){}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:e===s?void 0:e,options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch(e){}return r||null}normalizeInstanceIdentifier(e=s){return this.component?this.component.multipleInstances?e:s:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class o{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new a(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}},23:(e,t,r)=>{"use strict";var n;r.d(t,{Yd:()=>u,in:()=>n});let i=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(n||(n={}));let s={debug:n.DEBUG,verbose:n.VERBOSE,info:n.INFO,warn:n.WARN,error:n.ERROR,silent:n.SILENT},a=n.INFO,o={[n.DEBUG]:"log",[n.VERBOSE]:"log",[n.INFO]:"info",[n.WARN]:"warn",[n.ERROR]:"error"},l=(e,t,...r)=>{if(t<e.logLevel)return;let n=new Date().toISOString(),i=o[t];if(i)console[i](`[${n}]  ${e.name}:`,...r);else throw Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class u{constructor(e){this.name=e,this._logLevel=a,this._logHandler=l,this._userLogHandler=null,i.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in n))throw TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?s[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,n.DEBUG,...e),this._logHandler(this,n.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,n.VERBOSE,...e),this._logHandler(this,n.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,n.INFO,...e),this._logHandler(this,n.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,n.WARN,...e),this._logHandler(this,n.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,n.ERROR,...e),this._logHandler(this,n.ERROR,...e)}}},7966:(e,t,r)=>{"use strict";r.d(t,{C6:()=>n.C6,ZF:()=>n.ZF});var n=r(459);(0,n.KN)("firebase","11.4.0","app")},6288:(e,t,r)=>{"use strict";r.d(t,{hJ:()=>e0,Xb:()=>to,v0:()=>rT,LS:()=>ta,e5:()=>tl,rh:()=>tW,w7:()=>tc});var n=r(459),i=r(6600),s=r(23);function a(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)0>t.indexOf(n[i])&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}Object.create,Object.create;var o=("function"==typeof SuppressedError&&SuppressedError,r(2596));function l(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}let u=new i.LL("auth","Firebase",l()),c=new s.Yd("@firebase/auth");function h(e,...t){c.logLevel<=s.in.ERROR&&c.error(`Auth (${n.Jn}): ${e}`,...t)}function d(e,...t){throw m(e,...t)}function f(e,...t){return m(e,...t)}function p(e,t,r){let n=Object.assign(Object.assign({},l()),{[t]:r});return new i.LL("auth","Firebase",n).create(t,{appName:e.name})}function g(e){return p(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function m(e,...t){if("string"!=typeof e){let r=t[0],n=[...t.slice(1)];return n[0]&&(n[0].appName=e.name),e._errorFactory.create(r,...n)}return u.create(e,...t)}function y(e,t,...r){if(!e)throw m(t,...r)}function v(e){let t="INTERNAL ASSERTION FAILED: "+e;throw h(t),Error(t)}function b(){var e;return"undefined"!=typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function w(){var e;return"undefined"!=typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}class _{constructor(e,t){var r;this.shortDelay=e,this.longDelay=t,r="Short delay should be less than long delay!",t>e||v(r),this.isMobile=(0,i.uI)()||(0,i.b$)()}get(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&("http:"===w()||"https:"===w()||(0,i.ru)()||"connection"in navigator))||navigator.onLine?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function S(e,t){var r,n;r=e.emulator,n="Emulator should always be set here",r||v(n);let{url:i}=e.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}class E{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:"undefined"!=typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!=typeof fetch?fetch:void v("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:"undefined"!=typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!=typeof Headers?Headers:void v("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:"undefined"!=typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!=typeof Response?Response:void v("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}let x={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},T=new _(3e4,6e4);function C(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function I(e,t,r,n,s={}){return R(e,s,async()=>{let s={},a={};n&&("GET"===t?a=n:s={body:JSON.stringify(n)});let o=(0,i.xO)(Object.assign({key:e.config.apiKey},a)).slice(1),l=await e._getAdditionalHeaders();l["Content-Type"]="application/json",e.languageCode&&(l["X-Firebase-Locale"]=e.languageCode);let u=Object.assign({method:t,headers:l},s);return(0,i.L_)()||(u.referrerPolicy="no-referrer"),E.fetch()(P(e,e.config.apiHost,r,o),u)})}async function R(e,t,r){e._canInitEmulator=!1;let n=Object.assign(Object.assign({},x),t);try{let t=new O(e),i=await Promise.race([r(),t.promise]);t.clearNetworkTimeout();let s=await i.json();if("needConfirmation"in s)throw A(e,"account-exists-with-different-credential",s);if(i.ok&&!("errorMessage"in s))return s;{let[t,r]=(i.ok?s.errorMessage:s.error.message).split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===t)throw A(e,"credential-already-in-use",s);if("EMAIL_EXISTS"===t)throw A(e,"email-already-in-use",s);if("USER_DISABLED"===t)throw A(e,"user-disabled",s);let a=n[t]||t.toLowerCase().replace(/[_\s]+/g,"-");if(r)throw p(e,a,r);d(e,a)}}catch(t){if(t instanceof i.ZR)throw t;d(e,"network-request-failed",{message:String(t)})}}async function k(e,t,r,n,i={}){let s=await I(e,t,r,n,i);return"mfaPendingCredential"in s&&d(e,"multi-factor-auth-required",{_serverResponse:s}),s}function P(e,t,r,n){let i=`${t}${r}?${n}`;return e.config.emulator?S(e.config,i):`${e.config.apiScheme}://${i}`}class O{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((e,t)=>{this.timer=setTimeout(()=>t(f(this.auth,"network-request-failed")),T.get())})}}function A(e,t,r){let n={appName:e.name};r.email&&(n.email=r.email),r.phoneNumber&&(n.phoneNumber=r.phoneNumber);let i=f(e,t,n);return i.customData._tokenResponse=r,i}function N(e){return void 0!==e&&void 0!==e.enterprise}class D{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(let t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return function(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function M(e,t){return I(e,"GET","/v2/recaptchaConfig",C(e,t))}async function L(e,t){return I(e,"POST","/v1/accounts:delete",t)}async function j(e,t){return I(e,"POST","/v1/accounts:lookup",t)}function $(e){if(e)try{let t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(e){}}async function F(e,t=!1){let r=(0,i.m9)(e),n=await r.getIdToken(t),s=V(n);y(s&&s.exp&&s.auth_time&&s.iat,r.auth,"internal-error");let a="object"==typeof s.firebase?s.firebase:void 0,o=null==a?void 0:a.sign_in_provider;return{claims:s,token:n,authTime:$(U(s.auth_time)),issuedAtTime:$(U(s.iat)),expirationTime:$(U(s.exp)),signInProvider:o||null,signInSecondFactor:(null==a?void 0:a.sign_in_second_factor)||null}}function U(e){return 1e3*Number(e)}function V(e){let[t,r,n]=e.split(".");if(void 0===t||void 0===r||void 0===n)return h("JWT malformed, contained fewer than 3 sections"),null;try{let e=(0,i.tV)(r);if(!e)return h("Failed to decode base64 JWT payload"),null;return JSON.parse(e)}catch(e){return h("Caught error parsing JWT payload as JSON",null==e?void 0:e.toString()),null}}function B(e){let t=V(e);return y(t,"internal-error"),y(void 0!==t.exp,"internal-error"),y(void 0!==t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}async function q(e,t,r=!1){if(r)return t;try{return await t}catch(t){throw t instanceof i.ZR&&function({code:e}){return"auth/user-disabled"===e||"auth/user-token-expired"===e}(t)&&e.auth.currentUser===e&&await e.auth.signOut(),t}}class z{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(!e)return this.errorBackoff=3e4,Math.max(0,(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5);{let e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(null==e?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class H{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=$(this.lastLoginAt),this.creationTime=$(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function G(e){var t;let r=e.auth,n=await e.getIdToken(),i=await q(e,j(r,{idToken:n}));y(null==i?void 0:i.users.length,r,"internal-error");let s=i.users[0];e._notifyReloadListener(s);let a=(null===(t=s.providerUserInfo)||void 0===t?void 0:t.length)?K(s.providerUserInfo):[],o=[...e.providerData.filter(e=>!a.some(t=>t.providerId===e.providerId)),...a],l=e.isAnonymous,u=!(e.email&&s.passwordHash)&&!(null==o?void 0:o.length);Object.assign(e,{uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new H(s.createdAt,s.lastLoginAt),isAnonymous:!!l&&u})}async function W(e){let t=(0,i.m9)(e);await G(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function K(e){return e.map(e=>{var{providerId:t}=e,r=a(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}async function J(e,t){let r=await R(e,{},async()=>{let r=(0,i.xO)({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:n,apiKey:s}=e.config,a=P(e,n,"/v1/token",`key=${s}`),o=await e._getAdditionalHeaders();return o["Content-Type"]="application/x-www-form-urlencoded",E.fetch()(a,{method:"POST",headers:o,body:r})});return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}async function X(e,t){return I(e,"POST","/v2/accounts:revokeToken",C(e,t))}class Y{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){y(e.idToken,"internal-error"),y(void 0!==e.idToken,"internal-error"),y(void 0!==e.refreshToken,"internal-error");let t="expiresIn"in e&&void 0!==e.expiresIn?Number(e.expiresIn):B(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){y(0!==e.length,"internal-error");let t=B(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return t||!this.accessToken||this.isExpired?(y(this.refreshToken,e,"user-token-expired"),this.refreshToken)?(await this.refresh(e,this.refreshToken),this.accessToken):null:this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){let{accessToken:r,refreshToken:n,expiresIn:i}=await J(e,t);this.updateTokensAndExpiration(r,n,Number(i))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,t){let{refreshToken:r,accessToken:n,expirationTime:i}=t,s=new Y;return r&&(y("string"==typeof r,"internal-error",{appName:e}),s.refreshToken=r),n&&(y("string"==typeof n,"internal-error",{appName:e}),s.accessToken=n),i&&(y("number"==typeof i,"internal-error",{appName:e}),s.expirationTime=i),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Y,this.toJSON())}_performRefresh(){return v("not implemented")}}function Q(e,t){y("string"==typeof e||void 0===e,"internal-error",{appName:t})}class Z{constructor(e){var{uid:t,auth:r,stsTokenManager:n}=e,i=a(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new z(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=n,this.accessToken=n.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new H(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){let t=await q(this,this.stsTokenManager.getToken(this.auth,e));return y(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return F(this,e)}reload(){return W(this)}_assign(e){this!==e&&(y(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(e=>Object.assign({},e)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new Z(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){y(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await G(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if((0,n.rh)(this.auth.app))return Promise.reject(g(this.auth));let e=await this.getIdToken();return await q(this,L(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,n,i,s,a,o,l,u;let c=null!==(r=t.displayName)&&void 0!==r?r:void 0,h=null!==(n=t.email)&&void 0!==n?n:void 0,d=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,f=null!==(s=t.photoURL)&&void 0!==s?s:void 0,p=null!==(a=t.tenantId)&&void 0!==a?a:void 0,g=null!==(o=t._redirectEventId)&&void 0!==o?o:void 0,m=null!==(l=t.createdAt)&&void 0!==l?l:void 0,v=null!==(u=t.lastLoginAt)&&void 0!==u?u:void 0,{uid:b,emailVerified:w,isAnonymous:_,providerData:S,stsTokenManager:E}=t;y(b&&E,e,"internal-error");let x=Y.fromJSON(this.name,E);y("string"==typeof b,e,"internal-error"),Q(c,e.name),Q(h,e.name),y("boolean"==typeof w,e,"internal-error"),y("boolean"==typeof _,e,"internal-error"),Q(d,e.name),Q(f,e.name),Q(p,e.name),Q(g,e.name),Q(m,e.name),Q(v,e.name);let T=new Z({uid:b,auth:e,email:h,emailVerified:w,displayName:c,isAnonymous:_,photoURL:f,phoneNumber:d,tenantId:p,stsTokenManager:x,createdAt:m,lastLoginAt:v});return S&&Array.isArray(S)&&(T.providerData=S.map(e=>Object.assign({},e))),g&&(T._redirectEventId=g),T}static async _fromIdTokenResponse(e,t,r=!1){let n=new Y;n.updateFromServerResponse(t);let i=new Z({uid:t.localId,auth:e,stsTokenManager:n,isAnonymous:r});return await G(i),i}static async _fromGetAccountInfoResponse(e,t,r){let n=t.users[0];y(void 0!==n.localId,"internal-error");let i=void 0!==n.providerUserInfo?K(n.providerUserInfo):[],s=!(n.email&&n.passwordHash)&&!(null==i?void 0:i.length),a=new Y;a.updateFromIdToken(r);let o=new Z({uid:n.localId,auth:e,stsTokenManager:a,isAnonymous:s});return Object.assign(o,{uid:n.localId,displayName:n.displayName||null,photoURL:n.photoUrl||null,email:n.email||null,emailVerified:n.emailVerified||!1,phoneNumber:n.phoneNumber||null,tenantId:n.tenantId||null,providerData:i,metadata:new H(n.createdAt,n.lastLoginAt),isAnonymous:!(n.email&&n.passwordHash)&&!(null==i?void 0:i.length)}),o}}let ee=new Map;function et(e){var t,r;t="Expected a class definition",e instanceof Function||v(t);let n=ee.get(e);return n?(r="Instance stored in cache mismatched with class",n instanceof e||v(r)):(n=new e,ee.set(e,n)),n}class er{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){let t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}function en(e,t,r){return`firebase:${e}:${t}:${r}`}er.type="NONE";class ei{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;let{config:n,name:i}=this.auth;this.fullUserKey=en(this.userKey,n.apiKey,i),this.fullPersistenceKey=en("persistence",n.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){let e=await this.persistence._get(this.fullUserKey);return e?Z._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;let t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new ei(et(er),e,r);let n=(await Promise.all(t.map(async e=>{if(await e._isAvailable())return e}))).filter(e=>e),i=n[0]||et(er),s=en(r,e.config.apiKey,e.name),a=null;for(let r of t)try{let t=await r._get(s);if(t){let n=Z._fromJSON(e,t);r!==i&&(a=n),i=r;break}}catch(e){}let o=n.filter(e=>e._shouldAllowMigration);return i._shouldAllowMigration&&o.length&&(i=o[0],a&&await i._set(s,a.toJSON()),await Promise.all(t.map(async e=>{if(e!==i)try{await e._remove(s)}catch(e){}}))),new ei(i,e,r)}}function es(e){let t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(eu(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";{if(t.includes("edge/"))return"Edge";if(ea(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(eh(t))return"Blackberry";if(ed(t))return"Webos";if(eo(t))return"Safari";if((t.includes("chrome/")||el(t))&&!t.includes("edge/"))return"Chrome";if(ec(t))return"Android";let r=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if((null==r?void 0:r.length)===2)return r[1]}return"Other"}function ea(e=(0,i.z$)()){return/firefox\//i.test(e)}function eo(e=(0,i.z$)()){let t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function el(e=(0,i.z$)()){return/crios\//i.test(e)}function eu(e=(0,i.z$)()){return/iemobile/i.test(e)}function ec(e=(0,i.z$)()){return/android/i.test(e)}function eh(e=(0,i.z$)()){return/blackberry/i.test(e)}function ed(e=(0,i.z$)()){return/webos/i.test(e)}function ef(e=(0,i.z$)()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function ep(e=(0,i.z$)()){return ef(e)||ec(e)||ed(e)||eh(e)||/windows phone/i.test(e)||eu(e)}function eg(e,t=[]){let r;switch(e){case"Browser":r=es((0,i.z$)());break;case"Worker":r=`${es((0,i.z$)())}-${e}`;break;default:r=e}let s=t.length?t.join(","):"FirebaseCore-web";return`${r}/JsCore/${n.Jn}/${s}`}class em{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let r=t=>new Promise((r,n)=>{try{let n=e(t);r(n)}catch(e){n(e)}});r.onAbort=t,this.queue.push(r);let n=this.queue.length-1;return()=>{this.queue[n]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;let t=[];try{for(let r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(e){for(let e of(t.reverse(),t))try{e()}catch(e){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null==e?void 0:e.message})}}}async function ey(e,t={}){return I(e,"GET","/v2/passwordPolicy",C(e,t))}class ev{constructor(e){var t,r,n,i;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=s.minPasswordLength)&&void 0!==t?t:6,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),void 0!==s.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),void 0!==s.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),void 0!==s.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),void 0!==s.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(n=null===(r=e.allowedNonAlphanumericCharacters)||void 0===r?void 0:r.join(""))&&void 0!==n?n:"",this.forceUpgradeOnSignin=null!==(i=e.forceUpgradeOnSignin)&&void 0!==i&&i,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,n,i,s,a;let o={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,o),this.validatePasswordCharacterOptions(e,o),o.isValid&&(o.isValid=null===(t=o.meetsMinPasswordLength)||void 0===t||t),o.isValid&&(o.isValid=null===(r=o.meetsMaxPasswordLength)||void 0===r||r),o.isValid&&(o.isValid=null===(n=o.containsLowercaseLetter)||void 0===n||n),o.isValid&&(o.isValid=null===(i=o.containsUppercaseLetter)||void 0===i||i),o.isValid&&(o.isValid=null===(s=o.containsNumericCharacter)||void 0===s||s),o.isValid&&(o.isValid=null===(a=o.containsNonAlphanumericCharacter)||void 0===a||a),o}validatePasswordLengthOptions(e,t){let r=this.customStrengthOptions.minPasswordLength,n=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),n&&(t.meetsMaxPasswordLength=e.length<=n)}validatePasswordCharacterOptions(e,t){let r;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let n=0;n<e.length;n++)r=e.charAt(n),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,n,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=n)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}class eb{constructor(e,t,r,n){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=n,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new e_(this),this.idTokenSubscription=new e_(this),this.beforeStateQueue=new em(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=u,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=n.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=et(t)),this._initializationPromise=this.queue(async()=>{var r,n;if(!this._deleted&&(this.persistenceManager=await ei.create(this,e),!this._deleted)){if(null===(r=this._popupRedirectResolver)||void 0===r?void 0:r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(e){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(n=this.currentUser)||void 0===n?void 0:n.uid)||null,this._deleted||(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;let e=await this.assertedPersistence.getCurrentUser();if(this.currentUser||e){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{let t=await j(this,{idToken:e}),r=await Z._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(e){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if((0,n.rh)(this.app)){let e=this.app.settings.authIdToken;return e?new Promise(t=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(e).then(t,t))}):this.directlySetCurrentUser(null)}let r=await this.assertedPersistence.getCurrentUser(),i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();let r=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,n=null==i?void 0:i._redirectEventId,a=await this.tryRedirectSignIn(e);(!r||r===n)&&(null==a?void 0:a.user)&&(i=a.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(e){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(e))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return(y(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId)?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(e){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await G(e)}catch(e){if((null==e?void 0:e.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;let e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if((0,n.rh)(this.app))return Promise.reject(g(this));let t=e?(0,i.m9)(e):null;return t&&y(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&y(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return(0,n.rh)(this.app)?Promise.reject(g(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return(0,n.rh)(this.app)?Promise.reject(g(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(et(e))})}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){let e=new ev(await ey(this));null===this.tenantId?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new i.LL("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){let t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await X(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){let r=await this.getOrInitRedirectPersistenceManager(t);return null===e?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){let t=e&&et(e)||this._popupRedirectResolver;y(t,this,"argument-error"),this.redirectPersistenceManager=await ei.create(this,[et(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return(this._isInitialized&&await this.queue(async()=>{}),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e)?this._currentUser:(null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,n){if(this._deleted)return()=>{};let i="function"==typeof t?t:t.next.bind(t),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(y(a,this,"internal-error"),a.then(()=>{s||i(this.currentUser)}),"function"==typeof t){let i=e.addObserver(t,r,n);return()=>{s=!0,i()}}{let r=e.addObserver(t);return()=>{s=!0,r()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return y(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=eg(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let r=await (null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);let n=await this._getAppCheckToken();return n&&(t["X-Firebase-AppCheck"]=n),t}async _getAppCheckToken(){var e;if((0,n.rh)(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let t=await (null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null==t?void 0:t.error)&&function(e,...t){c.logLevel<=s.in.WARN&&c.warn(`Auth (${n.Jn}): ${e}`,...t)}(`Error while retrieving App Check token: ${t.error}`),null==t?void 0:t.token}}function ew(e){return(0,i.m9)(e)}class e_{constructor(e){this.auth=e,this.observer=null,this.addObserver=(0,i.ne)(e=>this.observer=e)}get next(){return y(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let eS={async loadJS(){throw Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function eE(e){return`__${e}${Math.floor(1e6*Math.random())}`}class ex{constructor(){this.enterprise=new eT}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class eT{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}let eC="NO_RECAPTCHA";class eI{constructor(e){this.type="recaptcha-enterprise",this.auth=ew(e)}async verify(e="verify",t=!1){async function r(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise(async(t,r)=>{M(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(n=>{if(void 0===n.recaptchaKey)r(Error("recaptcha Enterprise site key undefined"));else{let r=new D(n);return null==e.tenantId?e._agentRecaptchaConfig=r:e._tenantRecaptchaConfigs[e.tenantId]=r,t(r.siteKey)}}).catch(e=>{r(e)})})}function n(t,r,n){let i=window.grecaptcha;N(i)?i.enterprise.ready(()=>{i.enterprise.execute(t,{action:e}).then(e=>{r(e)}).catch(()=>{r(eC)})}):n(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new ex().execute("siteKey",{action:"verify"}):new Promise((e,i)=>{r(this.auth).then(r=>{if(!t&&N(window.grecaptcha))n(r,e,i);else{var s;if("undefined"==typeof window){i(Error("RecaptchaVerifier is only supported in browser"));return}let t=eS.recaptchaEnterpriseScript;0!==t.length&&(t+=r),(s=t,eS.loadJS(s)).then(()=>{n(r,e,i)}).catch(e=>{i(e)})}}).catch(e=>{i(e)})})}}async function eR(e,t,r,n=!1,i=!1){let s;let a=new eI(e);if(i)s=eC;else try{s=await a.verify(r)}catch(e){s=await a.verify(r,!0)}let o=Object.assign({},t);if("mfaSmsEnrollment"===r||"mfaSmsSignIn"===r){if("phoneEnrollmentInfo"in o){let e=o.phoneEnrollmentInfo.phoneNumber,t=o.phoneEnrollmentInfo.recaptchaToken;Object.assign(o,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:t,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in o){let e=o.phoneSignInInfo.recaptchaToken;Object.assign(o,{phoneSignInInfo:{recaptchaToken:e,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return o}return n?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function ek(e,t,r,n,i){var s,a;if("EMAIL_PASSWORD_PROVIDER"===i){if(null===(s=e._getRecaptchaConfig())||void 0===s||!s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER"))return n(e,t).catch(async i=>{if("auth/missing-recaptcha-token"!==i.code)return Promise.reject(i);{console.log(`${r} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let i=await eR(e,t,r,"getOobCode"===r);return n(e,i)}});{let i=await eR(e,t,r,"getOobCode"===r);return n(e,i)}}if("PHONE_PROVIDER"!==i)return Promise.reject(i+" provider is not supported.");if(null===(a=e._getRecaptchaConfig())||void 0===a?void 0:a.isProviderEnabled("PHONE_PROVIDER")){let i=await eR(e,t,r);return n(e,i).catch(async i=>{var s;if((null===(s=e._getRecaptchaConfig())||void 0===s?void 0:s.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&("auth/missing-recaptcha-token"===i.code||"auth/invalid-app-credential"===i.code)){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${r} flow.`);let i=await eR(e,t,r,!1,!0);return n(e,i)}return Promise.reject(i)})}{let i=await eR(e,t,r,!1,!0);return n(e,i)}}async function eP(e){let t=ew(e),r=new D(await M(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}));null==t.tenantId?t._agentRecaptchaConfig=r:t._tenantRecaptchaConfigs[t.tenantId]=r,r.isAnyProviderEnabled()&&new eI(t).verify()}function eO(e){let t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function eA(e){if(!e)return null;let t=Number(e);return isNaN(t)?null:t}class eN{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return v("not implemented")}_getIdTokenResponse(e){return v("not implemented")}_linkToIdToken(e,t){return v("not implemented")}_getReauthenticationResolver(e){return v("not implemented")}}async function eD(e,t){return I(e,"POST","/v1/accounts:signUp",t)}async function eM(e,t){return k(e,"POST","/v1/accounts:signInWithPassword",C(e,t))}async function eL(e,t){return I(e,"POST","/v1/accounts:sendOobCode",C(e,t))}async function ej(e,t){return eL(e,t)}async function e$(e,t){return k(e,"POST","/v1/accounts:signInWithEmailLink",C(e,t))}async function eF(e,t){return k(e,"POST","/v1/accounts:signInWithEmailLink",C(e,t))}class eU extends eN{constructor(e,t,r,n=null){super("password",r),this._email=e,this._password=t,this._tenantId=n}static _fromEmailAndPassword(e,t){return new eU(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new eU(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let t="string"==typeof e?JSON.parse(e):e;if((null==t?void 0:t.email)&&(null==t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return ek(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",eM,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return e$(e,{email:this._email,oobCode:this._password});default:d(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return ek(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",eD,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return eF(e,{idToken:t,email:this._email,oobCode:this._password});default:d(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function eV(e,t){return k(e,"POST","/v1/accounts:signInWithIdp",C(e,t))}class eB extends eN{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){let t=new eB(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):d("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){let t="string"==typeof e?JSON.parse(e):e,{providerId:r,signInMethod:n}=t,i=a(t,["providerId","signInMethod"]);if(!r||!n)return null;let s=new eB(r,n);return s.idToken=i.idToken||void 0,s.accessToken=i.accessToken||void 0,s.secret=i.secret,s.nonce=i.nonce,s.pendingToken=i.pendingToken||null,s}_getIdTokenResponse(e){return eV(e,this.buildRequest())}_linkToIdToken(e,t){let r=this.buildRequest();return r.idToken=t,eV(e,r)}_getReauthenticationResolver(e){let t=this.buildRequest();return t.autoCreate=!1,eV(e,t)}buildRequest(){let e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{let t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=(0,i.xO)(t)}return e}}async function eq(e,t){return I(e,"POST","/v1/accounts:sendVerificationCode",C(e,t))}async function ez(e,t){return k(e,"POST","/v1/accounts:signInWithPhoneNumber",C(e,t))}async function eH(e,t){let r=await k(e,"POST","/v1/accounts:signInWithPhoneNumber",C(e,t));if(r.temporaryProof)throw A(e,"account-exists-with-different-credential",r);return r}let eG={USER_NOT_FOUND:"user-not-found"};async function eW(e,t){return k(e,"POST","/v1/accounts:signInWithPhoneNumber",C(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),eG)}class eK extends eN{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new eK({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new eK({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return ez(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return eH(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return eW(e,this._makeVerificationRequest())}_makeVerificationRequest(){let{temporaryProof:e,phoneNumber:t,verificationId:r,verificationCode:n}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:r,code:n}}toJSON(){let e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"==typeof e&&(e=JSON.parse(e));let{verificationId:t,verificationCode:r,phoneNumber:n,temporaryProof:i}=e;return r||t||n||i?new eK({verificationId:t,verificationCode:r,phoneNumber:n,temporaryProof:i}):null}}class eJ{constructor(e){var t,r,n,s,a,o;let l=(0,i.zd)((0,i.pd)(e)),u=null!==(t=l.apiKey)&&void 0!==t?t:null,c=null!==(r=l.oobCode)&&void 0!==r?r:null,h=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(n=l.mode)&&void 0!==n?n:null);y(u&&c&&h,"argument-error"),this.apiKey=u,this.operation=h,this.code=c,this.continueUrl=null!==(s=l.continueUrl)&&void 0!==s?s:null,this.languageCode=null!==(a=l.languageCode)&&void 0!==a?a:null,this.tenantId=null!==(o=l.tenantId)&&void 0!==o?o:null}static parseLink(e){let t=function(e){let t=(0,i.zd)((0,i.pd)(e)).link,r=t?(0,i.zd)((0,i.pd)(t)).deep_link_id:null,n=(0,i.zd)((0,i.pd)(e)).deep_link_id;return(n?(0,i.zd)((0,i.pd)(n)).link:null)||n||r||t||e}(e);try{return new eJ(t)}catch(e){return null}}}class eX{constructor(){this.providerId=eX.PROVIDER_ID}static credential(e,t){return eU._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){let r=eJ.parseLink(t);return y(r,"argument-error"),eU._fromEmailAndCode(e,r.code,r.tenantId)}}eX.PROVIDER_ID="password",eX.EMAIL_PASSWORD_SIGN_IN_METHOD="password",eX.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class eY{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class eQ extends eY{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class eZ extends eQ{constructor(){super("facebook.com")}static credential(e){return eB._fromParams({providerId:eZ.PROVIDER_ID,signInMethod:eZ.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return eZ.credentialFromTaggedObject(e)}static credentialFromError(e){return eZ.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return eZ.credential(e.oauthAccessToken)}catch(e){return null}}}eZ.FACEBOOK_SIGN_IN_METHOD="facebook.com",eZ.PROVIDER_ID="facebook.com";class e0 extends eQ{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return eB._fromParams({providerId:e0.PROVIDER_ID,signInMethod:e0.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return e0.credentialFromTaggedObject(e)}static credentialFromError(e){return e0.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;let{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return e0.credential(t,r)}catch(e){return null}}}e0.GOOGLE_SIGN_IN_METHOD="google.com",e0.PROVIDER_ID="google.com";class e1 extends eQ{constructor(){super("github.com")}static credential(e){return eB._fromParams({providerId:e1.PROVIDER_ID,signInMethod:e1.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return e1.credentialFromTaggedObject(e)}static credentialFromError(e){return e1.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return e1.credential(e.oauthAccessToken)}catch(e){return null}}}e1.GITHUB_SIGN_IN_METHOD="github.com",e1.PROVIDER_ID="github.com";class e2 extends eQ{constructor(){super("twitter.com")}static credential(e,t){return eB._fromParams({providerId:e2.PROVIDER_ID,signInMethod:e2.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return e2.credentialFromTaggedObject(e)}static credentialFromError(e){return e2.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;let{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return e2.credential(t,r)}catch(e){return null}}}async function e4(e,t){return k(e,"POST","/v1/accounts:signUp",C(e,t))}e2.TWITTER_SIGN_IN_METHOD="twitter.com",e2.PROVIDER_ID="twitter.com";class e9{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,n=!1){return new e9({user:await Z._fromIdTokenResponse(e,r,n),providerId:e6(r),_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){return await e._updateTokensIfNecessary(r,!0),new e9({user:e,providerId:e6(r),_tokenResponse:r,operationType:t})}}function e6(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class e5 extends i.ZR{constructor(e,t,r,n){var i;super(t.code,t.message),this.operationType=r,this.user=n,Object.setPrototypeOf(this,e5.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,n){return new e5(e,t,r,n)}}function e3(e,t,r,n){return("reauthenticate"===t?r._getReauthenticationResolver(e):r._getIdTokenResponse(e)).catch(r=>{if("auth/multi-factor-auth-required"===r.code)throw e5._fromErrorAndOperation(e,r,t,n);throw r})}async function e8(e,t,r=!1){let n=await q(e,t._linkToIdToken(e.auth,await e.getIdToken()),r);return e9._forOperation(e,"link",n)}async function e7(e,t,r=!1){let{auth:i}=e;if((0,n.rh)(i.app))return Promise.reject(g(i));let s="reauthenticate";try{let n=await q(e,e3(i,s,t,e),r);y(n.idToken,i,"internal-error");let a=V(n.idToken);y(a,i,"internal-error");let{sub:o}=a;return y(e.uid===o,i,"user-mismatch"),e9._forOperation(e,s,n)}catch(e){throw(null==e?void 0:e.code)==="auth/user-not-found"&&d(i,"user-mismatch"),e}}async function te(e,t,r=!1){if((0,n.rh)(e.app))return Promise.reject(g(e));let i="signIn",s=await e3(e,i,t),a=await e9._fromIdTokenResponse(e,i,s);return r||await e._updateCurrentUser(a.user),a}async function tt(e,t){return te(ew(e),t)}class tr{constructor(e,t){this.factorId=e,this.uid=t.mfaEnrollmentId,this.enrollmentTime=new Date(t.enrolledAt).toUTCString(),this.displayName=t.displayName}static _fromServerResponse(e,t){return"phoneInfo"in t?tn._fromServerResponse(e,t):"totpInfo"in t?ti._fromServerResponse(e,t):d(e,"internal-error")}}class tn extends tr{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,t){return new tn(t)}}class ti extends tr{constructor(e){super("totp",e)}static _fromServerResponse(e,t){return new ti(t)}}async function ts(e){let t=ew(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function ta(e,t,r){var n;let i=ew(e),s={requestType:"PASSWORD_RESET",email:t,clientType:"CLIENT_TYPE_WEB"};r&&(y((null===(n=r.url)||void 0===n?void 0:n.length)>0,i,"invalid-continue-uri"),y(void 0===r.dynamicLinkDomain||r.dynamicLinkDomain.length>0,i,"invalid-dynamic-link-domain"),y(void 0===r.linkDomain||r.linkDomain.length>0,i,"invalid-hosting-link-domain"),s.continueUrl=r.url,s.dynamicLinkDomain=r.dynamicLinkDomain,s.linkDomain=r.linkDomain,s.canHandleCodeInApp=r.handleCodeInApp,r.iOS&&(y(r.iOS.bundleId.length>0,i,"missing-ios-bundle-id"),s.iOSBundleId=r.iOS.bundleId),r.android&&(y(r.android.packageName.length>0,i,"missing-android-pkg-name"),s.androidInstallApp=r.android.installApp,s.androidMinimumVersionCode=r.android.minimumVersion,s.androidPackageName=r.android.packageName)),await ek(i,s,"getOobCode",ej,"EMAIL_PASSWORD_PROVIDER")}async function to(e,t,r){if((0,n.rh)(e.app))return Promise.reject(g(e));let i=ew(e),s=ek(i,{returnSecureToken:!0,email:t,password:r,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",e4,"EMAIL_PASSWORD_PROVIDER"),a=await s.catch(t=>{throw"auth/password-does-not-meet-requirements"===t.code&&ts(e),t}),o=await e9._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(o.user),o}function tl(e,t,r){return(0,n.rh)(e.app)?Promise.reject(g(e)):tt((0,i.m9)(e),eX.credential(t,r)).catch(async t=>{throw"auth/password-does-not-meet-requirements"===t.code&&ts(e),t})}class tu{constructor(e,t,r={}){this.isNewUser=e,this.providerId=t,this.profile=r}}function tc(e){return(0,i.m9)(e).signOut()}class th{constructor(e,t,r){this.type=e,this.credential=t,this.user=r}static _fromIdtoken(e,t){return new th("enroll",e,t)}static _fromMfaPendingCredential(e){return new th("signin",e)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var t,r;if(null==e?void 0:e.multiFactorSession){if(null===(t=e.multiFactorSession)||void 0===t?void 0:t.pendingCredential)return th._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(null===(r=e.multiFactorSession)||void 0===r?void 0:r.idToken)return th._fromIdtoken(e.multiFactorSession.idToken)}return null}}class td{constructor(e,t,r){this.session=e,this.hints=t,this.signInResolver=r}static _fromError(e,t){let r=ew(e),n=t.customData._serverResponse,i=(n.mfaInfo||[]).map(e=>tr._fromServerResponse(r,e));y(n.mfaPendingCredential,r,"internal-error");let s=th._fromMfaPendingCredential(n.mfaPendingCredential);return new td(s,i,async e=>{let i=await e._process(r,s);delete n.mfaInfo,delete n.mfaPendingCredential;let a=Object.assign(Object.assign({},n),{idToken:i.idToken,refreshToken:i.refreshToken});switch(t.operationType){case"signIn":let o=await e9._fromIdTokenResponse(r,t.operationType,a);return await r._updateCurrentUser(o.user),o;case"reauthenticate":return y(t.user,r,"internal-error"),e9._forOperation(t.user,t.operationType,a);default:d(r,"internal-error")}})}async resolveSignIn(e){return this.signInResolver(e)}}function tf(e,t){return I(e,"POST","/v2/accounts/mfaEnrollment:start",C(e,t))}class tp{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload(t=>{t.mfaInfo&&(this.enrolledFactors=t.mfaInfo.map(t=>tr._fromServerResponse(e.auth,t)))})}static _fromUser(e){return new tp(e)}async getSession(){return th._fromIdtoken(await this.user.getIdToken(),this.user)}async enroll(e,t){let r=await this.getSession(),n=await q(this.user,e._process(this.user.auth,r,t));return await this.user._updateTokensIfNecessary(n),this.user.reload()}async unenroll(e){let t="string"==typeof e?e:e.uid,r=await this.user.getIdToken();try{var n,i;let e=await q(this.user,(n=this.user.auth,i={idToken:r,mfaEnrollmentId:t},I(n,"POST","/v2/accounts/mfaEnrollment:withdraw",C(n,i))));this.enrolledFactors=this.enrolledFactors.filter(({uid:e})=>e!==t),await this.user._updateTokensIfNecessary(e),await this.user.reload()}catch(e){throw e}}}new WeakMap;let tg="__sak";class tm{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{if(!this.storage)return Promise.resolve(!1);return this.storage.setItem(tg,"1"),this.storage.removeItem(tg),Promise.resolve(!0)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){let t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class ty extends tm{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=ep(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(let t of Object.keys(this.listeners)){let r=this.storage.getItem(t),n=this.localCache[t];r!==n&&e(t,n,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((e,t,r)=>{this.notifyListeners(e,r)});return}let r=e.key;t?this.detachListener():this.stopPolling();let n=()=>{let e=this.storage.getItem(r);(t||this.localCache[r]!==e)&&this.notifyListeners(r,e)},s=this.storage.getItem(r);(0,i.w1)()&&10===document.documentMode&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(n,10):n()}notifyListeners(e,t){this.localCache[e]=t;let r=this.listeners[e];if(r)for(let e of Array.from(r))e(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){let t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}ty.type="LOCAL";class tv extends tm{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}tv.type="SESSION";class tb{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){let t=this.receivers.find(t=>t.isListeningto(e));if(t)return t;let r=new tb(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){let{eventId:t,eventType:r,data:n}=e.data,i=this.handlersMap[r];if(!(null==i?void 0:i.size))return;e.ports[0].postMessage({status:"ack",eventId:t,eventType:r});let s=Array.from(i).map(async t=>t(e.origin,n)),a=await Promise.all(s.map(async e=>{try{let t=await e;return{fulfilled:!0,value:t}}catch(e){return{fulfilled:!1,reason:e}}}));e.ports[0].postMessage({status:"done",eventId:t,eventType:r,response:a})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function tw(e="",t=10){let r="";for(let e=0;e<t;e++)r+=Math.floor(10*Math.random());return e+r}tb.receivers=[];class t_{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){let n,i;let s="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!s)throw Error("connection_unavailable");return new Promise((a,o)=>{let l=tw("",20);s.port1.start();let u=setTimeout(()=>{o(Error("unsupported_event"))},r);i={messageChannel:s,onMessage(e){if(e.data.eventId===l)switch(e.data.status){case"ack":clearTimeout(u),n=setTimeout(()=>{o(Error("timeout"))},3e3);break;case"done":clearTimeout(n),a(e.data.response);break;default:clearTimeout(u),clearTimeout(n),o(Error("invalid_response"))}}},this.handlers.add(i),s.port1.addEventListener("message",i.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[s.port2])}).finally(()=>{i&&this.removeMessageHandler(i)})}}function tS(){return window}function tE(){return void 0!==tS().WorkerGlobalScope&&"function"==typeof tS().importScripts}async function tx(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}let tT="firebaseLocalStorageDb",tC="firebaseLocalStorage",tI="fbase_key";class tR{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function tk(e,t){return e.transaction([tC],t?"readwrite":"readonly").objectStore(tC)}function tP(){let e=indexedDB.open(tT,1);return new Promise((t,r)=>{e.addEventListener("error",()=>{r(e.error)}),e.addEventListener("upgradeneeded",()=>{let t=e.result;try{t.createObjectStore(tC,{keyPath:tI})}catch(e){r(e)}}),e.addEventListener("success",async()=>{let r=e.result;r.objectStoreNames.contains(tC)?t(r):(r.close(),await new tR(indexedDB.deleteDatabase(tT)).toPromise(),t(await tP()))})})}async function tO(e,t,r){return new tR(tk(e,!0).put({[tI]:t,value:r})).toPromise()}async function tA(e,t){let r=tk(e,!1).get(t),n=await new tR(r).toPromise();return void 0===n?null:n.value}function tN(e,t){return new tR(tk(e,!0).delete(t)).toPromise()}class tD{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db||(this.db=await tP()),this.db}async _withRetries(e){let t=0;for(;;)try{let t=await this._openDb();return await e(t)}catch(e){if(t++>3)throw e;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return tE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=tb._getInstance(tE()?self:null),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await tx(),!this.activeServiceWorker)return;this.sender=new t_(this.activeServiceWorker);let r=await this.sender._send("ping",{},800);r&&(null===(e=r[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=r[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){var t;if(this.sender&&this.activeServiceWorker&&((null===(t=null==navigator?void 0:navigator.serviceWorker)||void 0===t?void 0:t.controller)||null)===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(e){}}async _isAvailable(){try{if(!indexedDB)return!1;let e=await tP();return await tO(e,tg,"1"),await tN(e,tg),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>tO(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){let t=await this._withRetries(t=>tA(t,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>tN(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){let e=await this._withRetries(e=>new tR(tk(e,!1).getAll()).toPromise());if(!e||0!==this.pendingWrites)return[];let t=[],r=new Set;if(0!==e.length)for(let{fbase_key:n,value:i}of e)r.add(n),JSON.stringify(this.localCache[n])!==JSON.stringify(i)&&(this.notifyListeners(n,i),t.push(n));for(let e of Object.keys(this.localCache))this.localCache[e]&&!r.has(e)&&(this.notifyListeners(e,null),t.push(e));return t}notifyListeners(e,t){this.localCache[e]=t;let r=this.listeners[e];if(r)for(let e of Array.from(r))e(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}function tM(e,t){return I(e,"POST","/v2/accounts/mfaSignIn:start",C(e,t))}tD.type="LOCAL",eE("rcb"),new _(3e4,6e4);let tL="recaptcha";async function tj(e,t,r){var n;if(!e._getRecaptchaConfig())try{await eP(e)}catch(e){console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let i;if(i="string"==typeof t?{phoneNumber:t}:t,"session"in i){let t=i.session;if("phoneNumber"in i){y("enroll"===t.type,e,"internal-error");let n={idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"}},s=async(e,t)=>{if(t.phoneEnrollmentInfo.captchaResponse===eC){y((null==r?void 0:r.type)===tL,e,"argument-error");let n=await t$(e,t,r);return tf(e,n)}return tf(e,t)},a=ek(e,n,"mfaSmsEnrollment",s,"PHONE_PROVIDER");return(await a.catch(e=>Promise.reject(e))).phoneSessionInfo.sessionInfo}{y("signin"===t.type,e,"internal-error");let s=(null===(n=i.multiFactorHint)||void 0===n?void 0:n.uid)||i.multiFactorUid;y(s,e,"missing-multi-factor-info");let a={mfaPendingCredential:t.credential,mfaEnrollmentId:s,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}},o=async(e,t)=>{if(t.phoneSignInInfo.captchaResponse===eC){y((null==r?void 0:r.type)===tL,e,"argument-error");let n=await t$(e,t,r);return tM(e,n)}return tM(e,t)},l=ek(e,a,"mfaSmsSignIn",o,"PHONE_PROVIDER");return(await l.catch(e=>Promise.reject(e))).phoneResponseInfo.sessionInfo}}{let t={phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"},n=async(e,t)=>{if(t.captchaResponse===eC){y((null==r?void 0:r.type)===tL,e,"argument-error");let n=await t$(e,t,r);return eq(e,n)}return eq(e,t)},s=ek(e,t,"sendVerificationCode",n,"PHONE_PROVIDER");return(await s.catch(e=>Promise.reject(e))).sessionInfo}}finally{null==r||r._reset()}}async function t$(e,t,r){y(r.type===tL,e,"argument-error");let n=await r.verify();y("string"==typeof n,e,"argument-error");let i=Object.assign({},t);if("phoneEnrollmentInfo"in i){let e=i.phoneEnrollmentInfo.phoneNumber,t=i.phoneEnrollmentInfo.captchaResponse,r=i.phoneEnrollmentInfo.clientType,s=i.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(i,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:n,captchaResponse:t,clientType:r,recaptchaVersion:s}}),i}if(!("phoneSignInInfo"in i))return Object.assign(i,{recaptchaToken:n}),i;{let e=i.phoneSignInInfo.captchaResponse,t=i.phoneSignInInfo.clientType,r=i.phoneSignInInfo.recaptchaVersion;return Object.assign(i,{phoneSignInInfo:{recaptchaToken:n,captchaResponse:e,clientType:t,recaptchaVersion:r}}),i}}class tF{constructor(e){this.providerId=tF.PROVIDER_ID,this.auth=ew(e)}verifyPhoneNumber(e,t){return tj(this.auth,e,(0,i.m9)(t))}static credential(e,t){return eK._fromVerification(e,t)}static credentialFromResult(e){return tF.credentialFromTaggedObject(e)}static credentialFromError(e){return tF.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;let{phoneNumber:t,temporaryProof:r}=e;return t&&r?eK._fromTokenResponse(t,r):null}}function tU(e,t){return t?et(t):(y(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}tF.PROVIDER_ID="phone",tF.PHONE_SIGN_IN_METHOD="phone";class tV extends eN{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return eV(e,this._buildIdpRequest())}_linkToIdToken(e,t){return eV(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return eV(e,this._buildIdpRequest())}_buildIdpRequest(e){let t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function tB(e){return te(e.auth,new tV(e),e.bypassAuthState)}function tq(e){let{auth:t,user:r}=e;return y(r,t,"internal-error"),e7(r,new tV(e),e.bypassAuthState)}async function tz(e){let{auth:t,user:r}=e;return y(r,t,"internal-error"),e8(r,new tV(e),e.bypassAuthState)}class tH{constructor(e,t,r,n,i=!1){this.auth=e,this.resolver=r,this.user=n,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(e){this.reject(e)}})}async onAuthEvent(e){let{urlResponse:t,sessionId:r,postBody:n,tenantId:i,error:s,type:a}=e;if(s){this.reject(s);return}let o={auth:this.auth,requestUri:t,sessionId:r,tenantId:i||void 0,postBody:n||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(o))}catch(e){this.reject(e)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return tB;case"linkViaPopup":case"linkViaRedirect":return tz;case"reauthViaPopup":case"reauthViaRedirect":return tq;default:d(this.auth,"internal-error")}}resolve(e){var t,r;t=this.pendingPromise,r="Pending promise was never set",t||v(r),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){var t,r;t=this.pendingPromise,r="Pending promise was never set",t||v(r),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}let tG=new _(2e3,1e4);async function tW(e,t,r){if((0,n.rh)(e.app))return Promise.reject(f(e,"operation-not-supported-in-this-environment"));let i=ew(e);!function(e,t,r){if(!(t instanceof r))throw r.name!==t.constructor.name&&d(e,"argument-error"),p(e,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}(e,t,eY);let s=tU(i,r);return new tK(i,"signInViaPopup",t,s).executeNotNull()}class tK extends tH{constructor(e,t,r,n,i){super(e,t,n,i),this.provider=r,this.authWindow=null,this.pollId=null,tK.currentPopupAction&&tK.currentPopupAction.cancel(),tK.currentPopupAction=this}async executeNotNull(){let e=await this.execute();return y(e,this.auth,"internal-error"),e}async onExecution(){var e,t;e=1===this.filter.length,t="Popup operations only handle one event",e||v(t);let r=tw();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],r),this.authWindow.associatedEvent=r,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(f(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(f(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,tK.currentPopupAction=null}pollUserCancellation(){let e=()=>{var t,r;if(null===(r=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===r?void 0:r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(f(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,tG.get())};e()}}tK.currentPopupAction=null;let tJ=new Map;class tX extends tH{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=tJ.get(this.auth._key());if(!e){try{let t=await tY(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(t)}catch(t){e=()=>Promise.reject(t)}tJ.set(this.auth._key(),e)}return this.bypassAuthState||tJ.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"===e.type){this.resolve(null);return}if(e.eventId){let t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function tY(e,t){let r=t0(t),n=tZ(e);if(!await n._isAvailable())return!1;let i=await n._get(r)==="true";return await n._remove(r),i}function tQ(e,t){tJ.set(e._key(),t)}function tZ(e){return et(e._redirectPersistence)}function t0(e){return en("pendingRedirect",e.config.apiKey,e.name)}async function t1(e,t,r=!1){if((0,n.rh)(e.app))return Promise.reject(g(e));let i=ew(e),s=tU(i,t),a=new tX(i,s,r),o=await a.execute();return o&&!r&&(delete o.user._redirectEventId,await i._persistUserIfCurrent(o.user),await i._setRedirectUser(null,t)),o}class t2{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return t9(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!t9(e)){let n=(null===(r=e.error.code)||void 0===r?void 0:r.split("auth/")[1])||"internal-error";t.onError(f(this.auth,n))}else t.onAuthEvent(e)}isEventForConsumer(e,t){let r=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(t4(e))}saveEventToCache(e){this.cachedEventUids.add(t4(e)),this.lastProcessedEventTime=Date.now()}}function t4(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(e=>e).join("-")}function t9({type:e,error:t}){return"unknown"===e&&(null==t?void 0:t.code)==="auth/no-auth-event"}async function t6(e,t={}){return I(e,"GET","/v1/projects",t)}let t5=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,t3=/^https?/;async function t8(e){if(e.config.emulator)return;let{authorizedDomains:t}=await t6(e);for(let e of t)try{if(function(e){let t=b(),{protocol:r,hostname:n}=new URL(t);if(e.startsWith("chrome-extension://")){let i=new URL(e);return""===i.hostname&&""===n?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&i.hostname===n}if(!t3.test(r))return!1;if(t5.test(e))return n===e;let i=e.replace(/\./g,"\\.");return RegExp("^(.+\\."+i+"|"+i+")$","i").test(n)}(e))return}catch(e){}d(e,"unauthorized-domain")}let t7=new _(3e4,6e4);function re(){let e=tS().___jsl;if(null==e?void 0:e.H){for(let t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let t=0;t<e.CP.length;t++)e.CP[t]=null}}let rt=null,rr=new _(5e3,15e3),rn={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ri=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);async function rs(e){let t=await (rt=rt||new Promise((t,r)=>{var n,i,s,a;function o(){re(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{re(),r(f(e,"network-request-failed"))},timeout:t7.get()})}if(null===(i=null===(n=tS().gapi)||void 0===n?void 0:n.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else if(null===(s=tS().gapi)||void 0===s?void 0:s.load)o();else{let t=eE("iframefcb");return tS()[t]=()=>{gapi.load?o():r(f(e,"network-request-failed"))},(a=`${eS.gapiScript}?onload=${t}`,eS.loadJS(a)).catch(e=>r(e))}}).catch(e=>{throw rt=null,e})),r=tS().gapi;return y(r,e,"internal-error"),t.open({where:document.body,url:function(e){let t=e.config;y(t.authDomain,e,"auth-domain-config-required");let r=t.emulator?S(t,"emulator/auth/iframe"):`https://${e.config.authDomain}/__/auth/iframe`,s={apiKey:t.apiKey,appName:e.name,v:n.Jn},a=ri.get(e.config.apiHost);a&&(s.eid=a);let o=e._getFrameworks();return o.length&&(s.fw=o.join(",")),`${r}?${(0,i.xO)(s).slice(1)}`}(e),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:rn,dontclear:!0},t=>new Promise(async(r,n)=>{await t.restyle({setHideOnLeave:!1});let i=f(e,"network-request-failed"),s=tS().setTimeout(()=>{n(i)},rr.get());function a(){tS().clearTimeout(s),r(t)}t.ping(a).then(a,()=>{n(i)})}))}let ra={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class ro{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}let rl=encodeURIComponent("fac");async function ru(e,t,r,s,a,o){y(e.config.authDomain,e,"auth-domain-config-required"),y(e.config.apiKey,e,"invalid-api-key");let l={apiKey:e.config.apiKey,appName:e.name,authType:r,redirectUrl:s,v:n.Jn,eventId:a};if(t instanceof eY)for(let[r,n]of(t.setDefaultLanguage(e.languageCode),l.providerId=t.providerId||"",(0,i.xb)(t.getCustomParameters())||(l.customParameters=JSON.stringify(t.getCustomParameters())),Object.entries(o||{})))l[r]=n;if(t instanceof eQ){let e=t.getScopes().filter(e=>""!==e);e.length>0&&(l.scopes=e.join(","))}for(let t of(e.tenantId&&(l.tid=e.tenantId),Object.keys(l)))void 0===l[t]&&delete l[t];let u=await e._getAppCheckToken(),c=u?`#${rl}=${encodeURIComponent(u)}`:"";return`${function({config:e}){return e.emulator?S(e,"emulator/auth/handler"):`https://${e.authDomain}/__/auth/handler`}(e)}?${(0,i.xO)(l).slice(1)}${c}`}let rc="webStorageSupport";class rh{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=tv,this._completeRedirectFn=t1,this._overrideRedirectResult=tQ}async _openPopup(e,t,r,n){var s,a,o;a=null===(s=this.eventManagers[e._key()])||void 0===s?void 0:s.manager,o="_initialize() not called before _openPopup()",a||v(o);let l=await ru(e,t,r,b(),n);return function(e,t,r,n=500,s=600){let a=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-n)/2,0).toString(),l="",u=Object.assign(Object.assign({},ra),{width:n.toString(),height:s.toString(),top:a,left:o}),c=(0,i.z$)().toLowerCase();r&&(l=el(c)?"_blank":r),ea(c)&&(t=t||"http://localhost",u.scrollbars="yes");let h=Object.entries(u).reduce((e,[t,r])=>`${e}${t}=${r},`,"");if(function(e=(0,i.z$)()){var t;return ef(e)&&!!(null===(t=window.navigator)||void 0===t?void 0:t.standalone)}(c)&&"_self"!==l)return function(e,t){let r=document.createElement("a");r.href=e,r.target=t;let n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),r.dispatchEvent(n)}(t||"",l),new ro(null);let d=window.open(t||"",l,h);y(d,e,"popup-blocked");try{d.focus()}catch(e){}return new ro(d)}(e,l,tw())}async _openRedirect(e,t,r,n){var i;return await this._originValidation(e),i=await ru(e,t,r,b(),n),tS().location.href=i,new Promise(()=>{})}_initialize(e){let t=e._key();if(this.eventManagers[t]){var r;let{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(r="If manager is not set, promise should be",n||v(r),n)}let n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}async initAndGetManager(e){let t=await rs(e),r=new t2(e);return t.register("authEvent",t=>(y(null==t?void 0:t.authEvent,e,"invalid-auth-event"),{status:r.onEvent(t.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(rc,{type:rc},r=>{var n;let i=null===(n=null==r?void 0:r[0])||void 0===n?void 0:n[rc];void 0!==i&&t(!!i),d(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=t8(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return ep()||eo()||ef()}}class rd{constructor(e){this.factorId=e}_process(e,t,r){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,r);case"signin":return this._finalizeSignIn(e,t.credential);default:return v("unexpected MultiFactorSessionType")}}}class rf extends rd{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new rf(e)}_finalizeEnroll(e,t,r){return I(e,"POST","/v2/accounts/mfaEnrollment:finalize",C(e,{idToken:t,displayName:r,phoneVerificationInfo:this.credential._makeVerificationRequest()}))}_finalizeSignIn(e,t){return I(e,"POST","/v2/accounts/mfaSignIn:finalize",C(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()}))}}class rp{constructor(){}static assertion(e){return rf._fromCredential(e)}}rp.FACTOR_ID="phone";class rg{static assertionForEnrollment(e,t){return rm._fromSecret(e,t)}static assertionForSignIn(e,t){return rm._fromEnrollmentId(e,t)}static async generateSecret(e){var t,r;y(void 0!==(null===(t=e.user)||void 0===t?void 0:t.auth),"internal-error");let n=await I(r=e.user.auth,"POST","/v2/accounts/mfaEnrollment:start",C(r,{idToken:e.credential,totpEnrollmentInfo:{}}));return ry._fromStartTotpMfaEnrollmentResponse(n,e.user.auth)}}rg.FACTOR_ID="totp";class rm extends rd{constructor(e,t,r){super("totp"),this.otp=e,this.enrollmentId=t,this.secret=r}static _fromSecret(e,t){return new rm(t,void 0,e)}static _fromEnrollmentId(e,t){return new rm(t,e)}async _finalizeEnroll(e,t,r){return y(void 0!==this.secret,e,"argument-error"),I(e,"POST","/v2/accounts/mfaEnrollment:finalize",C(e,{idToken:t,displayName:r,totpVerificationInfo:this.secret._makeTotpVerificationInfo(this.otp)}))}async _finalizeSignIn(e,t){y(void 0!==this.enrollmentId&&void 0!==this.otp,e,"argument-error");let r={verificationCode:this.otp};return I(e,"POST","/v2/accounts/mfaSignIn:finalize",C(e,{mfaPendingCredential:t,mfaEnrollmentId:this.enrollmentId,totpVerificationInfo:r}))}}class ry{constructor(e,t,r,n,i,s,a){this.sessionInfo=s,this.auth=a,this.secretKey=e,this.hashingAlgorithm=t,this.codeLength=r,this.codeIntervalSeconds=n,this.enrollmentCompletionDeadline=i}static _fromStartTotpMfaEnrollmentResponse(e,t){return new ry(e.totpSessionInfo.sharedSecretKey,e.totpSessionInfo.hashingAlgorithm,e.totpSessionInfo.verificationCodeLength,e.totpSessionInfo.periodSec,new Date(e.totpSessionInfo.finalizeEnrollmentTime).toUTCString(),e.totpSessionInfo.sessionInfo,t)}_makeTotpVerificationInfo(e){return{sessionInfo:this.sessionInfo,verificationCode:e}}generateQrCodeUrl(e,t){var r;let n=!1;return(rv(e)||rv(t))&&(n=!0),n&&(rv(e)&&(e=(null===(r=this.auth.currentUser)||void 0===r?void 0:r.email)||"unknownuser"),rv(t)&&(t=this.auth.name)),`otpauth://totp/${t}:${e}?secret=${this.secretKey}&issuer=${t}&algorithm=${this.hashingAlgorithm}&digits=${this.codeLength}`}}function rv(e){return void 0===e||(null==e?void 0:e.length)===0}var rb="@firebase/auth",rw="1.9.1";class r_{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){return(this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser)?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(t=>{e((null==t?void 0:t.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){y(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}let rS=(0,i.Pz)("authIdTokenMaxAge")||300,rE=null,rx=e=>async t=>{let r=t&&await t.getIdTokenResult(),n=r&&(new Date().getTime()-Date.parse(r.issuedAtTime))/1e3;if(n&&n>rS)return;let i=null==r?void 0:r.token;rE!==i&&(rE=i,await fetch(e,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function rT(e=(0,n.Mq)()){let t=(0,n.qX)(e,"auth");if(t.isInitialized())return t.getImmediate();let r=function(e,t){let r=(0,n.qX)(e,"auth");if(r.isInitialized()){let e=r.getImmediate(),n=r.getOptions();if((0,i.vZ)(n,null!=t?t:{}))return e;d(e,"already-initialized")}return r.initialize({options:t})}(e,{popupRedirectResolver:rh,persistence:[tD,ty,tv]}),s=(0,i.Pz)("authTokenSyncURL");if(s&&"boolean"==typeof isSecureContext&&isSecureContext){let e=new URL(s,location.origin);if(location.origin===e.origin){var a,o;let t=rx(e.toString());a=()=>t(r.currentUser),(0,i.m9)(r).beforeAuthStateChanged(t,a),o=e=>t(e),(0,i.m9)(r).onIdTokenChanged(o,void 0,void 0)}}let l=(0,i.q4)("auth");return l&&function(e,t,r){let n=ew(e);y(/^https?:\/\//.test(t),n,"invalid-emulator-scheme");let s=eO(t),{host:a,port:o}=function(e){let t=eO(e),r=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!r)return{host:"",port:null};let n=r[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(n);if(i){let e=i[1];return{host:e,port:eA(n.substr(e.length+1))}}{let[e,t]=n.split(":");return{host:e,port:eA(t)}}}(t),l=null===o?"":`:${o}`,u={url:`${s}//${a}${l}/`},c=Object.freeze({host:a,port:o,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:!1})});if(!n._canInitEmulator){y(n.config.emulator&&n.emulatorConfig,n,"emulator-config-failed"),y((0,i.vZ)(u,n.config.emulator)&&(0,i.vZ)(c,n.emulatorConfig),n,"emulator-config-failed");return}n.config.emulator=u,n.emulatorConfig=c,n.settings.appVerificationDisabledForTesting=!0,function(){function e(){let e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}(r,`http://${l}`),r}eS={loadJS:e=>new Promise((t,r)=>{let n=document.createElement("script");n.setAttribute("src",e),n.onload=t,n.onerror=e=>{let t=f("internal-error");t.customData=e,r(t)},n.type="text/javascript",n.charset="UTF-8",(function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document})().appendChild(n)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="},function(e){(0,n.Xd)(new o.wA("auth",(t,{options:r})=>{let n=t.getProvider("app").getImmediate(),i=t.getProvider("heartbeat"),s=t.getProvider("app-check-internal"),{apiKey:a,authDomain:o}=n.options;y(a&&!a.includes(":"),"invalid-api-key",{appName:n.name});let l=new eb(n,i,s,{apiKey:a,authDomain:o,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:eg(e)});return function(e,t){let r=(null==t?void 0:t.persistence)||[],n=(Array.isArray(r)?r:[r]).map(et);(null==t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(n,null==t?void 0:t.popupRedirectResolver)}(l,r),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),(0,n.Xd)(new o.wA("auth-internal",e=>new r_(ew(e.getProvider("auth").getImmediate())),"PRIVATE").setInstantiationMode("EXPLICIT")),(0,n.KN)(rb,rw,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(e)),(0,n.KN)(rb,rw,"esm2017")}("Browser")},7589:(e,t,r)=>{"use strict";r.d(t,{ad:()=>o9});var n,i,s,a,o,l,u,c,h,d,f,p,g,m,y=r(459),v=r(2596),b=r(23),w=r(6600),_="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},S={};(function(){function e(){this.blockSize=-1,this.blockSize=64,this.g=[,,,,],this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function t(e,t,r){r||(r=0);var n=Array(16);if("string"==typeof t)for(var i=0;16>i;++i)n[i]=t.charCodeAt(r++)|t.charCodeAt(r++)<<8|t.charCodeAt(r++)<<16|t.charCodeAt(r++)<<24;else for(i=0;16>i;++i)n[i]=t[r++]|t[r++]<<8|t[r++]<<16|t[r++]<<24;t=e.g[0],r=e.g[1],i=e.g[2];var s=e.g[3],a=t+(s^r&(i^s))+n[0]+3614090360&4294967295;a=s+(i^(t=r+(a<<7&4294967295|a>>>25))&(r^i))+n[1]+3905402710&4294967295,a=i+(r^(s=t+(a<<12&4294967295|a>>>20))&(t^r))+n[2]+606105819&4294967295,a=r+(t^(i=s+(a<<17&4294967295|a>>>15))&(s^t))+n[3]+3250441966&4294967295,a=t+(s^(r=i+(a<<22&4294967295|a>>>10))&(i^s))+n[4]+4118548399&4294967295,a=s+(i^(t=r+(a<<7&4294967295|a>>>25))&(r^i))+n[5]+1200080426&4294967295,a=i+(r^(s=t+(a<<12&4294967295|a>>>20))&(t^r))+n[6]+2821735955&4294967295,a=r+(t^(i=s+(a<<17&4294967295|a>>>15))&(s^t))+n[7]+4249261313&4294967295,a=t+(s^(r=i+(a<<22&4294967295|a>>>10))&(i^s))+n[8]+1770035416&4294967295,a=s+(i^(t=r+(a<<7&4294967295|a>>>25))&(r^i))+n[9]+2336552879&4294967295,a=i+(r^(s=t+(a<<12&4294967295|a>>>20))&(t^r))+n[10]+4294925233&4294967295,a=r+(t^(i=s+(a<<17&4294967295|a>>>15))&(s^t))+n[11]+2304563134&4294967295,a=t+(s^(r=i+(a<<22&4294967295|a>>>10))&(i^s))+n[12]+1804603682&4294967295,a=s+(i^(t=r+(a<<7&4294967295|a>>>25))&(r^i))+n[13]+4254626195&4294967295,a=i+(r^(s=t+(a<<12&4294967295|a>>>20))&(t^r))+n[14]+2792965006&4294967295,a=r+(t^(i=s+(a<<17&4294967295|a>>>15))&(s^t))+n[15]+1236535329&4294967295,r=i+(a<<22&4294967295|a>>>10),a=t+(i^s&(r^i))+n[1]+4129170786&4294967295,t=r+(a<<5&4294967295|a>>>27),a=s+(r^i&(t^r))+n[6]+3225465664&4294967295,s=t+(a<<9&4294967295|a>>>23),a=i+(t^r&(s^t))+n[11]+643717713&4294967295,i=s+(a<<14&4294967295|a>>>18),a=r+(s^t&(i^s))+n[0]+3921069994&4294967295,r=i+(a<<20&4294967295|a>>>12),a=t+(i^s&(r^i))+n[5]+3593408605&4294967295,t=r+(a<<5&4294967295|a>>>27),a=s+(r^i&(t^r))+n[10]+38016083&4294967295,s=t+(a<<9&4294967295|a>>>23),a=i+(t^r&(s^t))+n[15]+3634488961&4294967295,i=s+(a<<14&4294967295|a>>>18),a=r+(s^t&(i^s))+n[4]+3889429448&4294967295,r=i+(a<<20&4294967295|a>>>12),a=t+(i^s&(r^i))+n[9]+568446438&4294967295,t=r+(a<<5&4294967295|a>>>27),a=s+(r^i&(t^r))+n[14]+3275163606&4294967295,s=t+(a<<9&4294967295|a>>>23),a=i+(t^r&(s^t))+n[3]+4107603335&4294967295,i=s+(a<<14&4294967295|a>>>18),a=r+(s^t&(i^s))+n[8]+1163531501&4294967295,r=i+(a<<20&4294967295|a>>>12),a=t+(i^s&(r^i))+n[13]+2850285829&4294967295,t=r+(a<<5&4294967295|a>>>27),a=s+(r^i&(t^r))+n[2]+4243563512&4294967295,s=t+(a<<9&4294967295|a>>>23),a=i+(t^r&(s^t))+n[7]+1735328473&4294967295,i=s+(a<<14&4294967295|a>>>18),a=r+(s^t&(i^s))+n[12]+2368359562&4294967295,a=t+((r=i+(a<<20&4294967295|a>>>12))^i^s)+n[5]+4294588738&4294967295,a=s+((t=r+(a<<4&4294967295|a>>>28))^r^i)+n[8]+2272392833&4294967295,a=i+((s=t+(a<<11&4294967295|a>>>21))^t^r)+n[11]+1839030562&4294967295,a=r+((i=s+(a<<16&4294967295|a>>>16))^s^t)+n[14]+4259657740&4294967295,a=t+((r=i+(a<<23&4294967295|a>>>9))^i^s)+n[1]+2763975236&4294967295,a=s+((t=r+(a<<4&4294967295|a>>>28))^r^i)+n[4]+1272893353&4294967295,a=i+((s=t+(a<<11&4294967295|a>>>21))^t^r)+n[7]+4139469664&4294967295,a=r+((i=s+(a<<16&4294967295|a>>>16))^s^t)+n[10]+3200236656&4294967295,a=t+((r=i+(a<<23&4294967295|a>>>9))^i^s)+n[13]+681279174&4294967295,a=s+((t=r+(a<<4&4294967295|a>>>28))^r^i)+n[0]+3936430074&4294967295,a=i+((s=t+(a<<11&4294967295|a>>>21))^t^r)+n[3]+3572445317&4294967295,a=r+((i=s+(a<<16&4294967295|a>>>16))^s^t)+n[6]+76029189&4294967295,a=t+((r=i+(a<<23&4294967295|a>>>9))^i^s)+n[9]+3654602809&4294967295,a=s+((t=r+(a<<4&4294967295|a>>>28))^r^i)+n[12]+3873151461&4294967295,a=i+((s=t+(a<<11&4294967295|a>>>21))^t^r)+n[15]+530742520&4294967295,a=r+((i=s+(a<<16&4294967295|a>>>16))^s^t)+n[2]+3299628645&4294967295,r=i+(a<<23&4294967295|a>>>9),a=t+(i^(r|~s))+n[0]+4096336452&4294967295,t=r+(a<<6&4294967295|a>>>26),a=s+(r^(t|~i))+n[7]+1126891415&4294967295,s=t+(a<<10&4294967295|a>>>22),a=i+(t^(s|~r))+n[14]+2878612391&4294967295,i=s+(a<<15&4294967295|a>>>17),a=r+(s^(i|~t))+n[5]+4237533241&4294967295,r=i+(a<<21&4294967295|a>>>11),a=t+(i^(r|~s))+n[12]+1700485571&4294967295,t=r+(a<<6&4294967295|a>>>26),a=s+(r^(t|~i))+n[3]+2399980690&4294967295,s=t+(a<<10&4294967295|a>>>22),a=i+(t^(s|~r))+n[10]+4293915773&4294967295,i=s+(a<<15&4294967295|a>>>17),a=r+(s^(i|~t))+n[1]+2240044497&4294967295,r=i+(a<<21&4294967295|a>>>11),a=t+(i^(r|~s))+n[8]+1873313359&4294967295,t=r+(a<<6&4294967295|a>>>26),a=s+(r^(t|~i))+n[15]+4264355552&4294967295,s=t+(a<<10&4294967295|a>>>22),a=i+(t^(s|~r))+n[6]+2734768916&4294967295,i=s+(a<<15&4294967295|a>>>17),a=r+(s^(i|~t))+n[13]+1309151649&4294967295,r=i+(a<<21&4294967295|a>>>11),a=t+(i^(r|~s))+n[4]+4149444226&4294967295,t=r+(a<<6&4294967295|a>>>26),a=s+(r^(t|~i))+n[11]+3174756917&4294967295,s=t+(a<<10&4294967295|a>>>22),a=i+(t^(s|~r))+n[2]+718787259&4294967295,i=s+(a<<15&4294967295|a>>>17),a=r+(s^(i|~t))+n[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(a<<21&4294967295|a>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+s&4294967295}function r(e,t){this.h=t;for(var r=[],n=!0,i=e.length-1;0<=i;i--){var s=0|e[i];n&&s==t||(r[i]=s,n=!1)}this.g=r}!function(e,t){function r(){}r.prototype=t.prototype,e.D=t.prototype,e.prototype=new r,e.prototype.constructor=e,e.C=function(e,r,n){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[r].apply(e,i)}}(e,function(){this.blockSize=-1}),e.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},e.prototype.u=function(e,r){void 0===r&&(r=e.length);for(var n=r-this.blockSize,i=this.B,s=this.h,a=0;a<r;){if(0==s)for(;a<=n;)t(this,e,a),a+=this.blockSize;if("string"==typeof e){for(;a<r;)if(i[s++]=e.charCodeAt(a++),s==this.blockSize){t(this,i),s=0;break}}else for(;a<r;)if(i[s++]=e[a++],s==this.blockSize){t(this,i),s=0;break}}this.h=s,this.o+=r},e.prototype.v=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var r=8*this.o;for(t=e.length-8;t<e.length;++t)e[t]=255&r,r/=256;for(this.u(e),e=Array(16),t=r=0;4>t;++t)for(var n=0;32>n;n+=8)e[r++]=this.g[t]>>>n&255;return e};var s,a={};function o(e){var t;return -128<=e&&128>e?(t=function(e){return new r([0|e],0>e?-1:0)},Object.prototype.hasOwnProperty.call(a,e)?a[e]:a[e]=t(e)):new r([0|e],0>e?-1:0)}function l(e){if(isNaN(e)||!isFinite(e))return u;if(0>e)return p(l(-e));for(var t=[],n=1,i=0;e>=n;i++)t[i]=e/n|0,n*=4294967296;return new r(t,0)}var u=o(0),c=o(1),h=o(16777216);function d(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function f(e){return -1==e.h}function p(e){for(var t=e.g.length,n=[],i=0;i<t;i++)n[i]=~e.g[i];return new r(n,~e.h).add(c)}function g(e,t){return e.add(p(t))}function m(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function y(e,t){this.g=e,this.h=t}function v(e,t){if(d(t))throw Error("division by zero");if(d(e))return new y(u,u);if(f(e))return t=v(p(e),t),new y(p(t.g),p(t.h));if(f(t))return t=v(e,p(t)),new y(p(t.g),t.h);if(30<e.g.length){if(f(e)||f(t))throw Error("slowDivide_ only works with positive integers.");for(var r=c,n=t;0>=n.l(e);)r=b(r),n=b(n);var i=w(r,1),s=w(n,1);for(n=w(n,2),r=w(r,2);!d(n);){var a=s.add(n);0>=a.l(e)&&(i=i.add(r),s=a),n=w(n,1),r=w(r,1)}return t=g(e,i.j(t)),new y(i,t)}for(i=u;0<=e.l(t);){for(n=48>=(n=Math.ceil(Math.log(r=Math.max(1,Math.floor(e.m()/t.m())))/Math.LN2))?1:Math.pow(2,n-48),a=(s=l(r)).j(t);f(a)||0<a.l(e);)r-=n,a=(s=l(r)).j(t);d(s)&&(s=c),i=i.add(s),e=g(e,a)}return new y(i,e)}function b(e){for(var t=e.g.length+1,n=[],i=0;i<t;i++)n[i]=e.i(i)<<1|e.i(i-1)>>>31;return new r(n,e.h)}function w(e,t){var n=t>>5;t%=32;for(var i=e.g.length-n,s=[],a=0;a<i;a++)s[a]=0<t?e.i(a+n)>>>t|e.i(a+n+1)<<32-t:e.i(a+n);return new r(s,e.h)}(s=r.prototype).m=function(){if(f(this))return-p(this).m();for(var e=0,t=1,r=0;r<this.g.length;r++){var n=this.i(r);e+=(0<=n?n:4294967296+n)*t,t*=4294967296}return e},s.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(d(this))return"0";if(f(this))return"-"+p(this).toString(e);for(var t=l(Math.pow(e,6)),r=this,n="";;){var i=v(r,t).g,s=((0<(r=g(r,i.j(t))).g.length?r.g[0]:r.h)>>>0).toString(e);if(d(r=i))return s+n;for(;6>s.length;)s="0"+s;n=s+n}},s.i=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},s.l=function(e){return f(e=g(this,e))?-1:d(e)?0:1},s.abs=function(){return f(this)?p(this):this},s.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0,s=0;s<=t;s++){var a=i+(65535&this.i(s))+(65535&e.i(s)),o=(a>>>16)+(this.i(s)>>>16)+(e.i(s)>>>16);i=o>>>16,a&=65535,o&=65535,n[s]=o<<16|a}return new r(n,-2147483648&n[n.length-1]?-1:0)},s.j=function(e){if(d(this)||d(e))return u;if(f(this))return f(e)?p(this).j(p(e)):p(p(this).j(e));if(f(e))return p(this.j(p(e)));if(0>this.l(h)&&0>e.l(h))return l(this.m()*e.m());for(var t=this.g.length+e.g.length,n=[],i=0;i<2*t;i++)n[i]=0;for(i=0;i<this.g.length;i++)for(var s=0;s<e.g.length;s++){var a=this.i(i)>>>16,o=65535&this.i(i),c=e.i(s)>>>16,g=65535&e.i(s);n[2*i+2*s]+=o*g,m(n,2*i+2*s),n[2*i+2*s+1]+=a*g,m(n,2*i+2*s+1),n[2*i+2*s+1]+=o*c,m(n,2*i+2*s+1),n[2*i+2*s+2]+=a*c,m(n,2*i+2*s+2)}for(i=0;i<t;i++)n[i]=n[2*i+1]<<16|n[2*i];for(i=t;i<2*t;i++)n[i]=0;return new r(n,0)},s.A=function(e){return v(this,e).h},s.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)&e.i(i);return new r(n,this.h&e.h)},s.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)|e.i(i);return new r(n,this.h|e.h)},s.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)^e.i(i);return new r(n,this.h^e.h)},e.prototype.digest=e.prototype.v,e.prototype.reset=e.prototype.s,e.prototype.update=e.prototype.u,i=S.Md5=e,r.prototype.add=r.prototype.add,r.prototype.multiply=r.prototype.j,r.prototype.modulo=r.prototype.A,r.prototype.compare=r.prototype.l,r.prototype.toNumber=r.prototype.m,r.prototype.toString=r.prototype.toString,r.prototype.getBits=r.prototype.i,r.fromNumber=l,r.fromString=function e(t,r){if(0==t.length)throw Error("number format error: empty string");if(2>(r=r||10)||36<r)throw Error("radix out of range: "+r);if("-"==t.charAt(0))return p(e(t.substring(1),r));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=l(Math.pow(r,8)),i=u,s=0;s<t.length;s+=8){var a=Math.min(8,t.length-s),o=parseInt(t.substring(s,s+a),r);8>a?(a=l(Math.pow(r,a)),i=i.j(a).add(l(o))):i=(i=i.j(n)).add(l(o))}return i},n=S.Integer=r}).apply(void 0!==_?_:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var E="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},x={};(function(){var e,t,r,n="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,r){return e==Array.prototype||e==Object.prototype||(e[t]=r.value),e},i=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof E&&E];for(var t=0;t<e.length;++t){var r=e[t];if(r&&r.Math==Math)return r}throw Error("Cannot find global object")}(this);!function(e,t){if(t)e:{var r=i;e=e.split(".");for(var s=0;s<e.length-1;s++){var a=e[s];if(!(a in r))break e;r=r[a]}(t=t(s=r[e=e[e.length-1]]))!=s&&null!=t&&n(r,e,{configurable:!0,writable:!0,value:t})}}("Array.prototype.values",function(e){return e||function(){var e,t,r,n,i;return e=this,t=function(e,t){return t},e instanceof String&&(e+=""),r=0,n=!1,(i={next:function(){if(!n&&r<e.length){var i=r++;return{value:t(i,e[i]),done:!1}}return n=!0,{done:!0,value:void 0}}})[Symbol.iterator]=function(){return i},i}});var f=f||{},p=this||self;function g(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function m(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function y(e,t,r){return e.call.apply(e.bind,arguments)}function v(e,t,r){if(!e)throw Error();if(2<arguments.length){var n=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,n),e.apply(t,r)}}return function(){return e.apply(t,arguments)}}function b(e,t,r){return(b=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?y:v).apply(null,arguments)}function w(e,t){var r=Array.prototype.slice.call(arguments,1);return function(){var t=r.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function _(e,t){function r(){}r.prototype=t.prototype,e.aa=t.prototype,e.prototype=new r,e.prototype.constructor=e,e.Qb=function(e,r,n){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[r].apply(e,i)}}function S(e){let t=e.length;if(0<t){let r=Array(t);for(let n=0;n<t;n++)r[n]=e[n];return r}return[]}function T(e,t){for(let t=1;t<arguments.length;t++){let r=arguments[t];if(g(r)){let t=e.length||0,n=r.length||0;e.length=t+n;for(let i=0;i<n;i++)e[t+i]=r[i]}else e.push(r)}}class C{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function I(e){return/^[\s\xa0]*$/.test(e)}function R(){var e=p.navigator;return e&&(e=e.userAgent)?e:""}function k(e){return k[" "](e),e}k[" "]=function(){};var P=-1!=R().indexOf("Gecko")&&!(-1!=R().toLowerCase().indexOf("webkit")&&-1==R().indexOf("Edge"))&&!(-1!=R().indexOf("Trident")||-1!=R().indexOf("MSIE"))&&-1==R().indexOf("Edge");function O(e,t,r){for(let n in e)t.call(r,e[n],n,e)}function A(e){let t={};for(let r in e)t[r]=e[r];return t}let N="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(e,t){let r,n;for(let t=1;t<arguments.length;t++){for(r in n=arguments[t])e[r]=n[r];for(let t=0;t<N.length;t++)r=N[t],Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}}class M{constructor(){this.h=this.g=null}add(e,t){let r=L.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}}var L=new C(()=>new j,e=>e.reset());class j{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let $,F=!1,U=new M,V=()=>{let e=p.Promise.resolve(void 0);$=()=>{e.then(B)}};var B=()=>{let e;for(var t;e=null,U.g&&(e=U.g,U.g=U.g.next,U.g||(U.h=null),e.next=null),t=e;){try{t.h.call(t.g)}catch(e){!function(e){p.setTimeout(()=>{throw e},0)}(e)}L.j(t),100>L.h&&(L.h++,t.next=L.g,L.g=t)}F=!1};function q(){this.s=this.s,this.C=this.C}function z(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}q.prototype.s=!1,q.prototype.ma=function(){this.s||(this.s=!0,this.N())},q.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},z.prototype.h=function(){this.defaultPrevented=!0};var H=function(){if(!p.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{let e=()=>{};p.addEventListener("test",e,t),p.removeEventListener("test",e,t)}catch(e){}return e}();function G(e,t){if(z.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var r=this.type=e.type,n=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(P){e:{try{k(t.nodeName);var i=!0;break e}catch(e){}i=!1}i||(t=null)}}else"mouseover"==r?t=e.fromElement:"mouseout"==r&&(t=e.toElement);this.relatedTarget=t,n?(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"==typeof e.pointerType?e.pointerType:W[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&G.aa.h.call(this)}}_(G,z);var W={2:"touch",3:"pen",4:"mouse"};G.prototype.h=function(){G.aa.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var K="closure_listenable_"+(1e6*Math.random()|0),J=0;function X(e,t,r,n,i){this.listener=e,this.proxy=null,this.src=t,this.type=r,this.capture=!!n,this.ha=i,this.key=++J,this.da=this.fa=!1}function Y(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function Q(e){this.src=e,this.g={},this.h=0}function Z(e,t){var r=t.type;if(r in e.g){var n,i=e.g[r],s=Array.prototype.indexOf.call(i,t,void 0);(n=0<=s)&&Array.prototype.splice.call(i,s,1),n&&(Y(t),0==e.g[r].length&&(delete e.g[r],e.h--))}}function ee(e,t,r,n){for(var i=0;i<e.length;++i){var s=e[i];if(!s.da&&s.listener==t&&!!r==s.capture&&s.ha==n)return i}return -1}Q.prototype.add=function(e,t,r,n,i){var s=e.toString();(e=this.g[s])||(e=this.g[s]=[],this.h++);var a=ee(e,t,n,i);return -1<a?(t=e[a],r||(t.fa=!1)):((t=new X(t,this.src,s,!!n,i)).fa=r,e.push(t)),t};var et="closure_lm_"+(1e6*Math.random()|0),er={};function en(e,t,r,n,i,s){if(!t)throw Error("Invalid event type");var a=m(i)?!!i.capture:!!i,o=eo(e);if(o||(e[et]=o=new Q(e)),(r=o.add(t,r,n,a,s)).proxy)return r;if(n=function e(t){return ea.call(e.src,e.listener,t)},r.proxy=n,n.src=e,n.listener=r,e.addEventListener)H||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),n,i);else if(e.attachEvent)e.attachEvent(es(t.toString()),n);else if(e.addListener&&e.removeListener)e.addListener(n);else throw Error("addEventListener and attachEvent are unavailable.");return r}function ei(e){if("number"!=typeof e&&e&&!e.da){var t=e.src;if(t&&t[K])Z(t.i,e);else{var r=e.type,n=e.proxy;t.removeEventListener?t.removeEventListener(r,n,e.capture):t.detachEvent?t.detachEvent(es(r),n):t.addListener&&t.removeListener&&t.removeListener(n),(r=eo(t))?(Z(r,e),0==r.h&&(r.src=null,t[et]=null)):Y(e)}}}function es(e){return e in er?er[e]:er[e]="on"+e}function ea(e,t){if(e.da)e=!0;else{t=new G(t,this);var r=e.listener,n=e.ha||e.src;e.fa&&ei(e),e=r.call(n,t)}return e}function eo(e){return(e=e[et])instanceof Q?e:null}var el="__closure_events_fn_"+(1e9*Math.random()>>>0);function eu(e){return"function"==typeof e?e:(e[el]||(e[el]=function(t){return e.handleEvent(t)}),e[el])}function ec(){q.call(this),this.i=new Q(this),this.M=this,this.F=null}function eh(e,t){var r,n=e.F;if(n)for(r=[];n;n=n.F)r.push(n);if(e=e.M,n=t.type||t,"string"==typeof t)t=new z(t,e);else if(t instanceof z)t.target=t.target||e;else{var i=t;D(t=new z(n,e),i)}if(i=!0,r)for(var s=r.length-1;0<=s;s--){var a=t.g=r[s];i=ed(a,n,!0,t)&&i}if(i=ed(a=t.g=e,n,!0,t)&&i,i=ed(a,n,!1,t)&&i,r)for(s=0;s<r.length;s++)i=ed(a=t.g=r[s],n,!1,t)&&i}function ed(e,t,r,n){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var a=t[s];if(a&&!a.da&&a.capture==r){var o=a.listener,l=a.ha||a.src;a.fa&&Z(e.i,a),i=!1!==o.call(l,n)&&i}}return i&&!n.defaultPrevented}function ef(e,t,r){if("function"==typeof e)r&&(e=b(e,r));else if(e&&"function"==typeof e.handleEvent)e=b(e.handleEvent,e);else throw Error("Invalid listener argument");return 2147483647<Number(t)?-1:p.setTimeout(e,t||0)}_(ec,q),ec.prototype[K]=!0,ec.prototype.removeEventListener=function(e,t,r,n){!function e(t,r,n,i,s){if(Array.isArray(r))for(var a=0;a<r.length;a++)e(t,r[a],n,i,s);else(i=m(i)?!!i.capture:!!i,n=eu(n),t&&t[K])?(t=t.i,(r=String(r).toString())in t.g&&-1<(n=ee(a=t.g[r],n,i,s))&&(Y(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete t.g[r],t.h--))):t&&(t=eo(t))&&(r=t.g[r.toString()],t=-1,r&&(t=ee(r,n,i,s)),(n=-1<t?r[t]:null)&&ei(n))}(this,e,t,r,n)},ec.prototype.N=function(){if(ec.aa.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var r=t.g[e],n=0;n<r.length;n++)Y(r[n]);delete t.g[e],t.h--}}this.F=null},ec.prototype.K=function(e,t,r,n){return this.i.add(String(e),t,!1,r,n)},ec.prototype.L=function(e,t,r,n){return this.i.add(String(e),t,!0,r,n)};class ep extends q{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:function e(t){t.g=ef(()=>{t.g=null,t.i&&(t.i=!1,e(t))},t.l);let r=t.h;t.h=null,t.m.apply(null,r)}(this)}N(){super.N(),this.g&&(p.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function eg(e){q.call(this),this.h=e,this.g={}}_(eg,q);var em=[];function ey(e){O(e.g,function(e,t){this.g.hasOwnProperty(t)&&ei(e)},e),e.g={}}eg.prototype.N=function(){eg.aa.N.call(this),ey(this)},eg.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ev=p.JSON.stringify,eb=p.JSON.parse,ew=class{stringify(e){return p.JSON.stringify(e,void 0)}parse(e){return p.JSON.parse(e,void 0)}};function e_(){}function eS(e){return e.h||(e.h=e.i())}function eE(){}e_.prototype.h=null;var ex={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function eT(){z.call(this,"d")}function eC(){z.call(this,"c")}_(eT,z),_(eC,z);var eI={},eR=null;function ek(){return eR=eR||new ec}function eP(e){z.call(this,eI.La,e)}function eO(e){let t=ek();eh(t,new eP(t))}function eA(e,t){z.call(this,eI.STAT_EVENT,e),this.stat=t}function eN(e){let t=ek();eh(t,new eA(t,e))}function eD(e,t){z.call(this,eI.Ma,e),this.size=t}function eM(e,t){if("function"!=typeof e)throw Error("Fn must not be null and must be a function");return p.setTimeout(function(){e()},t)}function eL(){this.g=!0}function ej(e,t,r,n){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var r=JSON.parse(t);if(r){for(e=0;e<r.length;e++)if(Array.isArray(r[e])){var n=r[e];if(!(2>n.length)){var i=n[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var a=1;a<i.length;a++)i[a]=""}}}}return ev(r)}catch(e){return t}}(e,r)+(n?" "+n:"")})}eI.La="serverreachability",_(eP,z),eI.STAT_EVENT="statevent",_(eA,z),eI.Ma="timingevent",_(eD,z),eL.prototype.xa=function(){this.g=!1},eL.prototype.info=function(){};var e$={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},eF={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function eU(){}function eV(e,t,r,n){this.j=e,this.i=t,this.l=r,this.R=n||1,this.U=new eg(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new eB}function eB(){this.i=null,this.g="",this.h=!1}_(eU,e_),eU.prototype.g=function(){return new XMLHttpRequest},eU.prototype.i=function(){return{}},t=new eU;var eq={},ez={};function eH(e,t,r){e.L=1,e.v=ta(tt(t)),e.m=r,e.P=!0,eG(e,null)}function eG(e,t){e.F=Date.now(),eK(e),e.A=tt(e.v);var r=e.A,n=e.R;Array.isArray(n)||(n=[String(n)]),tb(r.i,"t",n),e.C=0,r=e.j.J,e.h=new eB,e.g=t6(e.j,r?t:null,!e.m),0<e.O&&(e.M=new ep(b(e.Y,e,e.g),e.O)),t=e.U,r=e.g,n=e.ca;var i="readystatechange";Array.isArray(i)||(i&&(em[0]=i.toString()),i=em);for(var s=0;s<i.length;s++){var a=function e(t,r,n,i,s){if(i&&i.once)return function e(t,r,n,i,s){if(Array.isArray(r)){for(var a=0;a<r.length;a++)e(t,r[a],n,i,s);return null}return n=eu(n),t&&t[K]?t.L(r,n,m(i)?!!i.capture:!!i,s):en(t,r,n,!0,i,s)}(t,r,n,i,s);if(Array.isArray(r)){for(var a=0;a<r.length;a++)e(t,r[a],n,i,s);return null}return n=eu(n),t&&t[K]?t.K(r,n,m(i)?!!i.capture:!!i,s):en(t,r,n,!1,i,s)}(r,i[s],n||t.handleEvent,!1,t.h||t);if(!a)break;t.g[a.key]=a}t=e.H?A(e.H):{},e.m?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.m,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),eO(),function(e,t,r,n,i,s){e.info(function(){if(e.g){if(s)for(var a="",o=s.split("&"),l=0;l<o.length;l++){var u=o[l].split("=");if(1<u.length){var c=u[0];u=u[1];var h=c.split("_");a=2<=h.length&&"type"==h[1]?a+(c+"=")+u+"&":a+(c+"=redacted&")}}else a=null}else a=s;return"XMLHTTP REQ ("+n+") [attempt "+i+"]: "+t+"\n"+r+"\n"+a})}(e.i,e.u,e.A,e.l,e.R,e.m)}function eW(e){return!!e.g&&"GET"==e.u&&2!=e.L&&e.j.Ca}function eK(e){e.S=Date.now()+e.I,eJ(e,e.I)}function eJ(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=eM(b(e.ba,e),t)}function eX(e){e.B&&(p.clearTimeout(e.B),e.B=null)}function eY(e){0==e.j.G||e.J||t0(e.j,e)}function eQ(e){eX(e);var t=e.M;t&&"function"==typeof t.ma&&t.ma(),e.M=null,ey(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.ma())}function eZ(e,t){try{var r=e.j;if(0!=r.G&&(r.g==e||e9(r.h,e))){if(!e.K&&e9(r.h,e)&&3==r.G){try{var n=r.Da.g.parse(t)}catch(e){n=null}if(Array.isArray(n)&&3==n.length){var i=n;if(0==i[0]){e:if(!r.u){if(r.g){if(r.g.F+3e3<e.F)tZ(r),tq(r);else break e}tX(r),eN(18)}}else r.za=i[1],0<r.za-r.T&&37500>i[2]&&r.F&&0==r.v&&!r.C&&(r.C=eM(b(r.Za,r),6e3));if(1>=e4(r.h)&&r.ca){try{r.ca()}catch(e){}r.ca=void 0}}else t2(r,11)}else if((e.K||r.g==e)&&tZ(r),!I(t))for(i=r.Da.g.parse(t),t=0;t<i.length;t++){let o=i[t];if(r.T=o[0],o=o[1],2==r.G){if("c"==o[0]){r.K=o[1],r.ia=o[2];let t=o[3];null!=t&&(r.la=t,r.j.info("VER="+r.la));let i=o[4];null!=i&&(r.Aa=i,r.j.info("SVER="+r.Aa));let l=o[5];null!=l&&"number"==typeof l&&0<l&&(n=1.5*l,r.L=n,r.j.info("backChannelRequestTimeoutMs_="+n)),n=r;let u=e.g;if(u){let e=u.g?u.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var s=n.h;s.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(e6(s,s.h),s.h=null))}if(n.D){let e=u.g?u.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(n.ya=e,ts(n.I,n.D,e))}}if(r.G=3,r.l&&r.l.ua(),r.ba&&(r.R=Date.now()-e.F,r.j.info("Handshake RTT: "+r.R+"ms")),(n=r).qa=t9(n,n.J?n.ia:null,n.W),e.K){e5(n.h,e);var a=n.L;a&&(e.I=a),e.B&&(eX(e),eK(e)),n.g=e}else tJ(n);0<r.i.length&&tH(r)}else"stop"!=o[0]&&"close"!=o[0]||t2(r,7)}else 3==r.G&&("stop"==o[0]||"close"==o[0]?"stop"==o[0]?t2(r,7):tB(r):"noop"!=o[0]&&r.l&&r.l.ta(o),r.v=0)}}eO(4)}catch(e){}}eV.prototype.ca=function(e){e=e.target;let t=this.M;t&&3==t$(e)?t.j():this.Y(e)},eV.prototype.Y=function(e){try{if(e==this.g)e:{let h=t$(this.g);var t=this.g.Ba();let d=this.g.Z();if(!(3>h)&&(3!=h||this.g&&(this.h.h||this.g.oa()||tF(this.g)))){this.J||4!=h||7==t||(8==t||0>=d?eO(3):eO(2)),eX(this);var r=this.g.Z();this.X=r;t:if(eW(this)){var n=tF(this.g);e="";var i=n.length,s=4==t$(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){eQ(this),eY(this);var a="";break t}this.h.i=new p.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(n[t],{stream:!(s&&t==i-1)});n.length=0,this.h.g+=e,this.C=0,a=this.h.g}else a=this.g.oa();if(this.o=200==r,function(e,t,r,n,i,s,a){e.info(function(){return"XMLHTTP RESP ("+n+") [ attempt "+i+"]: "+t+"\n"+r+"\n"+s+" "+a})}(this.i,this.u,this.A,this.l,this.R,h,r),this.o){if(this.T&&!this.K){t:{if(this.g){var o,l=this.g;if((o=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(o)){var u=o;break t}}u=null}if(r=u)ej(this.i,this.l,r,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,eZ(this,r);else{this.o=!1,this.s=3,eN(12),eQ(this),eY(this);break e}}if(this.P){let e;for(r=!0;!this.J&&this.C<a.length;)if((e=function(e,t){var r=e.C,n=t.indexOf("\n",r);return -1==n?ez:isNaN(r=Number(t.substring(r,n)))?eq:(n+=1)+r>t.length?ez:(t=t.slice(n,n+r),e.C=n+r,t)}(this,a))==ez){4==h&&(this.s=4,eN(14),r=!1),ej(this.i,this.l,null,"[Incomplete Response]");break}else if(e==eq){this.s=4,eN(15),ej(this.i,this.l,a,"[Invalid Chunk]"),r=!1;break}else ej(this.i,this.l,e,null),eZ(this,e);if(eW(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=h||0!=a.length||this.h.h||(this.s=1,eN(16),r=!1),this.o=this.o&&r,r){if(0<a.length&&!this.W){this.W=!0;var c=this.j;c.g==this&&c.ba&&!c.M&&(c.j.info("Great, no buffering proxy detected. Bytes received: "+a.length),tY(c),c.M=!0,eN(11))}}else ej(this.i,this.l,a,"[Invalid Chunked Response]"),eQ(this),eY(this)}else ej(this.i,this.l,a,null),eZ(this,a);4==h&&eQ(this),this.o&&!this.J&&(4==h?t0(this.j,this):(this.o=!1,eK(this)))}else(function(e){let t={};e=(e.g&&2<=t$(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let n=0;n<e.length;n++){if(I(e[n]))continue;var r=function(e){var t=1;e=e.split(":");let r=[];for(;0<t&&e.length;)r.push(e.shift()),t--;return e.length&&r.push(e.join(":")),r}(e[n]);let i=r[0];if("string"!=typeof(r=r[1]))continue;r=r.trim();let s=t[i]||[];t[i]=s,s.push(r)}!function(e,t){for(let r in e)t.call(void 0,e[r],r,e)}(t,function(e){return e.join(", ")})})(this.g),400==r&&0<a.indexOf("Unknown SID")?(this.s=3,eN(12)):(this.s=0,eN(13)),eQ(this),eY(this)}}}catch(e){}finally{}},eV.prototype.cancel=function(){this.J=!0,eQ(this)},eV.prototype.ba=function(){this.B=null;let e=Date.now();0<=e-this.S?(function(e,t){e.info(function(){return"TIMEOUT: "+t})}(this.i,this.A),2!=this.L&&(eO(),eN(17)),eQ(this),this.s=2,eY(this)):eJ(this,this.S-e)};var e0=class{constructor(e,t){this.g=e,this.map=t}};function e1(e){this.l=e||10,e=p.PerformanceNavigationTiming?0<(e=p.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):!!(p.chrome&&p.chrome.loadTimes&&p.chrome.loadTimes()&&p.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function e2(e){return!!e.h||!!e.g&&e.g.size>=e.j}function e4(e){return e.h?1:e.g?e.g.size:0}function e9(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function e6(e,t){e.g?e.g.add(t):e.h=t}function e5(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function e3(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){let t=e.i;for(let r of e.g.values())t=t.concat(r.D);return t}return S(e.i)}function e8(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(g(e)||"string"==typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var r=function(e){if(e.na&&"function"==typeof e.na)return e.na();if(!e.V||"function"!=typeof e.V){if("undefined"!=typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!=typeof Set&&e instanceof Set)){if(g(e)||"string"==typeof e){var t=[];e=e.length;for(var r=0;r<e;r++)t.push(r);return t}for(let n in t=[],r=0,e)t[r++]=n;return t}}}(e),n=function(e){if(e.V&&"function"==typeof e.V)return e.V();if("undefined"!=typeof Map&&e instanceof Map||"undefined"!=typeof Set&&e instanceof Set)return Array.from(e.values());if("string"==typeof e)return e.split("");if(g(e)){for(var t=[],r=e.length,n=0;n<r;n++)t.push(e[n]);return t}for(n in t=[],r=0,e)t[r++]=e[n];return t}(e),i=n.length,s=0;s<i;s++)t.call(void 0,n[s],r&&r[s],e)}e1.prototype.cancel=function(){if(this.i=e3(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(let e of this.g.values())e.cancel();this.g.clear()}};var e7=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function te(e){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,e instanceof te){this.h=e.h,tr(this,e.j),this.o=e.o,this.g=e.g,tn(this,e.s),this.l=e.l;var t=e.i,r=new tg;r.i=t.i,t.g&&(r.g=new Map(t.g),r.h=t.h),ti(this,r),this.m=e.m}else e&&(t=String(e).match(e7))?(this.h=!1,tr(this,t[1]||"",!0),this.o=to(t[2]||""),this.g=to(t[3]||"",!0),tn(this,t[4]),this.l=to(t[5]||"",!0),ti(this,t[6]||"",!0),this.m=to(t[7]||"")):(this.h=!1,this.i=new tg(null,this.h))}function tt(e){return new te(e)}function tr(e,t,r){e.j=r?to(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function tn(e,t){if(t){if(isNaN(t=Number(t))||0>t)throw Error("Bad port number "+t);e.s=t}else e.s=null}function ti(e,t,r){var n,i;t instanceof tg?(e.i=t,n=e.i,(i=e.h)&&!n.j&&(tm(n),n.i=null,n.g.forEach(function(e,t){var r=t.toLowerCase();t!=r&&(ty(this,t),tb(this,r,e))},n)),n.j=i):(r||(t=tl(t,tf)),e.i=new tg(t,e.h))}function ts(e,t,r){e.i.set(t,r)}function ta(e){return ts(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function to(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function tl(e,t,r){return"string"==typeof e?(e=encodeURI(e).replace(t,tu),r&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function tu(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}te.prototype.toString=function(){var e=[],t=this.j;t&&e.push(tl(t,tc,!0),":");var r=this.g;return(r||"file"==t)&&(e.push("//"),(t=this.o)&&e.push(tl(t,tc,!0),"@"),e.push(encodeURIComponent(String(r)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(r=this.s)&&e.push(":",String(r))),(r=this.l)&&(this.g&&"/"!=r.charAt(0)&&e.push("/"),e.push(tl(r,"/"==r.charAt(0)?td:th,!0))),(r=this.i.toString())&&e.push("?",r),(r=this.m)&&e.push("#",tl(r,tp)),e.join("")};var tc=/[#\/\?@]/g,th=/[#\?:]/g,td=/[#\?]/g,tf=/[#\?@]/g,tp=/#/g;function tg(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function tm(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var r=0;r<e.length;r++){var n=e[r].indexOf("="),i=null;if(0<=n){var s=e[r].substring(0,n);i=e[r].substring(n+1)}else s=e[r];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,function(t,r){e.add(decodeURIComponent(t.replace(/\+/g," ")),r)}))}function ty(e,t){tm(e),t=tw(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function tv(e,t){return tm(e),t=tw(e,t),e.g.has(t)}function tb(e,t,r){ty(e,t),0<r.length&&(e.i=null,e.g.set(tw(e,t),S(r)),e.h+=r.length)}function tw(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function t_(e,t,r,n,i){try{i&&(i.onload=null,i.onerror=null,i.onabort=null,i.ontimeout=null),n(r)}catch(e){}}function tS(){this.g=new ew}function tE(e){this.l=e.Ub||null,this.j=e.eb||!1}function tx(e,t){ec.call(this),this.D=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function tT(e){e.j.read().then(e.Pa.bind(e)).catch(e.ga.bind(e))}function tC(e){e.readyState=4,e.l=null,e.j=null,e.v=null,tI(e)}function tI(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function tR(e){let t="";return O(e,function(e,r){t+=r+":"+e+"\r\n"}),t}function tk(e,t,r){e:{for(n in r){var n=!1;break e}n=!0}n||(r=tR(r),"string"==typeof e?null!=r&&encodeURIComponent(String(r)):ts(e,t,r))}function tP(e){ec.call(this),this.headers=new Map,this.o=e||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(r=tg.prototype).add=function(e,t){tm(this),this.i=null,e=tw(this,e);var r=this.g.get(e);return r||this.g.set(e,r=[]),r.push(t),this.h+=1,this},r.forEach=function(e,t){tm(this),this.g.forEach(function(r,n){r.forEach(function(r){e.call(t,r,n,this)},this)},this)},r.na=function(){tm(this);let e=Array.from(this.g.values()),t=Array.from(this.g.keys()),r=[];for(let n=0;n<t.length;n++){let i=e[n];for(let e=0;e<i.length;e++)r.push(t[n])}return r},r.V=function(e){tm(this);let t=[];if("string"==typeof e)tv(this,e)&&(t=t.concat(this.g.get(tw(this,e))));else{e=Array.from(this.g.values());for(let r=0;r<e.length;r++)t=t.concat(e[r])}return t},r.set=function(e,t){return tm(this),this.i=null,tv(this,e=tw(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},r.get=function(e,t){return e&&0<(e=this.V(e)).length?String(e[0]):t},r.toString=function(){if(this.i)return this.i;if(!this.g)return"";let e=[],t=Array.from(this.g.keys());for(var r=0;r<t.length;r++){var n=t[r];let s=encodeURIComponent(String(n)),a=this.V(n);for(n=0;n<a.length;n++){var i=s;""!==a[n]&&(i+="="+encodeURIComponent(String(a[n]))),e.push(i)}}return this.i=e.join("&")},_(tE,e_),tE.prototype.g=function(){return new tx(this.l,this.j)},tE.prototype.i=(e={},function(){return e}),_(tx,ec),(r=tx.prototype).open=function(e,t){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=e,this.A=t,this.readyState=1,tI(this)},r.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;let t={headers:this.u,method:this.B,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||p).fetch(new Request(this.A,t)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,tC(this)),this.readyState=0},r.Sa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,tI(this)),this.g&&(this.readyState=3,tI(this),this.g))){if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(void 0!==p.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;tT(this)}else e.text().then(this.Ra.bind(this),this.ga.bind(this))}},r.Pa=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array(0);(t=this.v.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?tC(this):tI(this),3==this.readyState&&tT(this)}},r.Ra=function(e){this.g&&(this.response=this.responseText=e,tC(this))},r.Qa=function(e){this.g&&(this.response=e,tC(this))},r.ga=function(){this.g&&tC(this)},r.setRequestHeader=function(e,t){this.u.append(e,t)},r.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";let e=[],t=this.h.entries();for(var r=t.next();!r.done;)e.push((r=r.value)[0]+": "+r[1]),r=t.next();return e.join("\r\n")},Object.defineProperty(tx.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}}),_(tP,ec);var tO=/^https?$/i,tA=["POST","PUT"];function tN(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.m=5,tD(e),tL(e)}function tD(e){e.A||(e.A=!0,eh(e,"complete"),eh(e,"error"))}function tM(e){if(e.h&&void 0!==f&&(!e.v[1]||4!=t$(e)||2!=e.Z())){if(e.u&&4==t$(e))ef(e.Ea,0,e);else if(eh(e,"readystatechange"),4==t$(e)){e.h=!1;try{let a=e.Z();switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t,r,n=!0;break;default:n=!1}if(!(t=n)){if(r=0===a){var i=String(e.D).match(e7)[1]||null;!i&&p.self&&p.self.location&&(i=p.self.location.protocol.slice(0,-1)),r=!tO.test(i?i.toLowerCase():"")}t=r}if(t)eh(e,"complete"),eh(e,"success");else{e.m=6;try{var s=2<t$(e)?e.g.statusText:""}catch(e){s=""}e.l=s+" ["+e.Z()+"]",tD(e)}}finally{tL(e)}}}}function tL(e,t){if(e.g){tj(e);let r=e.g,n=e.v[0]?()=>{}:null;e.g=null,e.v=null,t||eh(e,"ready");try{r.onreadystatechange=n}catch(e){}}}function tj(e){e.I&&(p.clearTimeout(e.I),e.I=null)}function t$(e){return e.g?e.g.readyState:0}function tF(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.H){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(e){return null}}function tU(e,t,r){return r&&r.internalChannelParams&&r.internalChannelParams[e]||t}function tV(e){this.Aa=0,this.i=[],this.j=new eL,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=tU("failFast",!1,e),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=tU("baseRetryDelayMs",5e3,e),this.cb=tU("retryDelaySeedMs",1e4,e),this.Wa=tU("forwardChannelMaxRetries",2,e),this.wa=tU("forwardChannelRequestTimeoutMs",2e4,e),this.pa=e&&e.xmlHttpFactory||void 0,this.Xa=e&&e.Tb||void 0,this.Ca=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.h=new e1(e&&e.concurrentRequestLimit),this.Da=new tS,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=e&&e.Rb||!1,e&&e.xa&&this.j.xa(),e&&e.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&e&&e.detectBufferingProxy||!1,this.ja=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.ja=e.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function tB(e){if(tz(e),3==e.G){var t=e.U++,r=tt(e.I);if(ts(r,"SID",e.K),ts(r,"RID",t),ts(r,"TYPE","terminate"),tW(e,r),(t=new eV(e,e.j,t)).L=2,t.v=ta(tt(r)),r=!1,p.navigator&&p.navigator.sendBeacon)try{r=p.navigator.sendBeacon(t.v.toString(),"")}catch(e){}!r&&p.Image&&((new Image).src=t.v,r=!0),r||(t.g=t6(t.j,null),t.g.ea(t.v)),t.F=Date.now(),eK(t)}t4(e)}function tq(e){e.g&&(tY(e),e.g.cancel(),e.g=null)}function tz(e){tq(e),e.u&&(p.clearTimeout(e.u),e.u=null),tZ(e),e.h.cancel(),e.s&&("number"==typeof e.s&&p.clearTimeout(e.s),e.s=null)}function tH(e){if(!e2(e.h)&&!e.s){e.s=!0;var t=e.Ga;$||V(),F||($(),F=!0),U.add(t,e),e.B=0}}function tG(e,t){var r;r=t?t.l:e.U++;let n=tt(e.I);ts(n,"SID",e.K),ts(n,"RID",r),ts(n,"AID",e.T),tW(e,n),e.m&&e.o&&tk(n,e.m,e.o),r=new eV(e,e.j,r,e.B+1),null===e.m&&(r.H=e.o),t&&(e.i=t.D.concat(e.i)),t=tK(e,r,1e3),r.I=Math.round(.5*e.wa)+Math.round(.5*e.wa*Math.random()),e6(e.h,r),eH(r,n,t)}function tW(e,t){e.H&&O(e.H,function(e,r){ts(t,r,e)}),e.l&&e8({},function(e,r){ts(t,r,e)})}function tK(e,t,r){r=Math.min(e.i.length,r);var n=e.l?b(e.l.Na,e.l,e):null;e:{var i=e.i;let t=-1;for(;;){let e=["count="+r];-1==t?0<r?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let s=!0;for(let a=0;a<r;a++){let r=i[a].g,o=i[a].map;if(0>(r-=t))t=Math.max(0,i[a].g-100),s=!1;else try{!function(e,t,r){let n=r||"";try{e8(e,function(e,r){let i=e;m(e)&&(i=ev(e)),t.push(n+r+"="+encodeURIComponent(i))})}catch(e){throw t.push(n+"type="+encodeURIComponent("_badmap")),e}}(o,e,"req"+r+"_")}catch(e){n&&n(o)}}if(s){n=e.join("&");break e}}}return e=e.i.splice(0,r),t.D=e,n}function tJ(e){if(!e.g&&!e.u){e.Y=1;var t=e.Fa;$||V(),F||($(),F=!0),U.add(t,e),e.v=0}}function tX(e){return!e.g&&!e.u&&!(3<=e.v)&&(e.Y++,e.u=eM(b(e.Fa,e),t1(e,e.v)),e.v++,!0)}function tY(e){null!=e.A&&(p.clearTimeout(e.A),e.A=null)}function tQ(e){e.g=new eV(e,e.j,"rpc",e.Y),null===e.m&&(e.g.H=e.o),e.g.O=0;var t=tt(e.qa);ts(t,"RID","rpc"),ts(t,"SID",e.K),ts(t,"AID",e.T),ts(t,"CI",e.F?"0":"1"),!e.F&&e.ja&&ts(t,"TO",e.ja),ts(t,"TYPE","xmlhttp"),tW(e,t),e.m&&e.o&&tk(t,e.m,e.o),e.L&&(e.g.I=e.L);var r=e.g;e=e.ia,r.L=1,r.v=ta(tt(t)),r.m=null,r.P=!0,eG(r,e)}function tZ(e){null!=e.C&&(p.clearTimeout(e.C),e.C=null)}function t0(e,t){var r=null;if(e.g==t){tZ(e),tY(e),e.g=null;var n=2}else{if(!e9(e.h,t))return;r=t.D,e5(e.h,t),n=1}if(0!=e.G){if(t.o){if(1==n){r=t.m?t.m.length:0,t=Date.now()-t.F;var i,s=e.B;eh(n=ek(),new eD(n,r)),tH(e)}else tJ(e)}else if(3==(s=t.s)||0==s&&0<t.X||!(1==n&&(i=t,!(e4(e.h)>=e.h.j-(e.s?1:0))&&(e.s?(e.i=i.D.concat(e.i),!0):1!=e.G&&2!=e.G&&!(e.B>=(e.Va?0:e.Wa))&&(e.s=eM(b(e.Ga,e,i),t1(e,e.B)),e.B++,!0)))||2==n&&tX(e)))switch(r&&0<r.length&&((t=e.h).i=t.i.concat(r)),s){case 1:t2(e,5);break;case 4:t2(e,10);break;case 3:t2(e,6);break;default:t2(e,2)}}}function t1(e,t){let r=e.Ta+Math.floor(Math.random()*e.cb);return e.isActive()||(r*=2),r*t}function t2(e,t){if(e.j.info("Error code "+t),2==t){var r=b(e.fb,e),n=e.Xa;let t=!n;n=new te(n||"//www.google.com/images/cleardot.gif"),p.location&&"http"==p.location.protocol||tr(n,"https"),ta(n),t?function(e,t){let r=new eL;if(p.Image){let n=new Image;n.onload=w(t_,r,"TestLoadImage: loaded",!0,t,n),n.onerror=w(t_,r,"TestLoadImage: error",!1,t,n),n.onabort=w(t_,r,"TestLoadImage: abort",!1,t,n),n.ontimeout=w(t_,r,"TestLoadImage: timeout",!1,t,n),p.setTimeout(function(){n.ontimeout&&n.ontimeout()},1e4),n.src=e}else t(!1)}(n.toString(),r):function(e,t){let r=new eL,n=new AbortController,i=setTimeout(()=>{n.abort(),t_(r,"TestPingServer: timeout",!1,t)},1e4);fetch(e,{signal:n.signal}).then(e=>{clearTimeout(i),e.ok?t_(r,"TestPingServer: ok",!0,t):t_(r,"TestPingServer: server error",!1,t)}).catch(()=>{clearTimeout(i),t_(r,"TestPingServer: error",!1,t)})}(n.toString(),r)}else eN(2);e.G=0,e.l&&e.l.sa(t),t4(e),tz(e)}function t4(e){if(e.G=0,e.ka=[],e.l){let t=e3(e.h);(0!=t.length||0!=e.i.length)&&(T(e.ka,t),T(e.ka,e.i),e.h.i.length=0,S(e.i),e.i.length=0),e.l.ra()}}function t9(e,t,r){var n=r instanceof te?tt(r):new te(r);if(""!=n.g)t&&(n.g=t+"."+n.g),tn(n,n.s);else{var i=p.location;n=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var s=new te(null);n&&tr(s,n),t&&(s.g=t),i&&tn(s,i),r&&(s.l=r),n=s}return r=e.D,t=e.ya,r&&t&&ts(n,r,t),ts(n,"VER",e.la),tW(e,n),n}function t6(e,t,r){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new tP(e.Ca&&!e.pa?new tE({eb:r}):e.pa)).Ha(e.J),t}function t5(){}function t3(){}function t8(e,t){ec.call(this),this.g=new tV(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.va&&(e?e["X-WebChannel-Client-Profile"]=t.va:e={"X-WebChannel-Client-Profile":t.va}),this.g.S=e,(e=t&&t.Sb)&&!I(e)&&(this.g.m=e),this.v=t&&t.supportsCrossDomainXhr||!1,this.u=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!I(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&t in(e=this.h)&&delete e[t]),this.j=new rt(this)}function t7(e){eT.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(let r in t){e=r;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function re(){eC.call(this),this.status=1}function rt(e){this.g=e}(r=tP.prototype).Ha=function(e){this.J=e},r.ea=function(e,r,n,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);r=r?r.toUpperCase():"GET",this.D=e,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():t.g(),this.v=this.o?eS(this.o):eS(t),this.g.onreadystatechange=b(this.Ea,this);try{this.B=!0,this.g.open(r,String(e),!0),this.B=!1}catch(e){tN(this,e);return}if(e=n||"",n=new Map(this.headers),i){if(Object.getPrototypeOf(i)===Object.prototype)for(var s in i)n.set(s,i[s]);else if("function"==typeof i.keys&&"function"==typeof i.get)for(let e of i.keys())n.set(e,i.get(e));else throw Error("Unknown input type for opt_headers: "+String(i))}for(let[t,a]of(i=Array.from(n.keys()).find(e=>"content-type"==e.toLowerCase()),s=p.FormData&&e instanceof p.FormData,!(0<=Array.prototype.indexOf.call(tA,r,void 0))||i||s||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),n))this.g.setRequestHeader(t,a);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{tj(this),this.u=!0,this.g.send(e),this.u=!1}catch(e){tN(this,e)}},r.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=e||7,eh(this,"complete"),eh(this,"abort"),tL(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),tL(this,!0)),tP.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?tM(this):this.bb())},r.bb=function(){tM(this)},r.isActive=function(){return!!this.g},r.Z=function(){try{return 2<t$(this)?this.g.status:-1}catch(e){return -1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch(e){return""}},r.Oa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),eb(t)}},r.Ba=function(){return this.m},r.Ka=function(){return"string"==typeof this.l?this.l:String(this.l)},(r=tV.prototype).la=8,r.G=1,r.connect=function(e,t,r,n){eN(0),this.W=e,this.H=t||{},r&&void 0!==n&&(this.H.OSID=r,this.H.OAID=n),this.F=this.X,this.I=t9(this,null,this.W),tH(this)},r.Ga=function(e){if(this.s){if(this.s=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;let i=new eV(this,this.j,e),s=this.o;if(this.S&&(s?D(s=A(s),this.S):s=this.S),null!==this.m||this.O||(i.H=s,s=null),this.P)e:{for(var t=0,r=0;r<this.i.length;r++){t:{var n=this.i[r];if("__data__"in n.map&&"string"==typeof(n=n.map.__data__)){n=n.length;break t}n=void 0}if(void 0===n)break;if(4096<(t+=n)){t=r;break e}if(4096===t||r===this.i.length-1){t=r+1;break e}}t=1e3}else t=1e3;t=tK(this,i,t),ts(r=tt(this.I),"RID",e),ts(r,"CVER",22),this.D&&ts(r,"X-HTTP-Session-Id",this.D),tW(this,r),s&&(this.O?t="headers="+encodeURIComponent(String(tR(s)))+"&"+t:this.m&&tk(r,this.m,s)),e6(this.h,i),this.Ua&&ts(r,"TYPE","init"),this.P?(ts(r,"$req",t),ts(r,"SID","null"),i.T=!0,eH(i,r,null)):eH(i,r,t),this.G=2}}else 3==this.G&&(e?tG(this,e):0==this.i.length||e2(this.h)||tG(this))}},r.Fa=function(){if(this.u=null,tQ(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var e=2*this.R;this.j.info("BP detection timer enabled: "+e),this.A=eM(b(this.ab,this),e)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,eN(10),tq(this),tQ(this))},r.Za=function(){null!=this.C&&(this.C=null,tq(this),tX(this),eN(19))},r.fb=function(e){e?(this.j.info("Successfully pinged google.com"),eN(2)):(this.j.info("Failed to ping google.com"),eN(1))},r.isActive=function(){return!!this.l&&this.l.isActive(this)},(r=t5.prototype).ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){},t3.prototype.g=function(e,t){return new t8(e,t)},_(t8,ec),t8.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},t8.prototype.close=function(){tB(this.g)},t8.prototype.o=function(e){var t=this.g;if("string"==typeof e){var r={};r.__data__=e,e=r}else this.u&&((r={}).__data__=ev(e),e=r);t.i.push(new e0(t.Ya++,e)),3==t.G&&tH(t)},t8.prototype.N=function(){this.g.l=null,delete this.j,tB(this.g),delete this.g,t8.aa.N.call(this)},_(t7,eT),_(re,eC),_(rt,t5),rt.prototype.ua=function(){eh(this.g,"a")},rt.prototype.ta=function(e){eh(this.g,new t7(e))},rt.prototype.sa=function(e){eh(this.g,new re)},rt.prototype.ra=function(){eh(this.g,"b")},t3.prototype.createWebChannel=t3.prototype.g,t8.prototype.send=t8.prototype.o,t8.prototype.open=t8.prototype.m,t8.prototype.close=t8.prototype.close,d=x.createWebChannelTransport=function(){return new t3},h=x.getStatEventTarget=function(){return ek()},c=x.Event=eI,u=x.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},e$.NO_ERROR=0,e$.TIMEOUT=8,e$.HTTP_ERROR=6,l=x.ErrorCode=e$,eF.COMPLETE="complete",o=x.EventType=eF,eE.EventType=ex,ex.OPEN="a",ex.CLOSE="b",ex.ERROR="c",ex.MESSAGE="d",ec.prototype.listen=ec.prototype.K,a=x.WebChannel=eE,x.FetchXmlHttpFactory=tE,tP.prototype.listenOnce=tP.prototype.L,tP.prototype.getLastError=tP.prototype.Ka,tP.prototype.getLastErrorCode=tP.prototype.Ba,tP.prototype.getStatus=tP.prototype.Z,tP.prototype.getResponseJson=tP.prototype.Oa,tP.prototype.getResponseText=tP.prototype.oa,tP.prototype.send=tP.prototype.ea,tP.prototype.setWithCredentials=tP.prototype.Ha,s=x.XhrIo=tP}).apply(void 0!==E?E:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var T=r(6195).Buffer;let C="@firebase/firestore",I="4.7.9";class R{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}R.UNAUTHENTICATED=new R(null),R.GOOGLE_CREDENTIALS=new R("google-credentials-uid"),R.FIRST_PARTY=new R("first-party-uid"),R.MOCK_USER=new R("mock-user");let k="11.4.0",P=new b.Yd("@firebase/firestore");function O(){return P.logLevel}function A(e,...t){if(P.logLevel<=b.in.DEBUG){let r=t.map(M);P.debug(`Firestore (${k}): ${e}`,...r)}}function N(e,...t){if(P.logLevel<=b.in.ERROR){let r=t.map(M);P.error(`Firestore (${k}): ${e}`,...r)}}function D(e,...t){if(P.logLevel<=b.in.WARN){let r=t.map(M);P.warn(`Firestore (${k}): ${e}`,...r)}}function M(e){if("string"==typeof e)return e;try{return JSON.stringify(e)}catch(t){return e}}function L(e="Unexpected state"){let t=`FIRESTORE (${k}) INTERNAL ASSERTION FAILED: `+e;throw N(t),Error(t)}let j={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class $ extends w.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class F{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class U{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class V{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(R.UNAUTHENTICATED))}shutdown(){}}class B{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class q{constructor(e){this.t=e,this.currentUser=R.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){void 0===this.o||L();let r=this.i,n=e=>this.i!==r?(r=this.i,t(e)):Promise.resolve(),i=new F;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new F,e.enqueueRetryable(()=>n(this.currentUser))};let s=()=>{let t=i;e.enqueueRetryable(async()=>{await t.promise,await n(this.currentUser)})},a=e=>{A("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(e=>a(e)),setTimeout(()=>{if(!this.auth){let e=this.t.getImmediate({optional:!0});e?a(e):(A("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new F)}},0),s()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(t=>this.i!==e?(A("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?("string"==typeof t.accessToken||L(),new U(t.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return null===e||"string"==typeof e||L(),new R(e)}}class z{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=R.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);let e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class H{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new z(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(R.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class G{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class W{constructor(e,t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,(0,y.rh)(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,t){void 0===this.o||L();let r=e=>{null!=e.error&&A("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${e.error.message}`);let r=e.token!==this.R;return this.R=e.token,A("FirebaseAppCheckTokenProvider",`Received ${r?"new":"existing"} token.`),r?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable(()=>r(t))};let n=e=>{A("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(e=>n(e)),setTimeout(()=>{if(!this.appCheck){let e=this.A.getImmediate({optional:!0});e?n(e):A("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new G(this.V));let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(e=>e?("string"==typeof e.token||L(),this.R=e.token,new G(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}class K{static newId(){let e=62*Math.floor(256/62),t="";for(;t.length<20;){let r=function(e){let t="undefined"!=typeof self&&(self.crypto||self.msCrypto),r=new Uint8Array(40);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(r);else for(let e=0;e<40;e++)r[e]=Math.floor(256*Math.random());return r}(0);for(let n=0;n<r.length;++n)t.length<20&&r[n]<e&&(t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(r[n]%62))}return t}}function J(e,t){return e<t?-1:e>t?1:0}function X(e,t,r){return e.length===t.length&&e.every((e,n)=>r(e,t[n]))}class Y{static now(){return Y.fromMillis(Date.now())}static fromDate(e){return Y.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3);return new Y(t,Math.floor((e-1e3*t)*1e6))}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0||t>=1e9)throw new $(j.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800||e>=253402300800)throw new $(j.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?J(this.nanoseconds,e.nanoseconds):J(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Q{static fromTimestamp(e){return new Q(e)}static min(){return new Q(new Y(0,0))}static max(){return new Q(new Y(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}let Z="__name__";class ee{constructor(e,t,r){void 0===t?t=0:t>e.length&&L(),void 0===r?r=e.length-t:r>e.length-t&&L(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===ee.comparator(this,e)}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof ee?e.forEach(e=>{t.push(e)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let r=Math.min(e.length,t.length);for(let n=0;n<r;n++){let r=ee.compareSegments(e.get(n),t.get(n));if(0!==r)return r}return Math.sign(e.length-t.length)}static compareSegments(e,t){let r=ee.isNumericId(e),n=ee.isNumericId(t);return r&&!n?-1:!r&&n?1:r&&n?ee.extractNumericId(e).compare(ee.extractNumericId(t)):e<t?-1:e>t?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return n.fromString(e.substring(4,e.length-2))}}class et extends ee{construct(e,t,r){return new et(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let r of e){if(r.indexOf("//")>=0)throw new $(j.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(e=>e.length>0))}return new et(t)}static emptyPath(){return new et([])}}let er=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class en extends ee{construct(e,t,r){return new en(e,t,r)}static isValidIdentifier(e){return er.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),en.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&this.get(0)===Z}static keyField(){return new en([Z])}static fromServerFormat(e){let t=[],r="",n=0,i=()=>{if(0===r.length)throw new $(j.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""},s=!1;for(;n<e.length;){let t=e[n];if("\\"===t){if(n+1===e.length)throw new $(j.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let t=e[n+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new $(j.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=t,n+=2}else"`"===t?s=!s:"."!==t||s?r+=t:i(),n++}if(i(),s)throw new $(j.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new en(t)}static emptyPath(){return new en([])}}class ei{constructor(e){this.path=e}static fromPath(e){return new ei(et.fromString(e))}static fromName(e){return new ei(et.fromString(e).popFirst(5))}static empty(){return new ei(et.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===et.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return et.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ei(new et(e.slice()))}}class es{constructor(e,t,r,n){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=n}}function ea(e){return e.fields.find(e=>2===e.kind)}function eo(e){return e.fields.filter(e=>2!==e.kind)}es.UNKNOWN_ID=-1;class el{constructor(e,t){this.fieldPath=e,this.kind=t}}class eu{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new eu(0,ed.min())}}function ec(e,t){let r=e.toTimestamp().seconds,n=e.toTimestamp().nanoseconds+1;return new ed(Q.fromTimestamp(1e9===n?new Y(r+1,0):new Y(r,n)),ei.empty(),t)}function eh(e){return new ed(e.readTime,e.key,-1)}class ed{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new ed(Q.min(),ei.empty(),-1)}static max(){return new ed(Q.max(),ei.empty(),-1)}}function ef(e,t){let r=e.readTime.compareTo(t.readTime);return 0!==r?r:0!==(r=ei.comparator(e.documentKey,t.documentKey))?r:J(e.largestBatchId,t.largestBatchId)}let ep="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class eg{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}async function em(e){if(e.code!==j.FAILED_PRECONDITION||e.message!==ep)throw e;A("LocalStore","Unexpectedly lost primary lease")}class ey{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&L(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ey((r,n)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(r,n)},this.catchCallback=e=>{this.wrapFailure(t,e).next(r,n)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof ey?t:ey.resolve(t)}catch(e){return ey.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ey.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ey.reject(t)}static resolve(e){return new ey((t,r)=>{t(e)})}static reject(e){return new ey((t,r)=>{r(e)})}static waitFor(e){return new ey((t,r)=>{let n=0,i=0,s=!1;e.forEach(e=>{++n,e.next(()=>{++i,s&&i===n&&t()},e=>r(e))}),s=!0,i===n&&t()})}static or(e){let t=ey.resolve(!1);for(let r of e)t=t.next(e=>e?ey.resolve(e):r());return t}static forEach(e,t){let r=[];return e.forEach((e,n)=>{r.push(t.call(this,e,n))}),this.waitFor(r)}static mapArray(e,t){return new ey((r,n)=>{let i=e.length,s=Array(i),a=0;for(let o=0;o<i;o++){let l=o;t(e[l]).next(e=>{s[l]=e,++a===i&&r(s)},e=>n(e))}})}static doWhile(e,t){return new ey((r,n)=>{let i=()=>{!0===e()?t().next(()=>{i()},n):r()};i()})}}let ev="SimpleDb";class eb{static open(e,t,r,n){try{return new eb(t,e.transaction(n,r))}catch(e){throw new eE(t,e)}}constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.m=new F,this.transaction.oncomplete=()=>{this.m.resolve()},this.transaction.onabort=()=>{t.error?this.m.reject(new eE(e,t.error)):this.m.resolve()},this.transaction.onerror=t=>{let r=eR(t.target.error);this.m.reject(new eE(e,r))}}get p(){return this.m.promise}abort(e){e&&this.m.reject(e),this.aborted||(A(ev,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}S(){let e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){return new eT(this.transaction.objectStore(e))}}class ew{static delete(e){return A(ev,"Removing database:",e),eC(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,w.hl)())return!1;if(ew.v())return!0;let e=(0,w.z$)(),t=ew.C(e),r=e_(e);return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||0<t&&t<10||0<r&&r<4.5)}static v(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.__PRIVATE_env)||void 0===e?void 0:e.F)}static M(e,t){return e.store(t)}static C(e){let t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i);return Number(t?t[1].split("_").slice(0,2).join("."):"-1")}constructor(e,t,r){this.name=e,this.version=t,this.O=r,12.2===ew.C((0,w.z$)())&&N("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async N(e){return this.db||(A(ev,"Opening database:",this.name),this.db=await new Promise((t,r)=>{let n=indexedDB.open(this.name,this.version);n.onsuccess=e=>{t(e.target.result)},n.onblocked=()=>{r(new eE(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},n.onerror=t=>{let n=t.target.error;"VersionError"===n.name?r(new $(j.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new $(j.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new eE(e,n))},n.onupgradeneeded=e=>{A(ev,'Database "'+this.name+'" requires upgrade from version:',e.oldVersion);let t=e.target.result;this.O.B(t,n.transaction,e.oldVersion,this.version).next(()=>{A(ev,"Database upgrade to version "+this.version+" complete")})}})),this.L&&(this.db.onversionchange=e=>this.L(e)),this.db}k(e){this.L=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,r,n){let i="readonly"===t,s=0;for(;;){++s;try{this.db=await this.N(e);let t=eb.open(this.db,e,i?"readonly":"readwrite",r),s=n(t).next(e=>(t.S(),e)).catch(e=>(t.abort(e),ey.reject(e))).toPromise();return s.catch(()=>{}),await t.p,s}catch(t){let e="FirebaseError"!==t.name&&s<3;if(A(ev,"Transaction failed with error:",t.message,"Retrying:",e),this.close(),!e)return Promise.reject(t)}}}close(){this.db&&this.db.close(),this.db=void 0}}function e_(e){let t=e.match(/Android ([\d.]+)/i);return Number(t?t[1].split(".").slice(0,2).join("."):"-1")}class eS{constructor(e){this.q=e,this.$=!1,this.K=null}get isDone(){return this.$}get U(){return this.K}set cursor(e){this.q=e}done(){this.$=!0}W(e){this.K=e}delete(){return eC(this.q.delete())}}class eE extends ${constructor(e,t){super(j.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function ex(e){return"IndexedDbTransactionError"===e.name}class eT{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(A(ev,"PUT",this.store.name,e,t),r=this.store.put(t,e)):(A(ev,"PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),eC(r)}add(e){return A(ev,"ADD",this.store.name,e,e),eC(this.store.add(e))}get(e){return eC(this.store.get(e)).next(t=>(void 0===t&&(t=null),A(ev,"GET",this.store.name,e,t),t))}delete(e){return A(ev,"DELETE",this.store.name,e),eC(this.store.delete(e))}count(){return A(ev,"COUNT",this.store.name),eC(this.store.count())}G(e,t){let r=this.options(e,t),n=r.index?this.store.index(r.index):this.store;if("function"==typeof n.getAll){let e=n.getAll(r.range);return new ey((t,r)=>{e.onerror=e=>{r(e.target.error)},e.onsuccess=e=>{t(e.target.result)}})}{let e=this.cursor(r),t=[];return this.j(e,(e,r)=>{t.push(r)}).next(()=>t)}}H(e,t){let r=this.store.getAll(e,null===t?void 0:t);return new ey((e,t)=>{r.onerror=e=>{t(e.target.error)},r.onsuccess=t=>{e(t.target.result)}})}J(e,t){A(ev,"DELETE ALL",this.store.name);let r=this.options(e,t);r.Y=!1;let n=this.cursor(r);return this.j(n,(e,t,r)=>r.delete())}Z(e,t){let r;t?r=e:(r={},t=e);let n=this.cursor(r);return this.j(n,t)}X(e){let t=this.cursor({});return new ey((r,n)=>{t.onerror=e=>{n(eR(e.target.error))},t.onsuccess=t=>{let n=t.target.result;n?e(n.primaryKey,n.value).next(e=>{e?n.continue():r()}):r()}})}j(e,t){let r=[];return new ey((n,i)=>{e.onerror=e=>{i(e.target.error)},e.onsuccess=e=>{let i=e.target.result;if(!i)return void n();let s=new eS(i),a=t(i.primaryKey,i.value,s);if(a instanceof ey){let e=a.catch(e=>(s.done(),ey.reject(e)));r.push(e)}s.isDone?n():null===s.U?i.continue():i.continue(s.U)}}).next(()=>ey.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){let r=this.store.index(e.index);return e.Y?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function eC(e){return new ey((t,r)=>{e.onsuccess=e=>{t(e.target.result)},e.onerror=e=>{r(eR(e.target.error))}})}let eI=!1;function eR(e){let t=ew.C((0,w.z$)());if(t>=12.2&&t<13){let t="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(t)>=0){let e=new $("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return eI||(eI=!0,setTimeout(()=>{throw e},0)),e}}return e}let ek="IndexBackfiller";class eP{constructor(e,t){this.asyncQueue=e,this.ee=t,this.task=null}start(){this.te(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}te(e){A(ek,`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,async()=>{this.task=null;try{let e=await this.ee.ne();A(ek,`Documents written: ${e}`)}catch(e){ex(e)?A(ek,"Ignoring IndexedDB error during index backfill: ",e):await em(e)}await this.te(6e4)})}}class eO{constructor(e,t){this.localStore=e,this.persistence=t}async ne(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",t=>this.re(t,e))}re(e,t){let r=new Set,n=t,i=!0;return ey.doWhile(()=>!0===i&&n>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(t=>{if(null!==t&&!r.has(t))return A(ek,`Processing collection: ${t}`),this.ie(e,t,n).next(e=>{n-=e,r.add(t)});i=!1})).next(()=>t-n)}ie(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(n=>this.localStore.localDocuments.getNextDocuments(e,t,n,r).next(r=>{let i=r.changes;return this.localStore.indexManager.updateIndexEntries(e,i).next(()=>this.se(n,r)).next(r=>(A(ek,`Updating offset: ${r}`),this.localStore.indexManager.updateCollectionGroup(e,t,r))).next(()=>i.size)}))}se(e,t){let r=e;return t.changes.forEach((e,t)=>{let n=eh(t);ef(n,r)>0&&(r=n)}),new ed(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}class eA{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.oe(e),this._e=e=>t.writeSequenceNumber(e))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){let e=++this.previousValue;return this._e&&this._e(e),e}}function eN(e){return null==e}function eD(e){return 0===e&&1/e==-1/0}function eM(e){return"number"==typeof e&&Number.isInteger(e)&&!eD(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}function eL(e){let t="";for(let r=0;r<e.length;r++)t.length>0&&(t+="\x01\x01"),t=function(e,t){let r=t,n=e.length;for(let t=0;t<n;t++){let n=e.charAt(t);switch(n){case"\0":r+="\x01\x10";break;case"\x01":r+="\x01\x11";break;default:r+=n}}return r}(e.get(r),t);return t+"\x01\x01"}function ej(e){let t=e.length;if(t>=2||L(),2===t)return"\x01"===e.charAt(0)&&"\x01"===e.charAt(1)||L(),et.emptyPath();let r=t-2,n=[],i="";for(let s=0;s<t;){let t=e.indexOf("\x01",s);switch((t<0||t>r)&&L(),e.charAt(t+1)){case"\x01":let a;let o=e.substring(s,t);0===i.length?a=o:(i+=o,a=i,i=""),n.push(a);break;case"\x10":i+=e.substring(s,t)+"\0";break;case"\x11":i+=e.substring(s,t+1);break;default:L()}s=t+2}return new et(n)}eA.ae=-1;let e$="remoteDocuments",eF="owner",eU="owner",eV="mutationQueues",eB="mutations",eq="batchId",ez="userMutationsIndex",eH=["userId","batchId"],eG={},eW="documentMutations",eK="remoteDocumentsV14",eJ=["prefixPath","collectionGroup","readTime","documentId"],eX="documentKeyIndex",eY=["prefixPath","collectionGroup","documentId"],eQ="collectionGroupIndex",eZ=["collectionGroup","readTime","prefixPath","documentId"],e0="remoteDocumentGlobal",e1="remoteDocumentGlobalKey",e2="targets",e4="queryTargetsIndex",e9=["canonicalId","targetId"],e6="targetDocuments",e5=["targetId","path"],e3="documentTargetsIndex",e8=["path","targetId"],e7="targetGlobalKey",te="targetGlobal",tt="collectionParents",tr=["collectionId","parent"],tn="clientMetadata",ti="bundles",ts="namedQueries",ta="indexConfiguration",to="collectionGroupIndex",tl="indexState",tu=["indexId","uid"],tc="sequenceNumberIndex",th=["uid","sequenceNumber"],td="indexEntries",tf=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],tp="documentKeyIndex",tg=["indexId","uid","orderedDocumentKey"],tm="documentOverlays",ty=["userId","collectionPath","documentId"],tv="collectionPathOverlayIndex",tb=["userId","collectionPath","largestBatchId"],tw="collectionGroupOverlayIndex",t_=["userId","collectionGroup","largestBatchId"],tS="globals",tE=[eV,eB,eW,e$,e2,eF,te,e6,tn,e0,tt,ti,ts],tx=[...tE,tm],tT=[eV,eB,eW,eK,e2,eF,te,e6,tn,e0,tt,ti,ts,tm],tC=[...tT,ta,tl,td],tI=[...tC,tS];class tR extends eg{constructor(e,t){super(),this.ue=e,this.currentSequenceNumber=t}}function tk(e,t){return ew.M(e.ue,t)}function tP(e){let t=0;for(let r in e)Object.prototype.hasOwnProperty.call(e,r)&&t++;return t}function tO(e,t){for(let r in e)Object.prototype.hasOwnProperty.call(e,r)&&t(r,e[r])}function tA(e){for(let t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class tN{constructor(e,t){this.comparator=e,this.root=t||tM.EMPTY}insert(e,t){return new tN(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,tM.BLACK,null,null))}remove(e){return new tN(this.comparator,this.root.remove(e,this.comparator).copy(null,null,tM.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){let n=this.comparator(e,r.key);if(0===n)return t+r.left.size;n<0?r=r.left:(t+=r.left.size+1,r=r.right)}return -1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){let e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new tD(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new tD(this.root,e,this.comparator,!1)}getReverseIterator(){return new tD(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new tD(this.root,e,this.comparator,!0)}}class tD{constructor(e,t,r,n){this.isReverse=n,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?r(e.key,t):1,t&&n&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class tM{constructor(e,t,r,n,i){this.key=e,this.value=t,this.color=null!=r?r:tM.RED,this.left=null!=n?n:tM.EMPTY,this.right=null!=i?i:tM.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,n,i){return new tM(null!=e?e:this.key,null!=t?t:this.value,null!=r?r:this.color,null!=n?n:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let n=this,i=r(e,n.key);return(n=i<0?n.copy(null,null,null,n.left.insert(e,t,r),null):0===i?n.copy(null,t,null,null,null):n.copy(null,null,null,null,n.right.insert(e,t,r))).fixUp()}removeMin(){if(this.left.isEmpty())return tM.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()}remove(e,t){let r,n=this;if(0>t(e,n.key))n.left.isEmpty()||n.left.isRed()||n.left.left.isRed()||(n=n.moveRedLeft()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed()&&(n=n.rotateRight()),n.right.isEmpty()||n.right.isRed()||n.right.left.isRed()||(n=n.moveRedRight()),0===t(e,n.key)){if(n.right.isEmpty())return tM.EMPTY;r=n.right.min(),n=n.copy(r.key,r.value,null,null,n.right.removeMin())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}rotateLeft(){let e=this.copy(null,null,tM.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,tM.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){return Math.pow(2,this.check())<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw L();let e=this.left.check();if(e!==this.right.check())throw L();return e+(this.isRed()?0:1)}}tM.EMPTY=null,tM.RED=!0,tM.BLACK=!1,tM.EMPTY=new class{constructor(){this.size=0}get key(){throw L()}get value(){throw L()}get color(){throw L()}get left(){throw L()}get right(){throw L()}copy(e,t,r,n,i){return this}insert(e,t,r){return new tM(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class tL{constructor(e){this.comparator=e,this.data=new tN(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let n=r.getNext();if(this.comparator(n.key,e[1])>=0)return;t(n.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new tj(this.data.getIterator())}getIteratorFrom(e){return new tj(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(e=>{t=t.add(e)}),t}isEqual(e){if(!(e instanceof tL)||this.size!==e.size)return!1;let t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){let e=t.getNext().key,n=r.getNext().key;if(0!==this.comparator(e,n))return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new tL(this.comparator);return t.data=e,t}}class tj{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function t$(e){return e.hasNext()?e.getNext():void 0}class tF{constructor(e){this.fields=e,e.sort(en.comparator)}static empty(){return new tF([])}unionWith(e){let t=new tL(en.comparator);for(let e of this.fields)t=t.add(e);for(let r of e)t=t.add(r);return new tF(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return X(this.fields,e.fields,(e,t)=>e.isEqual(t))}}class tU extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class tV{constructor(e){this.binaryString=e}static fromBase64String(e){return new tV(function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new tU("Invalid base64 string: "+e):e}}(e))}static fromUint8Array(e){return new tV(function(e){let t="";for(let r=0;r<e.length;++r)t+=String.fromCharCode(e[r]);return t}(e))}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){let t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return J(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}tV.EMPTY_BYTE_STRING=new tV("");let tB=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function tq(e){if(e||L(),"string"==typeof e){let t=0,r=tB.exec(e);if(r||L(),r[1]){let e=r[1];t=Number(e=(e+"000000000").substr(0,9))}return{seconds:Math.floor(new Date(e).getTime()/1e3),nanos:t}}return{seconds:tz(e.seconds),nanos:tz(e.nanos)}}function tz(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function tH(e){return"string"==typeof e?tV.fromBase64String(e):tV.fromUint8Array(e)}let tG="server_timestamp",tW="__type__",tK="__previous_value__",tJ="__local_write_time__";function tX(e){var t,r;return(null===(r=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{})[tW])||void 0===r?void 0:r.stringValue)===tG}function tY(e){let t=e.mapValue.fields[tK];return tX(t)?tY(t):t}function tQ(e){let t=tq(e.mapValue.fields[tJ].timestampValue);return new Y(t.seconds,t.nanos)}class tZ{constructor(e,t,r,n,i,s,a,o,l){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=n,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=o,this.useFetchStreams=l}}let t0="(default)";class t1{constructor(e,t){this.projectId=e,this.database=t||t0}static empty(){return new t1("","")}get isDefaultDatabase(){return this.database===t0}isEqual(e){return e instanceof t1&&e.projectId===this.projectId&&e.database===this.database}}let t2="__type__",t4="__max__",t9={mapValue:{fields:{__type__:{stringValue:t4}}}},t6="__vector__",t5="value",t3={nullValue:"NULL_VALUE"};function t8(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?tX(e)?4:rf(e)?9007199254740991:rh(e)?10:11:L()}function t7(e,t){if(e===t)return!0;let r=t8(e);if(r!==t8(t))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return tQ(e).isEqual(tQ(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;let r=tq(e.timestampValue),n=tq(t.timestampValue);return r.seconds===n.seconds&&r.nanos===n.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return tH(e.bytesValue).isEqual(tH(t.bytesValue));case 7:return e.referenceValue===t.referenceValue;case 8:return tz(e.geoPointValue.latitude)===tz(t.geoPointValue.latitude)&&tz(e.geoPointValue.longitude)===tz(t.geoPointValue.longitude);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return tz(e.integerValue)===tz(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){let r=tz(e.doubleValue),n=tz(t.doubleValue);return r===n?eD(r)===eD(n):isNaN(r)&&isNaN(n)}return!1}(e,t);case 9:return X(e.arrayValue.values||[],t.arrayValue.values||[],t7);case 10:case 11:return function(e,t){let r=e.mapValue.fields||{},n=t.mapValue.fields||{};if(tP(r)!==tP(n))return!1;for(let e in r)if(r.hasOwnProperty(e)&&(void 0===n[e]||!t7(r[e],n[e])))return!1;return!0}(e,t);default:return L()}}function re(e,t){return void 0!==(e.values||[]).find(e=>t7(e,t))}function rt(e,t){if(e===t)return 0;let r=t8(e),n=t8(t);if(r!==n)return J(r,n);switch(r){case 0:case 9007199254740991:return 0;case 1:return J(e.booleanValue,t.booleanValue);case 2:return function(e,t){let r=tz(e.integerValue||e.doubleValue),n=tz(t.integerValue||t.doubleValue);return r<n?-1:r>n?1:r===n?0:isNaN(r)?isNaN(n)?0:-1:1}(e,t);case 3:return rr(e.timestampValue,t.timestampValue);case 4:return rr(tQ(e),tQ(t));case 5:return J(e.stringValue,t.stringValue);case 6:return function(e,t){let r=tH(e),n=tH(t);return r.compareTo(n)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){let r=e.split("/"),n=t.split("/");for(let e=0;e<r.length&&e<n.length;e++){let t=J(r[e],n[e]);if(0!==t)return t}return J(r.length,n.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){let r=J(tz(e.latitude),tz(t.latitude));return 0!==r?r:J(tz(e.longitude),tz(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return rn(e.arrayValue,t.arrayValue);case 10:return function(e,t){var r,n,i,s;let a=e.fields||{},o=t.fields||{},l=null===(r=a[t5])||void 0===r?void 0:r.arrayValue,u=null===(n=o[t5])||void 0===n?void 0:n.arrayValue,c=J((null===(i=null==l?void 0:l.values)||void 0===i?void 0:i.length)||0,(null===(s=null==u?void 0:u.values)||void 0===s?void 0:s.length)||0);return 0!==c?c:rn(l,u)}(e.mapValue,t.mapValue);case 11:return function(e,t){if(e===t9.mapValue&&t===t9.mapValue)return 0;if(e===t9.mapValue)return 1;if(t===t9.mapValue)return -1;let r=e.fields||{},n=Object.keys(r),i=t.fields||{},s=Object.keys(i);n.sort(),s.sort();for(let e=0;e<n.length&&e<s.length;++e){let t=J(n[e],s[e]);if(0!==t)return t;let a=rt(r[n[e]],i[s[e]]);if(0!==a)return a}return J(n.length,s.length)}(e.mapValue,t.mapValue);default:throw L()}}function rr(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return J(e,t);let r=tq(e),n=tq(t),i=J(r.seconds,n.seconds);return 0!==i?i:J(r.nanos,n.nanos)}function rn(e,t){let r=e.values||[],n=t.values||[];for(let e=0;e<r.length&&e<n.length;++e){let t=rt(r[e],n[e]);if(t)return t}return J(r.length,n.length)}function ri(e){var t,r;return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){let t=tq(e);return`time(${t.seconds},${t.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?tH(e.bytesValue).toBase64():"referenceValue"in e?(t=e.referenceValue,ei.fromName(t).toString()):"geoPointValue"in e?(r=e.geoPointValue,`geo(${r.latitude},${r.longitude})`):"arrayValue"in e?function(e){let t="[",r=!0;for(let n of e.values||[])r?r=!1:t+=",",t+=ri(n);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){let t=Object.keys(e.fields||{}).sort(),r="{",n=!0;for(let i of t)n?n=!1:r+=",",r+=`${i}:${ri(e.fields[i])}`;return r+"}"}(e.mapValue):L()}function rs(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function ra(e){return!!e&&"integerValue"in e}function ro(e){return!!e&&"arrayValue"in e}function rl(e){return!!e&&"nullValue"in e}function ru(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function rc(e){return!!e&&"mapValue"in e}function rh(e){var t,r;return(null===(r=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{})[t2])||void 0===r?void 0:r.stringValue)===t6}function rd(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){let t={mapValue:{fields:{}}};return tO(e.mapValue.fields,(e,r)=>t.mapValue.fields[e]=rd(r)),t}if(e.arrayValue){let t={arrayValue:{values:[]}};for(let r=0;r<(e.arrayValue.values||[]).length;++r)t.arrayValue.values[r]=rd(e.arrayValue.values[r]);return t}return Object.assign({},e)}function rf(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===t4}let rp={mapValue:{fields:{[t2]:{stringValue:t6},[t5]:{arrayValue:{}}}}};function rg(e,t){let r=rt(e.value,t.value);return 0!==r?r:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function rm(e,t){let r=rt(e.value,t.value);return 0!==r?r:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}class ry{constructor(e){this.value=e}static empty(){return new ry({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(!rc(t=(t.mapValue.fields||{})[e.get(r)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=rd(t)}setAll(e){let t=en.emptyPath(),r={},n=[];e.forEach((e,i)=>{if(!t.isImmediateParentOf(i)){let e=this.getFieldsMap(t);this.applyChanges(e,r,n),r={},n=[],t=i.popLast()}e?r[i.lastSegment()]=rd(e):n.push(i.lastSegment())});let i=this.getFieldsMap(t);this.applyChanges(i,r,n)}delete(e){let t=this.field(e.popLast());rc(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return t7(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let n=t.mapValue.fields[e.get(r)];rc(n)&&n.mapValue.fields||(n={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=n),t=n}return t.mapValue.fields}applyChanges(e,t,r){for(let n of(tO(t,(t,r)=>e[t]=r),r))delete e[n]}clone(){return new ry(rd(this.value))}}class rv{constructor(e,t,r,n,i,s,a){this.key=e,this.documentType=t,this.version=r,this.readTime=n,this.createTime=i,this.data=s,this.documentState=a}static newInvalidDocument(e){return new rv(e,0,Q.min(),Q.min(),Q.min(),ry.empty(),0)}static newFoundDocument(e,t,r,n){return new rv(e,1,t,Q.min(),r,n,0)}static newNoDocument(e,t){return new rv(e,2,t,Q.min(),Q.min(),ry.empty(),0)}static newUnknownDocument(e,t){return new rv(e,3,t,Q.min(),Q.min(),ry.empty(),2)}convertToFoundDocument(e,t){return this.createTime.isEqual(Q.min())&&(2===this.documentType||0===this.documentType)&&(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ry.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ry.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Q.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof rv&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new rv(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class rb{constructor(e,t){this.position=e,this.inclusive=t}}function rw(e,t,r){let n=0;for(let i=0;i<e.position.length;i++){let s=t[i],a=e.position[i];if(n=s.field.isKeyField()?ei.comparator(ei.fromName(a.referenceValue),r.key):rt(a,r.data.field(s.field)),"desc"===s.dir&&(n*=-1),0!==n)break}return n}function r_(e,t){if(null===e)return null===t;if(null===t||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let r=0;r<e.position.length;r++)if(!t7(e.position[r],t.position[r]))return!1;return!0}class rS{constructor(e,t="asc"){this.field=e,this.dir=t}}class rE{}class rx extends rE{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new rO(e,t,r):"array-contains"===t?new rM(e,r):"in"===t?new rL(e,r):"not-in"===t?new rj(e,r):"array-contains-any"===t?new r$(e,r):new rx(e,t,r)}static createKeyFieldInFilter(e,t,r){return"in"===t?new rA(e,r):new rN(e,r)}matches(e){let t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(rt(t,this.value)):null!==t&&t8(this.value)===t8(t)&&this.matchesComparison(rt(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return L()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class rT extends rE{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new rT(e,t)}matches(e){return rC(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ce||(this.ce=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function rC(e){return"and"===e.op}function rI(e){return"or"===e.op}function rR(e){return rk(e)&&rC(e)}function rk(e){for(let t of e.filters)if(t instanceof rT)return!1;return!0}function rP(e,t){let r=e.filters.concat(t);return rT.create(r,e.op)}class rO extends rx{constructor(e,t,r){super(e,t,r),this.key=ei.fromName(r.referenceValue)}matches(e){let t=ei.comparator(e.key,this.key);return this.matchesComparison(t)}}class rA extends rx{constructor(e,t){super(e,"in",t),this.keys=rD("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class rN extends rx{constructor(e,t){super(e,"not-in",t),this.keys=rD("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function rD(e,t){var r;return((null===(r=t.arrayValue)||void 0===r?void 0:r.values)||[]).map(e=>ei.fromName(e.referenceValue))}class rM extends rx{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return ro(t)&&re(t.arrayValue,this.value)}}class rL extends rx{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return null!==t&&re(this.value.arrayValue,t)}}class rj extends rx{constructor(e,t){super(e,"not-in",t)}matches(e){if(re(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return null!==t&&!re(this.value.arrayValue,t)}}class r$ extends rx{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!(!ro(t)||!t.arrayValue.values)&&t.arrayValue.values.some(e=>re(this.value.arrayValue,e))}}class rF{constructor(e,t=null,r=[],n=[],i=null,s=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=n,this.limit=i,this.startAt=s,this.endAt=a,this.le=null}}function rU(e,t=null,r=[],n=[],i=null,s=null,a=null){return new rF(e,t,r,n,i,s,a)}function rV(e){if(null===e.le){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:"+e.filters.map(e=>(function e(t){if(t instanceof rx)return t.field.canonicalString()+t.op.toString()+ri(t.value);if(rR(t))return t.filters.map(t=>e(t)).join(",");{let r=t.filters.map(t=>e(t)).join(",");return`${t.op}(${r})`}})(e)).join(",")+"|ob:"+e.orderBy.map(e=>e.field.canonicalString()+e.dir).join(","),null==e.limit||(t+="|l:"+e.limit),e.startAt&&(t+="|lb:"+(e.startAt.inclusive?"b:":"a:")+e.startAt.position.map(e=>ri(e)).join(",")),e.endAt&&(t+="|ub:"+(e.endAt.inclusive?"a:":"b:")+e.endAt.position.map(e=>ri(e)).join(",")),e.le=t}return e.le}function rB(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<e.orderBy.length;i++){var r,n;if(r=e.orderBy[i],n=t.orderBy[i],!(r.dir===n.dir&&r.field.isEqual(n.field)))return!1}if(e.filters.length!==t.filters.length)return!1;for(let r=0;r<e.filters.length;r++)if(!function e(t,r){return t instanceof rx?r instanceof rx&&t.op===r.op&&t.field.isEqual(r.field)&&t7(t.value,r.value):t instanceof rT?r instanceof rT&&t.op===r.op&&t.filters.length===r.filters.length&&t.filters.reduce((t,n,i)=>t&&e(n,r.filters[i]),!0):void L()}(e.filters[r],t.filters[r]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!r_(e.startAt,t.startAt)&&r_(e.endAt,t.endAt)}function rq(e){return ei.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function rz(e,t){return e.filters.filter(e=>e instanceof rx&&e.field.isEqual(t))}function rH(e,t,r){let n=t3,i=!0;for(let r of rz(e,t)){let e=t3,t=!0;switch(r.op){case"<":case"<=":var s;e="nullValue"in(s=r.value)?t3:"booleanValue"in s?{booleanValue:!1}:"integerValue"in s||"doubleValue"in s?{doubleValue:NaN}:"timestampValue"in s?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in s?{stringValue:""}:"bytesValue"in s?{bytesValue:""}:"referenceValue"in s?rs(t1.empty(),ei.empty()):"geoPointValue"in s?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in s?{arrayValue:{}}:"mapValue"in s?rh(s)?rp:{mapValue:{}}:L();break;case"==":case"in":case">=":e=r.value;break;case">":e=r.value,t=!1;break;case"!=":case"not-in":e=t3}0>rg({value:n,inclusive:i},{value:e,inclusive:t})&&(n=e,i=t)}if(null!==r){for(let s=0;s<e.orderBy.length;++s)if(e.orderBy[s].field.isEqual(t)){let e=r.position[s];0>rg({value:n,inclusive:i},{value:e,inclusive:r.inclusive})&&(n=e,i=r.inclusive);break}}return{value:n,inclusive:i}}function rG(e,t,r){let n=t9,i=!0;for(let r of rz(e,t)){let e=t9,t=!0;switch(r.op){case">=":case">":var s;e="nullValue"in(s=r.value)?{booleanValue:!1}:"booleanValue"in s?{doubleValue:NaN}:"integerValue"in s||"doubleValue"in s?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in s?{stringValue:""}:"stringValue"in s?{bytesValue:""}:"bytesValue"in s?rs(t1.empty(),ei.empty()):"referenceValue"in s?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in s?{arrayValue:{}}:"arrayValue"in s?rp:"mapValue"in s?rh(s)?{mapValue:{}}:t9:L(),t=!1;break;case"==":case"in":case"<=":e=r.value;break;case"<":e=r.value,t=!1;break;case"!=":case"not-in":e=t9}rm({value:n,inclusive:i},{value:e,inclusive:t})>0&&(n=e,i=t)}if(null!==r){for(let s=0;s<e.orderBy.length;++s)if(e.orderBy[s].field.isEqual(t)){let e=r.position[s];rm({value:n,inclusive:i},{value:e,inclusive:r.inclusive})>0&&(n=e,i=r.inclusive);break}}return{value:n,inclusive:i}}class rW{constructor(e,t=null,r=[],n=[],i=null,s="F",a=null,o=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=n,this.limit=i,this.limitType=s,this.startAt=a,this.endAt=o,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function rK(e){return new rW(e)}function rJ(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function rX(e){return null!==e.collectionGroup}function rY(e){if(null===e.he){let t;e.he=[];let r=new Set;for(let t of e.explicitOrderBy)e.he.push(t),r.add(t.field.canonicalString());let n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(t=new tL(en.comparator),e.filters.forEach(e=>{e.getFlattenedFilters().forEach(e=>{e.isInequality()&&(t=t.add(e.field))})}),t).forEach(t=>{r.has(t.canonicalString())||t.isKeyField()||e.he.push(new rS(t,n))}),r.has(en.keyField().canonicalString())||e.he.push(new rS(en.keyField(),n))}return e.he}function rQ(e){return e.Pe||(e.Pe=function(e,t){if("F"===e.limitType)return rU(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(e=>{let t="desc"===e.dir?"asc":"desc";return new rS(e.field,t)});let r=e.endAt?new rb(e.endAt.position,e.endAt.inclusive):null,n=e.startAt?new rb(e.startAt.position,e.startAt.inclusive):null;return rU(e.path,e.collectionGroup,t,e.filters,e.limit,r,n)}}(e,rY(e))),e.Pe}function rZ(e,t){let r=e.filters.concat([t]);return new rW(e.path,e.collectionGroup,e.explicitOrderBy.slice(),r,e.limit,e.limitType,e.startAt,e.endAt)}function r0(e,t,r){return new rW(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,r,e.startAt,e.endAt)}function r1(e,t){return rB(rQ(e),rQ(t))&&e.limitType===t.limitType}function r2(e){return`${rV(rQ(e))}|lt:${e.limitType}`}function r4(e){var t;let r;return`Query(target=${r=(t=rQ(e)).path.canonicalString(),null!==t.collectionGroup&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(e=>(function e(t){return t instanceof rx?`${t.field.canonicalString()} ${t.op} ${ri(t.value)}`:t instanceof rT?t.op.toString()+" {"+t.getFilters().map(e).join(" ,")+"}":"Filter"})(e)).join(", ")}]`),null==t.limit||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(e=>`${e.field.canonicalString()} (${e.dir})`).join(", ")}]`),t.startAt&&(r+=", startAt: "+(t.startAt.inclusive?"b:":"a:")+t.startAt.position.map(e=>ri(e)).join(",")),t.endAt&&(r+=", endAt: "+(t.endAt.inclusive?"a:":"b:")+t.endAt.position.map(e=>ri(e)).join(",")),`Target(${r})`}; limitType=${e.limitType})`}function r9(e,t){return t.isFoundDocument()&&function(e,t){let r=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(r):ei.isDocumentKey(e.path)?e.path.isEqual(r):e.path.isImmediateParentOf(r)}(e,t)&&function(e,t){for(let r of rY(e))if(!r.field.isKeyField()&&null===t.data.field(r.field))return!1;return!0}(e,t)&&function(e,t){for(let r of e.filters)if(!r.matches(t))return!1;return!0}(e,t)&&(!e.startAt||!!function(e,t,r){let n=rw(e,t,r);return e.inclusive?n<=0:n<0}(e.startAt,rY(e),t))&&(!e.endAt||!!function(e,t,r){let n=rw(e,t,r);return e.inclusive?n>=0:n>0}(e.endAt,rY(e),t))}function r6(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function r5(e){return(t,r)=>{let n=!1;for(let i of rY(e)){let e=function(e,t,r){let n=e.field.isKeyField()?ei.comparator(t.key,r.key):function(e,t,r){let n=t.data.field(e),i=r.data.field(e);return null!==n&&null!==i?rt(n,i):L()}(e.field,t,r);switch(e.dir){case"asc":return n;case"desc":return -1*n;default:return L()}}(i,t,r);if(0!==e)return e;n=n||i.field.isKeyField()}return 0}}class r3{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r){for(let[t,n]of r)if(this.equalsFn(t,e))return n}}has(e){return void 0!==this.get(e)}set(e,t){let r=this.mapKeyFn(e),n=this.inner[r];if(void 0===n)return this.inner[r]=[[e,t]],void this.innerSize++;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return void(n[r]=[e,t]);n.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let n=0;n<r.length;n++)if(this.equalsFn(r[n][0],e))return 1===r.length?delete this.inner[t]:r.splice(n,1),this.innerSize--,!0;return!1}forEach(e){tO(this.inner,(t,r)=>{for(let[t,n]of r)e(t,n)})}isEmpty(){return tA(this.inner)}size(){return this.innerSize}}let r8=new tN(ei.comparator),r7=new tN(ei.comparator);function ne(...e){let t=r7;for(let r of e)t=t.insert(r.key,r);return t}function nt(e){let t=r7;return e.forEach((e,r)=>t=t.insert(e,r.overlayedDocument)),t}function nr(){return new r3(e=>e.toString(),(e,t)=>e.isEqual(t))}let nn=new tN(ei.comparator),ni=new tL(ei.comparator);function ns(...e){let t=ni;for(let r of e)t=t.add(r);return t}let na=new tL(J);function no(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:eD(t)?"-0":t}}function nl(e){return{integerValue:""+e}}function nu(e,t){return eM(t)?nl(t):no(e,t)}class nc{constructor(){this._=void 0}}function nh(e,t){return e instanceof ny?ra(t)||t&&"doubleValue"in t?t:{integerValue:0}:null}class nd extends nc{}class nf extends nc{constructor(e){super(),this.elements=e}}function np(e,t){let r=nb(t);for(let t of e.elements)r.some(e=>t7(e,t))||r.push(t);return{arrayValue:{values:r}}}class ng extends nc{constructor(e){super(),this.elements=e}}function nm(e,t){let r=nb(t);for(let t of e.elements)r=r.filter(e=>!t7(e,t));return{arrayValue:{values:r}}}class ny extends nc{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function nv(e){return tz(e.integerValue||e.doubleValue)}function nb(e){return ro(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class nw{constructor(e,t){this.field=e,this.transform=t}}class n_{constructor(e,t){this.version=e,this.transformResults=t}}class nS{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new nS}static exists(e){return new nS(void 0,e)}static updateTime(e){return new nS(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function nE(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class nx{}function nT(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new nN(e.key,nS.none()):new nR(e.key,e.data,nS.none());{let r=e.data,n=ry.empty(),i=new tL(en.comparator);for(let e of t.fields)if(!i.has(e)){let t=r.field(e);null===t&&e.length>1&&(e=e.popLast(),t=r.field(e)),null===t?n.delete(e):n.set(e,t),i=i.add(e)}return new nk(e.key,n,new tF(i.toArray()),nS.none())}}function nC(e,t,r,n){return e instanceof nR?function(e,t,r,n){if(!nE(e.precondition,t))return r;let i=e.value.clone(),s=nA(e.fieldTransforms,n,t);return i.setAll(s),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,r,n):e instanceof nk?function(e,t,r,n){if(!nE(e.precondition,t))return r;let i=nA(e.fieldTransforms,n,t),s=t.data;return(s.setAll(nP(e)),s.setAll(i),t.convertToFoundDocument(t.version,s).setHasLocalMutations(),null===r)?null:r.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map(e=>e.field))}(e,t,r,n):nE(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):r}function nI(e,t){var r,n;return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&(r=e.fieldTransforms,n=t.fieldTransforms,!!(void 0===r&&void 0===n||!(!r||!n)&&X(r,n,(e,t)=>{var r,n;return e.field.isEqual(t.field)&&(r=e.transform,n=t.transform,r instanceof nf&&n instanceof nf||r instanceof ng&&n instanceof ng?X(r.elements,n.elements,t7):r instanceof ny&&n instanceof ny?t7(r.Ie,n.Ie):r instanceof nd&&n instanceof nd)})))&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class nR extends nx{constructor(e,t,r,n=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=n,this.type=0}getFieldMask(){return null}}class nk extends nx{constructor(e,t,r,n,i=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=n,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function nP(e){let t=new Map;return e.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){let n=e.data.field(r);t.set(r,n)}}),t}function nO(e,t,r){var n;let i=new Map;e.length===r.length||L();for(let s=0;s<r.length;s++){let a=e[s],o=a.transform,l=t.data.field(a.field);i.set(a.field,(n=r[s],o instanceof nf?np(o,l):o instanceof ng?nm(o,l):n))}return i}function nA(e,t,r){let n=new Map;for(let i of e){let e=i.transform,s=r.data.field(i.field);n.set(i.field,e instanceof nd?function(e,t){let r={fields:{[tW]:{stringValue:tG},[tJ]:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&tX(t)&&(t=tY(t)),t&&(r.fields[tK]=t),{mapValue:r}}(t,s):e instanceof nf?np(e,s):e instanceof ng?nm(e,s):function(e,t){let r=nh(e,t),n=nv(r)+nv(e.Ie);return ra(r)&&ra(e.Ie)?nl(n):no(e.serializer,n)}(e,s))}return n}class nN extends nx{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class nD extends nx{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class nM{constructor(e,t,r,n){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=n}applyToRemoteDocument(e,t){let r=t.mutationResults;for(let t=0;t<this.mutations.length;t++){let i=this.mutations[t];if(i.key.isEqual(e.key)){var n;n=r[t],i instanceof nR?function(e,t,r){let n=e.value.clone(),i=nO(e.fieldTransforms,t,r.transformResults);n.setAll(i),t.convertToFoundDocument(r.version,n).setHasCommittedMutations()}(i,e,n):i instanceof nk?function(e,t,r){if(!nE(e.precondition,t))return void t.convertToUnknownDocument(r.version);let n=nO(e.fieldTransforms,t,r.transformResults),i=t.data;i.setAll(nP(e)),i.setAll(n),t.convertToFoundDocument(r.version,i).setHasCommittedMutations()}(i,e,n):function(e,t,r){t.convertToNoDocument(r.version).setHasCommittedMutations()}(0,e,n)}}}applyToLocalView(e,t){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(t=nC(r,e,t,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(t=nC(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let r=nr();return this.mutations.forEach(n=>{let i=e.get(n.key),s=i.overlayedDocument,a=this.applyToLocalView(s,i.mutatedFields),o=nT(s,a=t.has(n.key)?null:a);null!==o&&r.set(n.key,o),s.isValidDocument()||s.convertToNoDocument(Q.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),ns())}isEqual(e){return this.batchId===e.batchId&&X(this.mutations,e.mutations,(e,t)=>nI(e,t))&&X(this.baseMutations,e.baseMutations,(e,t)=>nI(e,t))}}class nL{constructor(e,t,r,n){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=n}static from(e,t,r){e.mutations.length===r.length||L();let n=nn,i=e.mutations;for(let e=0;e<i.length;e++)n=n.insert(i[e].key,r[e].version);return new nL(e,t,r,n)}}class nj{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class n${constructor(e,t){this.count=e,this.unchangedNames=t}}function nF(e){if(void 0===e)return N("GRPC error has no .code"),j.UNKNOWN;switch(e){case f.OK:return j.OK;case f.CANCELLED:return j.CANCELLED;case f.UNKNOWN:return j.UNKNOWN;case f.DEADLINE_EXCEEDED:return j.DEADLINE_EXCEEDED;case f.RESOURCE_EXHAUSTED:return j.RESOURCE_EXHAUSTED;case f.INTERNAL:return j.INTERNAL;case f.UNAVAILABLE:return j.UNAVAILABLE;case f.UNAUTHENTICATED:return j.UNAUTHENTICATED;case f.INVALID_ARGUMENT:return j.INVALID_ARGUMENT;case f.NOT_FOUND:return j.NOT_FOUND;case f.ALREADY_EXISTS:return j.ALREADY_EXISTS;case f.PERMISSION_DENIED:return j.PERMISSION_DENIED;case f.FAILED_PRECONDITION:return j.FAILED_PRECONDITION;case f.ABORTED:return j.ABORTED;case f.OUT_OF_RANGE:return j.OUT_OF_RANGE;case f.UNIMPLEMENTED:return j.UNIMPLEMENTED;case f.DATA_LOSS:return j.DATA_LOSS;default:return L()}}(p=f||(f={}))[p.OK=0]="OK",p[p.CANCELLED=1]="CANCELLED",p[p.UNKNOWN=2]="UNKNOWN",p[p.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",p[p.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",p[p.NOT_FOUND=5]="NOT_FOUND",p[p.ALREADY_EXISTS=6]="ALREADY_EXISTS",p[p.PERMISSION_DENIED=7]="PERMISSION_DENIED",p[p.UNAUTHENTICATED=16]="UNAUTHENTICATED",p[p.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",p[p.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",p[p.ABORTED=10]="ABORTED",p[p.OUT_OF_RANGE=11]="OUT_OF_RANGE",p[p.UNIMPLEMENTED=12]="UNIMPLEMENTED",p[p.INTERNAL=13]="INTERNAL",p[p.UNAVAILABLE=14]="UNAVAILABLE",p[p.DATA_LOSS=15]="DATA_LOSS";let nU=new n([4294967295,4294967295],0);function nV(e){let t=(new TextEncoder).encode(e),r=new i;return r.update(t),new Uint8Array(r.digest())}function nB(e){let t=new DataView(e.buffer),r=t.getUint32(0,!0),i=t.getUint32(4,!0),s=t.getUint32(8,!0),a=t.getUint32(12,!0);return[new n([r,i],0),new n([s,a],0)]}class nq{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new nz(`Invalid padding: ${t}`);if(r<0||e.length>0&&0===this.hashCount)throw new nz(`Invalid hash count: ${r}`);if(0===e.length&&0!==t)throw new nz(`Invalid padding when bitmap length is 0: ${t}`);this.Ee=8*e.length-t,this.de=n.fromNumber(this.Ee)}Ae(e,t,r){let i=e.add(t.multiply(n.fromNumber(r)));return 1===i.compare(nU)&&(i=new n([i.getBits(0),i.getBits(1)],0)),i.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Ee)return!1;let[t,r]=nB(nV(e));for(let e=0;e<this.hashCount;e++){let n=this.Ae(t,r,e);if(!this.Re(n))return!1}return!0}static create(e,t,r){let n=new nq(new Uint8Array(Math.ceil(e/8)),e%8==0?0:8-e%8,t);return r.forEach(e=>n.insert(e)),n}insert(e){if(0===this.Ee)return;let[t,r]=nB(nV(e));for(let e=0;e<this.hashCount;e++){let n=this.Ae(t,r,e);this.Ve(n)}}Ve(e){this.bitmap[Math.floor(e/8)]|=1<<e%8}}class nz extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class nH{constructor(e,t,r,n,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=n,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,r){let n=new Map;return n.set(e,nG.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new nH(Q.min(),n,new tN(J),r8,ns())}}class nG{constructor(e,t,r,n,i){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=n,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new nG(r,t,ns(),ns(),ns())}}class nW{constructor(e,t,r,n){this.me=e,this.removedTargetIds=t,this.key=r,this.fe=n}}class nK{constructor(e,t){this.targetId=e,this.ge=t}}class nJ{constructor(e,t,r=tV.EMPTY_BYTE_STRING,n=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=n}}class nX{constructor(){this.pe=0,this.ye=nZ(),this.we=tV.EMPTY_BYTE_STRING,this.be=!1,this.Se=!0}get current(){return this.be}get resumeToken(){return this.we}get De(){return 0!==this.pe}get ve(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.we=e)}Fe(){let e=ns(),t=ns(),r=ns();return this.ye.forEach((n,i)=>{switch(i){case 0:e=e.add(n);break;case 2:t=t.add(n);break;case 1:r=r.add(n);break;default:L()}}),new nG(this.we,this.be,e,t,r)}Me(){this.Se=!1,this.ye=nZ()}xe(e,t){this.Se=!0,this.ye=this.ye.insert(e,t)}Oe(e){this.Se=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,this.pe>=0||L()}Le(){this.Se=!0,this.be=!0}}class nY{constructor(e){this.ke=e,this.qe=new Map,this.Qe=r8,this.$e=nQ(),this.Ke=nQ(),this.Ue=new tN(J)}We(e){for(let t of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(t,e.fe):this.ze(t,e.key,e.fe);for(let t of e.removedTargetIds)this.ze(t,e.key,e.fe)}je(e){this.forEachTarget(e,t=>{let r=this.He(t);switch(e.state){case 0:this.Je(t)&&r.Ce(e.resumeToken);break;case 1:r.Be(),r.De||r.Me(),r.Ce(e.resumeToken);break;case 2:r.Be(),r.De||this.removeTarget(t);break;case 3:this.Je(t)&&(r.Le(),r.Ce(e.resumeToken));break;case 4:this.Je(t)&&(this.Ye(t),r.Ce(e.resumeToken));break;default:L()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qe.forEach((e,r)=>{this.Je(r)&&t(r)})}Ze(e){let t=e.targetId,r=e.ge.count,n=this.Xe(t);if(n){let i=n.target;if(rq(i)){if(0===r){let e=new ei(i.path);this.ze(t,e,rv.newNoDocument(e,Q.min()))}else 1===r||L()}else{let n=this.et(t);if(n!==r){let r=this.tt(e),i=r?this.nt(r,e,n):1;0!==i&&(this.Ye(t),this.Ue=this.Ue.insert(t,2===i?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}tt(e){let t,r;let n=e.ge.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:i="",padding:s=0},hashCount:a=0}=n;try{t=tH(i).toUint8Array()}catch(e){if(e instanceof tU)return D("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{r=new nq(t,s,a)}catch(e){return D(e instanceof nz?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===r.Ee?null:r}nt(e,t,r){return t.ge.count===r-this.st(e,t.targetId)?0:2}st(e,t){let r=this.ke.getRemoteKeysForTarget(t),n=0;return r.forEach(r=>{let i=this.ke.it(),s=`projects/${i.projectId}/databases/${i.database}/documents/${r.path.canonicalString()}`;e.mightContain(s)||(this.ze(t,r,null),n++)}),n}ot(e){let t=new Map;this.qe.forEach((r,n)=>{let i=this.Xe(n);if(i){if(r.current&&rq(i.target)){let t=new ei(i.target.path);this._t(t).has(n)||this.ut(n,t)||this.ze(n,t,rv.newNoDocument(t,e))}r.ve&&(t.set(n,r.Fe()),r.Me())}});let r=ns();this.Ke.forEach((e,t)=>{let n=!0;t.forEachWhile(e=>{let t=this.Xe(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(n=!1,!1)}),n&&(r=r.add(e))}),this.Qe.forEach((t,r)=>r.setReadTime(e));let n=new nH(e,t,this.Ue,this.Qe,r);return this.Qe=r8,this.$e=nQ(),this.Ke=nQ(),this.Ue=new tN(J),n}Ge(e,t){if(!this.Je(e))return;let r=this.ut(e,t.key)?2:0;this.He(e).xe(t.key,r),this.Qe=this.Qe.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e)),this.Ke=this.Ke.insert(t.key,this.ct(t.key).add(e))}ze(e,t,r){if(!this.Je(e))return;let n=this.He(e);this.ut(e,t)?n.xe(t,1):n.Oe(t),this.Ke=this.Ke.insert(t,this.ct(t).delete(e)),this.Ke=this.Ke.insert(t,this.ct(t).add(e)),r&&(this.Qe=this.Qe.insert(t,r))}removeTarget(e){this.qe.delete(e)}et(e){let t=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let t=this.qe.get(e);return t||(t=new nX,this.qe.set(e,t)),t}ct(e){let t=this.Ke.get(e);return t||(t=new tL(J),this.Ke=this.Ke.insert(e,t)),t}_t(e){let t=this.$e.get(e);return t||(t=new tL(J),this.$e=this.$e.insert(e,t)),t}Je(e){let t=null!==this.Xe(e);return t||A("WatchChangeAggregator","Detected inactive target",e),t}Xe(e){let t=this.qe.get(e);return t&&t.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new nX),this.ke.getRemoteKeysForTarget(e).forEach(t=>{this.ze(e,t,null)})}ut(e,t){return this.ke.getRemoteKeysForTarget(e).has(t)}}function nQ(){return new tN(ei.comparator)}function nZ(){return new tN(ei.comparator)}let n0={asc:"ASCENDING",desc:"DESCENDING"},n1={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},n2={and:"AND",or:"OR"};class n4{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function n9(e,t){return e.useProto3Json||null==t?t:{value:t}}function n6(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function n5(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function n3(e){return e||L(),Q.fromTimestamp(function(e){let t=tq(e);return new Y(t.seconds,t.nanos)}(e))}function n8(e,t){return n7(e,t).canonicalString()}function n7(e,t){let r=new et(["projects",e.projectId,"databases",e.database]).child("documents");return void 0===t?r:r.child(t)}function ie(e){let t=et.fromString(e);return iv(t)||L(),t}function it(e,t){return n8(e.databaseId,t.path)}function ir(e,t){let r=ie(t);if(r.get(1)!==e.databaseId.projectId)throw new $(j.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+e.databaseId.projectId);if(r.get(3)!==e.databaseId.database)throw new $(j.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+e.databaseId.database);return new ei(io(r))}function ii(e,t){return n8(e.databaseId,t)}function is(e){let t=ie(e);return 4===t.length?et.emptyPath():io(t)}function ia(e){return new et(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function io(e){return e.length>4&&"documents"===e.get(4)||L(),e.popFirst(5)}function il(e,t,r){return{name:it(e,t),fields:r.value.mapValue.fields}}function iu(e,t,r){let n=ir(e,t.name),i=n3(t.updateTime),s=t.createTime?n3(t.createTime):Q.min(),a=new ry({mapValue:{fields:t.fields}}),o=rv.newFoundDocument(n,i,s,a);return r&&o.setHasCommittedMutations(),r?o.setHasCommittedMutations():o}function ic(e,t){var r;let n;if(t instanceof nR)n={update:il(e,t.key,t.value)};else if(t instanceof nN)n={delete:it(e,t.key)};else if(t instanceof nk)n={update:il(e,t.key,t.data),updateMask:function(e){let t=[];return e.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}(t.fieldMask)};else{if(!(t instanceof nD))return L();n={verify:it(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(e=>(function(e,t){let r=t.transform;if(r instanceof nd)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(r instanceof nf)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:r.elements}};if(r instanceof ng)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:r.elements}};if(r instanceof ny)return{fieldPath:t.field.canonicalString(),increment:r.Ie};throw L()})(0,e))),t.precondition.isNone||(n.currentDocument=void 0!==(r=t.precondition).updateTime?{updateTime:n6(e,r.updateTime.toTimestamp())}:void 0!==r.exists?{exists:r.exists}:L()),n}function ih(e,t){var r;let n=t.currentDocument?void 0!==(r=t.currentDocument).updateTime?nS.updateTime(n3(r.updateTime)):void 0!==r.exists?nS.exists(r.exists):nS.none():nS.none(),i=t.updateTransforms?t.updateTransforms.map(t=>{let r;return r=null,"setToServerValue"in t?("REQUEST_TIME"===t.setToServerValue||L(),r=new nd):"appendMissingElements"in t?r=new nf(t.appendMissingElements.values||[]):"removeAllFromArray"in t?r=new ng(t.removeAllFromArray.values||[]):"increment"in t?r=new ny(e,t.increment):L(),new nw(en.fromServerFormat(t.fieldPath),r)}):[];if(t.update){t.update.name;let r=ir(e,t.update.name),s=new ry({mapValue:{fields:t.update.fields}});return t.updateMask?new nk(r,s,new tF((t.updateMask.fieldPaths||[]).map(e=>en.fromServerFormat(e))),n,i):new nR(r,s,n,i)}return t.delete?new nN(ir(e,t.delete),n):t.verify?new nD(ir(e,t.verify),n):L()}function id(e,t){return{documents:[ii(e,t.path)]}}function ip(e,t){var r,n;let i;let s={structuredQuery:{}},a=t.path;null!==t.collectionGroup?(i=a,s.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=a.popLast(),s.structuredQuery.from=[{collectionId:a.lastSegment()}]),s.parent=ii(e,i);let o=function(e){if(0!==e.length)return function e(t){return t instanceof rx?function(e){if("=="===e.op){if(ru(e.value))return{unaryFilter:{field:im(e.field),op:"IS_NAN"}};if(rl(e.value))return{unaryFilter:{field:im(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(ru(e.value))return{unaryFilter:{field:im(e.field),op:"IS_NOT_NAN"}};if(rl(e.value))return{unaryFilter:{field:im(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:im(e.field),op:n1[e.op],value:e.value}}}(t):t instanceof rT?function(t){let r=t.getFilters().map(t=>e(t));return 1===r.length?r[0]:{compositeFilter:{op:n2[t.op],filters:r}}}(t):L()}(rT.create(e,"and"))}(t.filters);o&&(s.structuredQuery.where=o);let l=function(e){if(0!==e.length)return e.map(e=>({field:im(e.field),direction:n0[e.dir]}))}(t.orderBy);l&&(s.structuredQuery.orderBy=l);let u=n9(e,t.limit);return null!==u&&(s.structuredQuery.limit=u),t.startAt&&(s.structuredQuery.startAt={before:(r=t.startAt).inclusive,values:r.position}),t.endAt&&(s.structuredQuery.endAt={before:!(n=t.endAt).inclusive,values:n.position}),{ht:s,parent:i}}function ig(e){var t;let r,n=is(e.parent),i=e.structuredQuery,s=i.from?i.from.length:0,a=null;if(s>0){1===s||L();let e=i.from[0];e.allDescendants?a=e.collectionId:n=n.child(e.collectionId)}let o=[];i.where&&(o=function(e){let t=function e(t){return void 0!==t.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":let t=iy(e.unaryFilter.field);return rx.create(t,"==",{doubleValue:NaN});case"IS_NULL":let r=iy(e.unaryFilter.field);return rx.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let n=iy(e.unaryFilter.field);return rx.create(n,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let i=iy(e.unaryFilter.field);return rx.create(i,"!=",{nullValue:"NULL_VALUE"});default:return L()}}(t):void 0!==t.fieldFilter?rx.create(iy(t.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return L()}}(t.fieldFilter.op),t.fieldFilter.value):void 0!==t.compositeFilter?rT.create(t.compositeFilter.filters.map(t=>e(t)),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return L()}}(t.compositeFilter.op)):L()}(e);return t instanceof rT&&rR(t)?t.getFilters():[t]}(i.where));let l=[];i.orderBy&&(l=i.orderBy.map(e=>new rS(iy(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))));let u=null;i.limit&&(u=null==(r="object"==typeof(t=i.limit)?t.value:t)?null:r);let c=null;i.startAt&&(c=function(e){let t=!!e.before;return new rb(e.values||[],t)}(i.startAt));let h=null;return i.endAt&&(h=function(e){let t=!e.before;return new rb(e.values||[],t)}(i.endAt)),new rW(n,a,l,o,u,"F",c,h)}function im(e){return{fieldPath:e.canonicalString()}}function iy(e){return en.fromServerFormat(e.fieldPath)}function iv(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class ib{constructor(e,t,r,n,i=Q.min(),s=Q.min(),a=tV.EMPTY_BYTE_STRING,o=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=n,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=o}withSequenceNumber(e){return new ib(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new ib(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ib(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ib(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class iw{constructor(e){this.Tt=e}}function i_(e,t){let r=t.key,n={prefixPath:r.getCollectionPath().popLast().toArray(),collectionGroup:r.collectionGroup,documentId:r.path.lastSegment(),readTime:iS(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument()){var i;n.document={name:it(i=e.Tt,t.key),fields:t.data.value.mapValue.fields,updateTime:n6(i,t.version.toTimestamp()),createTime:n6(i,t.createTime.toTimestamp())}}else if(t.isNoDocument())n.noDocument={path:r.path.toArray(),readTime:iE(t.version)};else{if(!t.isUnknownDocument())return L();n.unknownDocument={path:r.path.toArray(),version:iE(t.version)}}return n}function iS(e){let t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function iE(e){let t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function ix(e){let t=new Y(e.seconds,e.nanoseconds);return Q.fromTimestamp(t)}function iT(e,t){let r=(t.baseMutations||[]).map(t=>ih(e.Tt,t));for(let e=0;e<t.mutations.length-1;++e){let r=t.mutations[e];if(e+1<t.mutations.length&&void 0!==t.mutations[e+1].transform){let n=t.mutations[e+1];r.updateTransforms=n.transform.fieldTransforms,t.mutations.splice(e+1,1),++e}}let n=t.mutations.map(t=>ih(e.Tt,t)),i=Y.fromMillis(t.localWriteTimeMs);return new nM(t.batchId,i,r,n)}function iC(e){var t;let r=ix(e.readTime),n=void 0!==e.lastLimboFreeSnapshotVersion?ix(e.lastLimboFreeSnapshotVersion):Q.min();return new ib(void 0!==e.query.documents?(1===(t=e.query).documents.length||L(),rQ(rK(is(t.documents[0])))):rQ(ig(e.query)),e.targetId,"TargetPurposeListen",e.lastListenSequenceNumber,r,n,tV.fromBase64String(e.resumeToken))}function iI(e,t){let r;let n=iE(t.snapshotVersion),i=iE(t.lastLimboFreeSnapshotVersion);r=rq(t.target)?id(e.Tt,t.target):ip(e.Tt,t.target).ht;let s=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:rV(t.target),readTime:n,resumeToken:s,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function iR(e){let t=ig({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?r0(t,t.limit,"L"):t}function ik(e,t){return new nj(t.largestBatchId,ih(e.Tt,t.overlayMutation))}function iP(e,t){let r=t.path.lastSegment();return[e,eL(t.path.popLast()),r]}function iO(e,t,r,n){return{indexId:e,uid:t,sequenceNumber:r,readTime:iE(n.readTime),documentKey:eL(n.documentKey.path),largestBatchId:n.largestBatchId}}class iA{getBundleMetadata(e,t){return tk(e,ti).get(t).next(e=>{if(e)return{id:e.bundleId,createTime:ix(e.createTime),version:e.version}})}saveBundleMetadata(e,t){return tk(e,ti).put({bundleId:t.id,createTime:iE(n3(t.createTime)),version:t.version})}getNamedQuery(e,t){return tk(e,ts).get(t).next(e=>{if(e)return{name:e.name,query:iR(e.bundledQuery),readTime:ix(e.readTime)}})}saveNamedQuery(e,t){return tk(e,ts).put({name:t.name,readTime:iE(n3(t.readTime)),bundledQuery:t.bundledQuery})}}class iN{constructor(e,t){this.serializer=e,this.userId=t}static It(e,t){return new iN(e,t.uid||"")}getOverlay(e,t){return tk(e,tm).get(iP(this.userId,t)).next(e=>e?ik(this.serializer,e):null)}getOverlays(e,t){let r=nr();return ey.forEach(t,t=>this.getOverlay(e,t).next(e=>{null!==e&&r.set(t,e)})).next(()=>r)}saveOverlays(e,t,r){let n=[];return r.forEach((r,i)=>{let s=new nj(t,i);n.push(this.Et(e,s))}),ey.waitFor(n)}removeOverlaysForBatchId(e,t,r){let n=new Set;t.forEach(e=>n.add(eL(e.getCollectionPath())));let i=[];return n.forEach(t=>{let n=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,r+1],!1,!0);i.push(tk(e,tm).J(tv,n))}),ey.waitFor(i)}getOverlaysForCollection(e,t,r){let n=nr(),i=eL(t),s=IDBKeyRange.bound([this.userId,i,r],[this.userId,i,Number.POSITIVE_INFINITY],!0);return tk(e,tm).G(tv,s).next(e=>{for(let t of e){let e=ik(this.serializer,t);n.set(e.getKey(),e)}return n})}getOverlaysForCollectionGroup(e,t,r,n){let i;let s=nr(),a=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return tk(e,tm).Z({index:tw,range:a},(e,t,r)=>{let a=ik(this.serializer,t);s.size()<n||a.largestBatchId===i?(s.set(a.getKey(),a),i=a.largestBatchId):r.done()}).next(()=>s)}Et(e,t){return tk(e,tm).put(function(e,t,r){let[n,i,s]=iP(t,r.mutation.key);return{userId:t,collectionPath:i,documentId:s,collectionGroup:r.mutation.key.getCollectionGroup(),largestBatchId:r.largestBatchId,overlayMutation:ic(e.Tt,r.mutation)}}(this.serializer,this.userId,t))}}class iD{dt(e){return tk(e,tS)}getSessionToken(e){return this.dt(e).get("sessionToken").next(e=>{let t=null==e?void 0:e.value;return t?tV.fromUint8Array(t):tV.EMPTY_BYTE_STRING})}setSessionToken(e,t){return this.dt(e).put({name:"sessionToken",value:t.toUint8Array()})}}class iM{constructor(){}At(e,t){this.Rt(e,t),t.Vt()}Rt(e,t){if("nullValue"in e)this.ft(t,5);else if("booleanValue"in e)this.ft(t,10),t.gt(e.booleanValue?1:0);else if("integerValue"in e)this.ft(t,15),t.gt(tz(e.integerValue));else if("doubleValue"in e){let r=tz(e.doubleValue);isNaN(r)?this.ft(t,13):(this.ft(t,15),eD(r)?t.gt(0):t.gt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.ft(t,20),"string"==typeof r&&(r=tq(r)),t.yt(`${r.seconds||""}`),t.gt(r.nanos||0)}else if("stringValue"in e)this.wt(e.stringValue,t),this.bt(t);else if("bytesValue"in e)this.ft(t,30),t.St(tH(e.bytesValue)),this.bt(t);else if("referenceValue"in e)this.Dt(e.referenceValue,t);else if("geoPointValue"in e){let r=e.geoPointValue;this.ft(t,45),t.gt(r.latitude||0),t.gt(r.longitude||0)}else"mapValue"in e?rf(e)?this.ft(t,Number.MAX_SAFE_INTEGER):rh(e)?this.vt(e.mapValue,t):(this.Ct(e.mapValue,t),this.bt(t)):"arrayValue"in e?(this.Ft(e.arrayValue,t),this.bt(t)):L()}wt(e,t){this.ft(t,25),this.Mt(e,t)}Mt(e,t){t.yt(e)}Ct(e,t){let r=e.fields||{};for(let e of(this.ft(t,55),Object.keys(r)))this.wt(e,t),this.Rt(r[e],t)}vt(e,t){var r,n;let i=e.fields||{};this.ft(t,53);let s=(null===(n=null===(r=i[t5].arrayValue)||void 0===r?void 0:r.values)||void 0===n?void 0:n.length)||0;this.ft(t,15),t.gt(tz(s)),this.wt(t5,t),this.Rt(i[t5],t)}Ft(e,t){let r=e.values||[];for(let e of(this.ft(t,50),r))this.Rt(e,t)}Dt(e,t){this.ft(t,37),ei.fromName(e).path.forEach(e=>{this.ft(t,60),this.Mt(e,t)})}ft(e,t){e.gt(t)}bt(e){e.gt(2)}}function iL(e){return Math.ceil((64-function(e){let t=0;for(let r=0;r<8;++r){let n=function(e){if(0===e)return 8;let t=0;return e>>4||(t+=4,e<<=4),e>>6||(t+=2,e<<=2),e>>7||(t+=1),t}(255&e[r]);if(t+=n,8!==n)break}return t}(e))/8)}iM.xt=new iM;class ij{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ot(e){let t=e[Symbol.iterator](),r=t.next();for(;!r.done;)this.Nt(r.value),r=t.next();this.Bt()}Lt(e){let t=e[Symbol.iterator](),r=t.next();for(;!r.done;)this.kt(r.value),r=t.next();this.qt()}Qt(e){for(let t of e){let e=t.charCodeAt(0);if(e<128)this.Nt(e);else if(e<2048)this.Nt(960|e>>>6),this.Nt(128|63&e);else if(t<"\ud800"||"\udbff"<t)this.Nt(480|e>>>12),this.Nt(128|63&e>>>6),this.Nt(128|63&e);else{let e=t.codePointAt(0);this.Nt(240|e>>>18),this.Nt(128|63&e>>>12),this.Nt(128|63&e>>>6),this.Nt(128|63&e)}}this.Bt()}$t(e){for(let t of e){let e=t.charCodeAt(0);if(e<128)this.kt(e);else if(e<2048)this.kt(960|e>>>6),this.kt(128|63&e);else if(t<"\ud800"||"\udbff"<t)this.kt(480|e>>>12),this.kt(128|63&e>>>6),this.kt(128|63&e);else{let e=t.codePointAt(0);this.kt(240|e>>>18),this.kt(128|63&e>>>12),this.kt(128|63&e>>>6),this.kt(128|63&e)}}this.qt()}Kt(e){let t=this.Ut(e),r=iL(t);this.Wt(1+r),this.buffer[this.position++]=255&r;for(let e=t.length-r;e<t.length;++e)this.buffer[this.position++]=255&t[e]}Gt(e){let t=this.Ut(e),r=iL(t);this.Wt(1+r),this.buffer[this.position++]=~(255&r);for(let e=t.length-r;e<t.length;++e)this.buffer[this.position++]=~(255&t[e])}zt(){this.jt(255),this.jt(255)}Ht(){this.Jt(255),this.Jt(255)}reset(){this.position=0}seed(e){this.Wt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Yt(){return this.buffer.slice(0,this.position)}Ut(e){let t=function(e){let t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),r=!!(128&t[0]);t[0]^=r?255:128;for(let e=1;e<t.length;++e)t[e]^=r?255:0;return t}Nt(e){let t=255&e;0===t?(this.jt(0),this.jt(255)):255===t?(this.jt(255),this.jt(0)):this.jt(t)}kt(e){let t=255&e;0===t?(this.Jt(0),this.Jt(255)):255===t?(this.Jt(255),this.Jt(0)):this.Jt(e)}Bt(){this.jt(0),this.jt(1)}qt(){this.Jt(0),this.Jt(1)}jt(e){this.Wt(1),this.buffer[this.position++]=e}Jt(e){this.Wt(1),this.buffer[this.position++]=~e}Wt(e){let t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);let n=new Uint8Array(r);n.set(this.buffer),this.buffer=n}}class i${constructor(e){this.Zt=e}St(e){this.Zt.Ot(e)}yt(e){this.Zt.Qt(e)}gt(e){this.Zt.Kt(e)}Vt(){this.Zt.zt()}}class iF{constructor(e){this.Zt=e}St(e){this.Zt.Lt(e)}yt(e){this.Zt.$t(e)}gt(e){this.Zt.Gt(e)}Vt(){this.Zt.Ht()}}class iU{constructor(){this.Zt=new ij,this.Xt=new i$(this.Zt),this.en=new iF(this.Zt)}seed(e){this.Zt.seed(e)}tn(e){return 0===e?this.Xt:this.en}Yt(){return this.Zt.Yt()}reset(){this.Zt.reset()}}class iV{constructor(e,t,r,n){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=n}nn(){let e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new iV(this.indexId,this.documentKey,this.arrayValue,r)}}function iB(e,t){let r=e.indexId-t.indexId;return 0!==r?r:0!==(r=iq(e.arrayValue,t.arrayValue))?r:0!==(r=iq(e.directionalValue,t.directionalValue))?r:ei.comparator(e.documentKey,t.documentKey)}function iq(e,t){for(let r=0;r<e.length&&r<t.length;++r){let n=e[r]-t[r];if(0!==n)return n}return e.length-t.length}class iz{constructor(e){for(let t of(this.rn=new tL((e,t)=>en.comparator(e.field,t.field)),this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.sn=e.orderBy,this._n=[],e.filters))t.isInequality()?this.rn=this.rn.add(t):this._n.push(t)}get an(){return this.rn.size>1}un(e){if(e.collectionGroup===this.collectionId||L(),this.an)return!1;let t=ea(e);if(void 0!==t&&!this.cn(t))return!1;let r=eo(e),n=new Set,i=0,s=0;for(;i<r.length&&this.cn(r[i]);++i)n=n.add(r[i].fieldPath.canonicalString());if(i===r.length)return!0;if(this.rn.size>0){let e=this.rn.getIterator().getNext();if(!n.has(e.field.canonicalString())){let t=r[i];if(!this.ln(e,t)||!this.hn(this.sn[s++],t))return!1}++i}for(;i<r.length;++i){let e=r[i];if(s>=this.sn.length||!this.hn(this.sn[s++],e))return!1}return!0}Pn(){if(this.an)return null;let e=new tL(en.comparator),t=[];for(let r of this._n)if(!r.field.isKeyField()){if("array-contains"===r.op||"array-contains-any"===r.op)t.push(new el(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),t.push(new el(r.field,0))}}for(let r of this.sn)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),t.push(new el(r.field,"asc"===r.dir?0:1)));return new es(es.UNKNOWN_ID,this.collectionId,t,eu.empty())}cn(e){for(let t of this._n)if(this.ln(t,e))return!0;return!1}ln(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;let r="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===r}hn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function iH(e){return e instanceof rx}function iG(e){return e instanceof rT&&rR(e)}function iW(e){return iH(e)||iG(e)||function(e){if(e instanceof rT&&rI(e)){for(let t of e.getFilters())if(!iH(t)&&!iG(t))return!1;return!0}return!1}(e)}function iK(e,t){return e instanceof rx||e instanceof rT||L(),t instanceof rx||t instanceof rT||L(),iX(e instanceof rx?t instanceof rx?rT.create([e,t],"and"):iJ(e,t):t instanceof rx?iJ(t,e):function(e,t){if(e.filters.length>0&&t.filters.length>0||L(),rC(e)&&rC(t))return rP(e,t.getFilters());let r=rI(e)?e:t,n=rI(e)?t:e,i=r.filters.map(e=>iK(e,n));return rT.create(i,"or")}(e,t))}function iJ(e,t){if(rC(t))return rP(t,e.getFilters());{let r=t.filters.map(t=>iK(e,t));return rT.create(r,"or")}}function iX(e){if(e instanceof rx||e instanceof rT||L(),e instanceof rx)return e;let t=e.getFilters();if(1===t.length)return iX(t[0]);if(rk(e))return e;let r=t.map(e=>iX(e)),n=[];return r.forEach(t=>{t instanceof rx?n.push(t):t instanceof rT&&(t.op===e.op?n.push(...t.filters):n.push(t))}),1===n.length?n[0]:rT.create(n,e.op)}class iY{constructor(){this.Tn=new iQ}addToCollectionParentIndex(e,t){return this.Tn.add(t),ey.resolve()}getCollectionParents(e,t){return ey.resolve(this.Tn.getEntries(t))}addFieldIndex(e,t){return ey.resolve()}deleteFieldIndex(e,t){return ey.resolve()}deleteAllFieldIndexes(e){return ey.resolve()}createTargetIndexes(e,t){return ey.resolve()}getDocumentsMatchingTarget(e,t){return ey.resolve(null)}getIndexType(e,t){return ey.resolve(0)}getFieldIndexes(e,t){return ey.resolve([])}getNextCollectionGroupToUpdate(e){return ey.resolve(null)}getMinOffset(e,t){return ey.resolve(ed.min())}getMinOffsetFromCollectionGroup(e,t){return ey.resolve(ed.min())}updateCollectionGroup(e,t,r){return ey.resolve()}updateIndexEntries(e,t){return ey.resolve()}}class iQ{constructor(){this.index={}}add(e){let t=e.lastSegment(),r=e.popLast(),n=this.index[t]||new tL(et.comparator),i=!n.has(r);return this.index[t]=n.add(r),i}has(e){let t=e.lastSegment(),r=e.popLast(),n=this.index[t];return n&&n.has(r)}getEntries(e){return(this.index[e]||new tL(et.comparator)).toArray()}}let iZ="IndexedDbIndexManager",i0=new Uint8Array(0);class i1{constructor(e,t){this.databaseId=t,this.In=new iQ,this.En=new r3(e=>rV(e),(e,t)=>rB(e,t)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.In.has(t)){let r=t.lastSegment(),n=t.popLast();e.addOnCommittedListener(()=>{this.In.add(t)});let i={collectionId:r,parent:eL(n)};return tk(e,tt).put(i)}return ey.resolve()}getCollectionParents(e,t){let r=[],n=IDBKeyRange.bound([t,""],[t+"\0",""],!1,!0);return tk(e,tt).G(n).next(e=>{for(let n of e){if(n.collectionId!==t)break;r.push(ej(n.parent))}return r})}addFieldIndex(e,t){let r=tk(e,ta),n={indexId:t.indexId,collectionGroup:t.collectionGroup,fields:t.fields.map(e=>[e.fieldPath.canonicalString(),e.kind])};delete n.indexId;let i=r.add(n);if(t.indexState){let r=tk(e,tl);return i.next(e=>{r.put(iO(e,this.uid,t.indexState.sequenceNumber,t.indexState.offset))})}return i.next()}deleteFieldIndex(e,t){let r=tk(e,ta),n=tk(e,tl),i=tk(e,td);return r.delete(t.indexId).next(()=>n.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){let t=tk(e,ta),r=tk(e,td),n=tk(e,tl);return t.J().next(()=>r.J()).next(()=>n.J())}createTargetIndexes(e,t){return ey.forEach(this.dn(t),t=>this.getIndexType(e,t).next(r=>{if(0===r||1===r){let r=new iz(t).Pn();if(null!=r)return this.addFieldIndex(e,r)}}))}getDocumentsMatchingTarget(e,t){let r=tk(e,td),n=!0,i=new Map;return ey.forEach(this.dn(t),t=>this.An(e,t).next(e=>{n&&(n=!!e),i.set(t,e)})).next(()=>{if(n){let e=ns(),n=[];return ey.forEach(i,(i,s)=>{A(iZ,`Using index id=${i.indexId}|cg=${i.collectionGroup}|f=${i.fields.map(e=>`${e.fieldPath}:${e.kind}`).join(",")} to execute ${rV(t)}`);let a=function(e,t){let r=ea(t);if(void 0===r)return null;for(let t of rz(e,r.fieldPath))switch(t.op){case"array-contains-any":return t.value.arrayValue.values||[];case"array-contains":return[t.value]}return null}(s,i),o=function(e,t){let r=new Map;for(let n of eo(t))for(let t of rz(e,n.fieldPath))switch(t.op){case"==":case"in":r.set(n.fieldPath.canonicalString(),t.value);break;case"not-in":case"!=":return r.set(n.fieldPath.canonicalString(),t.value),Array.from(r.values())}return null}(s,i),l=function(e,t){let r=[],n=!0;for(let i of eo(t)){let t=0===i.kind?rH(e,i.fieldPath,e.startAt):rG(e,i.fieldPath,e.startAt);r.push(t.value),n&&(n=t.inclusive)}return new rb(r,n)}(s,i),u=function(e,t){let r=[],n=!0;for(let i of eo(t)){let t=0===i.kind?rG(e,i.fieldPath,e.endAt):rH(e,i.fieldPath,e.endAt);r.push(t.value),n&&(n=t.inclusive)}return new rb(r,n)}(s,i),c=this.Rn(i,s,l),h=this.Rn(i,s,u),d=this.Vn(i,s,o),f=this.mn(i.indexId,a,c,l.inclusive,h,u.inclusive,d);return ey.forEach(f,i=>r.H(i,t.limit).next(t=>{t.forEach(t=>{let r=ei.fromSegments(t.documentKey);e.has(r)||(e=e.add(r),n.push(r))})}))}).next(()=>n)}return ey.resolve(null)})}dn(e){let t=this.En.get(e);return t||(t=0===e.filters.length?[e]:(function(e){if(0===e.getFilters().length)return[];let t=function e(t){if(t instanceof rx||t instanceof rT||L(),t instanceof rx)return t;if(1===t.filters.length)return e(t.filters[0]);let r=t.filters.map(t=>e(t)),n=rT.create(r,t.op);return iW(n=iX(n))?n:(n instanceof rT||L(),rC(n)||L(),n.filters.length>1||L(),n.filters.reduce((e,t)=>iK(e,t)))}(function e(t){var r,n;if(t instanceof rx||t instanceof rT||L(),t instanceof rx){if(t instanceof rL){let e=(null===(n=null===(r=t.value.arrayValue)||void 0===r?void 0:r.values)||void 0===n?void 0:n.map(e=>rx.create(t.field,"==",e)))||[];return rT.create(e,"or")}return t}let i=t.filters.map(t=>e(t));return rT.create(i,t.op)}(e));return iW(t)||L(),iH(t)||iG(t)?[t]:t.getFilters()})(rT.create(e.filters,"and")).map(t=>rU(e.path,e.collectionGroup,e.orderBy,t.getFilters(),e.limit,e.startAt,e.endAt)),this.En.set(e,t)),t}mn(e,t,r,n,i,s,a){let o=(null!=t?t.length:1)*Math.max(r.length,i.length),l=o/(null!=t?t.length:1),u=[];for(let c=0;c<o;++c){let o=t?this.fn(t[c/l]):i0,h=this.gn(e,o,r[c%l],n),d=this.pn(e,o,i[c%l],s),f=a.map(t=>this.gn(e,o,t,!0));u.push(...this.createRange(h,d,f))}return u}gn(e,t,r,n){let i=new iV(e,ei.empty(),t,r);return n?i:i.nn()}pn(e,t,r,n){let i=new iV(e,ei.empty(),t,r);return n?i.nn():i}An(e,t){let r=new iz(t),n=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,n).next(e=>{let t=null;for(let n of e)r.un(n)&&(!t||n.fields.length>t.fields.length)&&(t=n);return t})}getIndexType(e,t){let r=2,n=this.dn(t);return ey.forEach(n,t=>this.An(e,t).next(e=>{e?0!==r&&e.fields.length<function(e){let t=new tL(en.comparator),r=!1;for(let n of e.filters)for(let e of n.getFlattenedFilters())e.field.isKeyField()||("array-contains"===e.op||"array-contains-any"===e.op?r=!0:t=t.add(e.field));for(let r of e.orderBy)r.field.isKeyField()||(t=t.add(r.field));return t.size+(r?1:0)}(t)&&(r=1):r=0})).next(()=>null!==t.limit&&n.length>1&&2===r?1:r)}yn(e,t){let r=new iU;for(let n of eo(e)){let e=t.data.field(n.fieldPath);if(null==e)return null;let i=r.tn(n.kind);iM.xt.At(e,i)}return r.Yt()}fn(e){let t=new iU;return iM.xt.At(e,t.tn(0)),t.Yt()}wn(e,t){let r=new iU;return iM.xt.At(rs(this.databaseId,t),r.tn(function(e){let t=eo(e);return 0===t.length?0:t[t.length-1].kind}(e))),r.Yt()}Vn(e,t,r){if(null===r)return[];let n=[];n.push(new iU);let i=0;for(let s of eo(e)){let e=r[i++];for(let r of n)if(this.bn(t,s.fieldPath)&&ro(e))n=this.Sn(n,s,e);else{let t=r.tn(s.kind);iM.xt.At(e,t)}}return this.Dn(n)}Rn(e,t,r){return this.Vn(e,t,r.position)}Dn(e){let t=[];for(let r=0;r<e.length;++r)t[r]=e[r].Yt();return t}Sn(e,t,r){let n=[...e],i=[];for(let e of r.arrayValue.values||[])for(let r of n){let n=new iU;n.seed(r.Yt()),iM.xt.At(e,n.tn(t.kind)),i.push(n)}return i}bn(e,t){return!!e.filters.find(e=>e instanceof rx&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op))}getFieldIndexes(e,t){let r=tk(e,ta),n=tk(e,tl);return(t?r.G(to,IDBKeyRange.bound(t,t)):r.G()).next(e=>{let t=[];return ey.forEach(e,e=>n.get([e.indexId,this.uid]).next(r=>{t.push(function(e,t){let r=t?new eu(t.sequenceNumber,new ed(ix(t.readTime),new ei(ej(t.documentKey)),t.largestBatchId)):eu.empty(),n=e.fields.map(([e,t])=>new el(en.fromServerFormat(e),t));return new es(e.indexId,e.collectionGroup,n,r)}(e,r))})).next(()=>t)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(e=>0===e.length?null:(e.sort((e,t)=>{let r=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==r?r:J(e.collectionGroup,t.collectionGroup)}),e[0].collectionGroup))}updateCollectionGroup(e,t,r){let n=tk(e,ta),i=tk(e,tl);return this.vn(e).next(e=>n.G(to,IDBKeyRange.bound(t,t)).next(t=>ey.forEach(t,t=>i.put(iO(t.indexId,this.uid,e,r)))))}updateIndexEntries(e,t){let r=new Map;return ey.forEach(t,(t,n)=>{let i=r.get(t.collectionGroup);return(i?ey.resolve(i):this.getFieldIndexes(e,t.collectionGroup)).next(i=>(r.set(t.collectionGroup,i),ey.forEach(i,r=>this.Cn(e,t,r).next(t=>{let i=this.Fn(n,r);return t.isEqual(i)?ey.resolve():this.Mn(e,n,r,t,i)}))))})}xn(e,t,r,n){return tk(e,td).put({indexId:n.indexId,uid:this.uid,arrayValue:n.arrayValue,directionalValue:n.directionalValue,orderedDocumentKey:this.wn(r,t.key),documentKey:t.key.path.toArray()})}On(e,t,r,n){return tk(e,td).delete([n.indexId,this.uid,n.arrayValue,n.directionalValue,this.wn(r,t.key),t.key.path.toArray()])}Cn(e,t,r){let n=tk(e,td),i=new tL(iB);return n.Z({index:tp,range:IDBKeyRange.only([r.indexId,this.uid,this.wn(r,t)])},(e,n)=>{i=i.add(new iV(r.indexId,t,n.arrayValue,n.directionalValue))}).next(()=>i)}Fn(e,t){let r=new tL(iB),n=this.yn(t,e);if(null==n)return r;let i=ea(t);if(null!=i){let s=e.data.field(i.fieldPath);if(ro(s))for(let i of s.arrayValue.values||[])r=r.add(new iV(t.indexId,e.key,this.fn(i),n))}else r=r.add(new iV(t.indexId,e.key,i0,n));return r}Mn(e,t,r,n,i){A(iZ,"Updating index entries for document '%s'",t.key);let s=[];return function(e,t,r,n,i){let s=e.getIterator(),a=t.getIterator(),o=t$(s),l=t$(a);for(;o||l;){let e=!1,t=!1;if(o&&l){let n=r(o,l);n<0?t=!0:n>0&&(e=!0)}else null!=o?t=!0:e=!0;e?(n(l),l=t$(a)):t?(i(o),o=t$(s)):(o=t$(s),l=t$(a))}}(n,i,iB,n=>{s.push(this.xn(e,t,r,n))},n=>{s.push(this.On(e,t,r,n))}),ey.waitFor(s)}vn(e){let t=1;return tk(e,tl).Z({index:tc,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(e,r,n)=>{n.done(),t=r.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((e,t)=>iB(e,t)).filter((e,t,r)=>!t||0!==iB(e,r[t-1]));let n=[];for(let i of(n.push(e),r)){let r=iB(i,e),s=iB(i,t);if(0===r)n[0]=e.nn();else if(r>0&&s<0)n.push(i),n.push(i.nn());else if(s>0)break}n.push(t);let i=[];for(let e=0;e<n.length;e+=2){if(this.Nn(n[e],n[e+1]))return[];let t=[n[e].indexId,this.uid,n[e].arrayValue,n[e].directionalValue,i0,[]],r=[n[e+1].indexId,this.uid,n[e+1].arrayValue,n[e+1].directionalValue,i0,[]];i.push(IDBKeyRange.bound(t,r))}return i}Nn(e,t){return iB(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(i2)}getMinOffset(e,t){return ey.mapArray(this.dn(t),t=>this.An(e,t).next(e=>e||L())).next(i2)}}function i2(e){0!==e.length||L();let t=e[0].indexState.offset,r=t.largestBatchId;for(let n=1;n<e.length;n++){let i=e[n].indexState.offset;0>ef(i,t)&&(t=i),r<i.largestBatchId&&(r=i.largestBatchId)}return new ed(t.readTime,t.documentKey,r)}let i4={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class i9{static withCacheSize(e){return new i9(e,i9.DEFAULT_COLLECTION_PERCENTILE,i9.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}function i6(e,t,r){let n=e.store(eB),i=e.store(eW),s=[],a=IDBKeyRange.only(r.batchId),o=0,l=n.Z({range:a},(e,t,r)=>(o++,r.delete()));s.push(l.next(()=>{1===o||L()}));let u=[];for(let e of r.mutations){var c,h;let n=(c=e.key.path,h=r.batchId,[t,eL(c),h]);s.push(i.delete(n)),u.push(e.key)}return ey.waitFor(s).next(()=>u)}function i5(e){let t;if(!e)return 0;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw L();t=e.noDocument}return JSON.stringify(t).length}i9.DEFAULT_COLLECTION_PERCENTILE=10,i9.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,i9.DEFAULT=new i9(41943040,i9.DEFAULT_COLLECTION_PERCENTILE,i9.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),i9.DISABLED=new i9(-1,0,0);class i3{constructor(e,t,r,n){this.userId=e,this.serializer=t,this.indexManager=r,this.referenceDelegate=n,this.Bn={}}static It(e,t,r,n){return""!==e.uid||L(),new i3(e.isAuthenticated()?e.uid:"",t,r,n)}checkEmpty(e){let t=!0,r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return i7(e).Z({index:ez,range:r},(e,r,n)=>{t=!1,n.done()}).next(()=>t)}addMutationBatch(e,t,r,n){let i=tk(e,eW),s=i7(e);return s.add({}).next(a=>{"number"==typeof a||L();let o=new nM(a,t,r,n),l=function(e,t,r){let n=r.baseMutations.map(t=>ic(e.Tt,t)),i=r.mutations.map(t=>ic(e.Tt,t));return{userId:t,batchId:r.batchId,localWriteTimeMs:r.localWriteTime.toMillis(),baseMutations:n,mutations:i}}(this.serializer,this.userId,o),u=[],c=new tL((e,t)=>J(e.canonicalString(),t.canonicalString()));for(let e of n){let t=[this.userId,eL(e.key.path),a];c=c.add(e.key.path.popLast()),u.push(s.put(l)),u.push(i.put(t,eG))}return c.forEach(t=>{u.push(this.indexManager.addToCollectionParentIndex(e,t))}),e.addOnCommittedListener(()=>{this.Bn[a]=o.keys()}),ey.waitFor(u).next(()=>o)})}lookupMutationBatch(e,t){return i7(e).get(t).next(e=>e?(e.userId===this.userId||L(),iT(this.serializer,e)):null)}Ln(e,t){return this.Bn[t]?ey.resolve(this.Bn[t]):this.lookupMutationBatch(e,t).next(e=>{if(e){let r=e.keys();return this.Bn[t]=r,r}return null})}getNextMutationBatchAfterBatchId(e,t){let r=t+1,n=IDBKeyRange.lowerBound([this.userId,r]),i=null;return i7(e).Z({index:ez,range:n},(e,t,n)=>{t.userId===this.userId&&(t.batchId>=r||L(),i=iT(this.serializer,t)),n.done()}).next(()=>i)}getHighestUnacknowledgedBatchId(e){let t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),r=-1;return i7(e).Z({index:ez,range:t,reverse:!0},(e,t,n)=>{r=t.batchId,n.done()}).next(()=>r)}getAllMutationBatches(e){let t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return i7(e).G(ez,t).next(e=>e.map(e=>iT(this.serializer,e)))}getAllMutationBatchesAffectingDocumentKey(e,t){let r=[this.userId,eL(t.path)],n=IDBKeyRange.lowerBound(r),i=[];return tk(e,eW).Z({range:n},(r,n,s)=>{let[a,o,l]=r,u=ej(o);if(a===this.userId&&t.path.isEqual(u))return i7(e).get(l).next(e=>{if(!e)throw L();e.userId===this.userId||L(),i.push(iT(this.serializer,e))});s.done()}).next(()=>i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new tL(J),n=[];return t.forEach(t=>{let i=[this.userId,eL(t.path)],s=IDBKeyRange.lowerBound(i),a=tk(e,eW).Z({range:s},(e,n,i)=>{let[s,a,o]=e,l=ej(a);s===this.userId&&t.path.isEqual(l)?r=r.add(o):i.done()});n.push(a)}),ey.waitFor(n).next(()=>this.kn(e,r))}getAllMutationBatchesAffectingQuery(e,t){let r=t.path,n=r.length+1,i=[this.userId,eL(r)],s=IDBKeyRange.lowerBound(i),a=new tL(J);return tk(e,eW).Z({range:s},(e,t,i)=>{let[s,o,l]=e,u=ej(o);s===this.userId&&r.isPrefixOf(u)?u.length===n&&(a=a.add(l)):i.done()}).next(()=>this.kn(e,a))}kn(e,t){let r=[],n=[];return t.forEach(t=>{n.push(i7(e).get(t).next(e=>{if(null===e)throw L();e.userId===this.userId||L(),r.push(iT(this.serializer,e))}))}),ey.waitFor(n).next(()=>r)}removeMutationBatch(e,t){return i6(e.ue,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.qn(t.batchId)}),ey.forEach(r,t=>this.referenceDelegate.markPotentiallyOrphaned(e,t))))}qn(e){delete this.Bn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return ey.resolve();let r=IDBKeyRange.lowerBound([this.userId]),n=[];return tk(e,eW).Z({range:r},(e,t,r)=>{if(e[0]===this.userId){let t=ej(e[1]);n.push(t)}else r.done()}).next(()=>{0===n.length||L()})})}containsKey(e,t){return i8(e,this.userId,t)}Qn(e){return tk(e,eV).get(this.userId).next(e=>e||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function i8(e,t,r){let n=[t,eL(r.path)],i=n[1],s=IDBKeyRange.lowerBound(n),a=!1;return tk(e,eW).Z({range:s,Y:!0},(e,r,n)=>{let[s,o,l]=e;s===t&&o===i&&(a=!0),n.done()}).next(()=>a)}function i7(e){return tk(e,eB)}class se{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new se(0)}static Un(){return new se(-1)}}class st{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.Wn(e).next(t=>{let r=new se(t.highestTargetId);return t.highestTargetId=r.next(),this.Gn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Wn(e).next(e=>Q.fromTimestamp(new Y(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Wn(e).next(e=>e.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.Wn(e).next(n=>(n.highestListenSequenceNumber=t,r&&(n.lastRemoteSnapshotVersion=r.toTimestamp()),t>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=t),this.Gn(e,n)))}addTargetData(e,t){return this.zn(e,t).next(()=>this.Wn(e).next(r=>(r.targetCount+=1,this.jn(t,r),this.Gn(e,r))))}updateTargetData(e,t){return this.zn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>tk(e,e2).delete(t.targetId)).next(()=>this.Wn(e)).next(t=>(t.targetCount>0||L(),t.targetCount-=1,this.Gn(e,t)))}removeTargets(e,t,r){let n=0,i=[];return tk(e,e2).Z((s,a)=>{let o=iC(a);o.sequenceNumber<=t&&null===r.get(o.targetId)&&(n++,i.push(this.removeTargetData(e,o)))}).next(()=>ey.waitFor(i)).next(()=>n)}forEachTarget(e,t){return tk(e,e2).Z((e,r)=>{t(iC(r))})}Wn(e){return tk(e,te).get(e7).next(e=>(null!==e||L(),e))}Gn(e,t){return tk(e,te).put(e7,t)}zn(e,t){return tk(e,e2).put(iI(this.serializer,t))}jn(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.Wn(e).next(e=>e.targetCount)}getTargetData(e,t){let r=rV(t),n=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]),i=null;return tk(e,e2).Z({range:n,index:e4},(e,r,n)=>{let s=iC(r);rB(t,s.target)&&(i=s,n.done())}).next(()=>i)}addMatchingKeys(e,t,r){let n=[],i=sr(e);return t.forEach(t=>{let s=eL(t.path);n.push(i.put({targetId:r,path:s})),n.push(this.referenceDelegate.addReference(e,r,t))}),ey.waitFor(n)}removeMatchingKeys(e,t,r){let n=sr(e);return ey.forEach(t,t=>{let i=eL(t.path);return ey.waitFor([n.delete([r,i]),this.referenceDelegate.removeReference(e,r,t)])})}removeMatchingKeysForTargetId(e,t){let r=sr(e),n=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(n)}getMatchingKeysForTargetId(e,t){let r=IDBKeyRange.bound([t],[t+1],!1,!0),n=sr(e),i=ns();return n.Z({range:r,Y:!0},(e,t,r)=>{let n=new ei(ej(e[1]));i=i.add(n)}).next(()=>i)}containsKey(e,t){let r=eL(t.path),n=IDBKeyRange.bound([r],[r+"\0"],!1,!0),i=0;return sr(e).Z({index:e3,Y:!0,range:n},([e,t],r,n)=>{0!==e&&(i++,n.done())}).next(()=>i>0)}lt(e,t){return tk(e,e2).get(t).next(e=>e?iC(e):null)}}function sr(e){return tk(e,e6)}let sn="LruGarbageCollector";function si([e,t],[r,n]){let i=J(e,r);return 0===i?J(t,n):i}class ss{constructor(e){this.Hn=e,this.buffer=new tL(si),this.Jn=0}Yn(){return++this.Jn}Zn(e){let t=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(t);else{let e=this.buffer.last();0>si(t,e)&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class sa{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Xn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return null!==this.Xn}er(e){A(sn,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){ex(e)?A(sn,"Ignoring IndexedDB error during garbage collection: ",e):await em(e)}await this.er(3e5)})}}class so{constructor(e,t){this.tr=e,this.params=t}calculateTargetCount(e,t){return this.tr.nr(e).next(e=>Math.floor(t/100*e))}nthSequenceNumber(e,t){if(0===t)return ey.resolve(eA.ae);let r=new ss(t);return this.tr.forEachTarget(e,e=>r.Zn(e.sequenceNumber)).next(()=>this.tr.rr(e,e=>r.Zn(e))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.tr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.tr.removeOrphanedDocuments(e,t)}collect(e,t){return -1===this.params.cacheSizeCollectionThreshold?(A("LruGarbageCollector","Garbage collection skipped; disabled"),ey.resolve(i4)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(A("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),i4):this.ir(e,t))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,t){let r,n,i,s,a,o,l;let u=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(t=>(t>this.params.maximumSequenceNumbersToCollect?(A("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${t}`),n=this.params.maximumSequenceNumbersToCollect):n=t,s=Date.now(),this.nthSequenceNumber(e,n))).next(n=>(r=n,a=Date.now(),this.removeTargets(e,r,t))).next(t=>(i=t,o=Date.now(),this.removeOrphanedDocuments(e,r))).next(e=>(l=Date.now(),O()<=b.in.DEBUG&&A("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-u}ms
	Determined least recently used ${n} in `+(a-s)+"ms\n"+`	Removed ${i} targets in `+(o-a)+"ms\n"+`	Removed ${e} documents in `+(l-o)+"ms\n"+`Total Duration: ${l-u}ms`),ey.resolve({didRun:!0,sequenceNumbersCollected:n,targetsRemoved:i,documentsRemoved:e})))}}class sl{constructor(e,t){this.db=e,this.garbageCollector=new so(this,t)}nr(e){let t=this.sr(e);return this.db.getTargetCache().getTargetCount(e).next(e=>t.next(t=>e+t))}sr(e){let t=0;return this.rr(e,e=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}rr(e,t){return this._r(e,(e,r)=>t(r))}addReference(e,t,r){return su(e,r)}removeReference(e,t,r){return su(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return su(e,t)}ar(e,t){let r;return r=!1,tk(e,eV).X(n=>i8(e,n,t).next(e=>(e&&(r=!0),ey.resolve(!e)))).next(()=>r)}removeOrphanedDocuments(e,t){let r=this.db.getRemoteDocumentCache().newChangeBuffer(),n=[],i=0;return this._r(e,(s,a)=>{if(a<=t){let t=this.ar(e,s).next(t=>{if(!t)return i++,r.getEntry(e,s).next(()=>(r.removeEntry(s,Q.min()),sr(e).delete([0,eL(s.path)])))});n.push(t)}}).next(()=>ey.waitFor(n)).next(()=>r.apply(e)).next(()=>i)}removeTarget(e,t){let r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return su(e,t)}_r(e,t){let r=sr(e),n,i=eA.ae;return r.Z({index:e3},([e,r],{path:s,sequenceNumber:a})=>{0===e?(i!==eA.ae&&t(new ei(ej(n)),i),i=a,n=s):i=eA.ae}).next(()=>{i!==eA.ae&&t(new ei(ej(n)),i)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function su(e,t){var r;return sr(e).put((r=e.currentSequenceNumber,{targetId:0,path:eL(t.path),sequenceNumber:r}))}class sc{constructor(){this.changes=new r3(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,rv.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let r=this.changes.get(t);return void 0!==r?ey.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class sh{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return tk(e,eK).put(r)}removeEntry(e,t,r){return tk(e,eK).delete(function(e,t){let r=e.path.toArray();return[r.slice(0,r.length-2),r[r.length-2],iS(t),r[r.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.ur(e,r)))}getEntry(e,t){let r=rv.newInvalidDocument(t);return tk(e,eK).Z({index:eX,range:IDBKeyRange.only(sf(t))},(e,n)=>{r=this.cr(t,n)}).next(()=>r)}lr(e,t){let r={size:0,document:rv.newInvalidDocument(t)};return tk(e,eK).Z({index:eX,range:IDBKeyRange.only(sf(t))},(e,n)=>{r={document:this.cr(t,n),size:i5(n)}}).next(()=>r)}getEntries(e,t){let r=r8;return this.hr(e,t,(e,t)=>{let n=this.cr(e,t);r=r.insert(e,n)}).next(()=>r)}Pr(e,t){let r=r8,n=new tN(ei.comparator);return this.hr(e,t,(e,t)=>{let i=this.cr(e,t);r=r.insert(e,i),n=n.insert(e,i5(t))}).next(()=>({documents:r,Tr:n}))}hr(e,t,r){if(t.isEmpty())return ey.resolve();let n=new tL(sg);t.forEach(e=>n=n.add(e));let i=IDBKeyRange.bound(sf(n.first()),sf(n.last())),s=n.getIterator(),a=s.getNext();return tk(e,eK).Z({index:eX,range:i},(e,t,n)=>{let i=ei.fromSegments([...t.prefixPath,t.collectionGroup,t.documentId]);for(;a&&0>sg(a,i);)r(a,null),a=s.getNext();a&&a.isEqual(i)&&(r(a,t),a=s.hasNext()?s.getNext():null),a?n.W(sf(a)):n.done()}).next(()=>{for(;a;)r(a,null),a=s.hasNext()?s.getNext():null})}getDocumentsMatchingQuery(e,t,r,n,i){let s=t.path,a=[s.popLast().toArray(),s.lastSegment(),iS(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],o=[s.popLast().toArray(),s.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return tk(e,eK).G(IDBKeyRange.bound(a,o,!0)).next(e=>{null==i||i.incrementDocumentReadCount(e.length);let r=r8;for(let i of e){let e=this.cr(ei.fromSegments(i.prefixPath.concat(i.collectionGroup,i.documentId)),i);e.isFoundDocument()&&(r9(t,e)||n.has(e.key))&&(r=r.insert(e.key,e))}return r})}getAllFromCollectionGroup(e,t,r,n){let i=r8,s=sp(t,r),a=sp(t,ed.max());return tk(e,eK).Z({index:eQ,range:IDBKeyRange.bound(s,a,!0)},(e,t,r)=>{let s=this.cr(ei.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);(i=i.insert(s.key,s)).size===n&&r.done()}).next(()=>i)}newChangeBuffer(e){return new sd(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(e=>e.byteSize)}getMetadata(e){return tk(e,e0).get(e1).next(e=>(e||L(),e))}ur(e,t){return tk(e,e0).put(e1,t)}cr(e,t){if(t){let e=function(e,t){let r;if(t.document)r=iu(e.Tt,t.document,!!t.hasCommittedMutations);else if(t.noDocument){let e=ei.fromSegments(t.noDocument.path),n=ix(t.noDocument.readTime);r=rv.newNoDocument(e,n),t.hasCommittedMutations&&r.setHasCommittedMutations()}else{if(!t.unknownDocument)return L();{let e=ei.fromSegments(t.unknownDocument.path),n=ix(t.unknownDocument.version);r=rv.newUnknownDocument(e,n)}}return t.readTime&&r.setReadTime(function(e){let t=new Y(e[0],e[1]);return Q.fromTimestamp(t)}(t.readTime)),r}(this.serializer,t);if(!(e.isNoDocument()&&e.version.isEqual(Q.min())))return e}return rv.newInvalidDocument(e)}}class sd extends sc{constructor(e,t){super(),this.Ir=e,this.trackRemovals=t,this.Er=new r3(e=>e.toString(),(e,t)=>e.isEqual(t))}applyChanges(e){let t=[],r=0,n=new tL((e,t)=>J(e.canonicalString(),t.canonicalString()));return this.changes.forEach((i,s)=>{let a=this.Er.get(i);if(t.push(this.Ir.removeEntry(e,i,a.readTime)),s.isValidDocument()){let o=i_(this.Ir.serializer,s);n=n.add(i.path.popLast());let l=i5(o);r+=l-a.size,t.push(this.Ir.addEntry(e,i,o))}else if(r-=a.size,this.trackRemovals){let r=i_(this.Ir.serializer,s.convertToNoDocument(Q.min()));t.push(this.Ir.addEntry(e,i,r))}}),n.forEach(r=>{t.push(this.Ir.indexManager.addToCollectionParentIndex(e,r))}),t.push(this.Ir.updateMetadata(e,r)),ey.waitFor(t)}getFromCache(e,t){return this.Ir.lr(e,t).next(e=>(this.Er.set(t,{size:e.size,readTime:e.document.readTime}),e.document))}getAllFromCache(e,t){return this.Ir.Pr(e,t).next(({documents:e,Tr:t})=>(t.forEach((t,r)=>{this.Er.set(t,{size:r,readTime:e.get(t).readTime})}),e))}}function sf(e){let t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function sp(e,t){let r=t.documentKey.path.toArray();return[e,iS(t.readTime),r.slice(0,r.length-2),r.length>0?r[r.length-1]:""]}function sg(e,t){let r=e.path.toArray(),n=t.path.toArray(),i=0;for(let e=0;e<r.length-2&&e<n.length-2;++e)if(i=J(r[e],n[e]))return i;return(i=J(r.length,n.length))||(i=J(r[r.length-2],n[n.length-2]))||J(r[r.length-1],n[n.length-1])}class sm{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class sy{constructor(e,t,r,n){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=n}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(n=>(r=n,this.remoteDocumentCache.getEntry(e,t))).next(e=>(null!==r&&nC(r.mutation,e,tF.empty(),Y.now()),e))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.getLocalViewOfDocuments(e,t,ns()).next(()=>t))}getLocalViewOfDocuments(e,t,r=ns()){let n=nr();return this.populateOverlays(e,n,t).next(()=>this.computeViews(e,t,n,r).next(e=>{let t=ne();return e.forEach((e,r)=>{t=t.insert(e,r.overlayedDocument)}),t}))}getOverlayedDocuments(e,t){let r=nr();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,ns()))}populateOverlays(e,t,r){let n=[];return r.forEach(e=>{t.has(e)||n.push(e)}),this.documentOverlayCache.getOverlays(e,n).next(e=>{e.forEach((e,r)=>{t.set(e,r)})})}computeViews(e,t,r,n){let i=r8,s=nr(),a=nr();return t.forEach((e,t)=>{let a=r.get(t.key);n.has(t.key)&&(void 0===a||a.mutation instanceof nk)?i=i.insert(t.key,t):void 0!==a?(s.set(t.key,a.mutation.getFieldMask()),nC(a.mutation,t,a.mutation.getFieldMask(),Y.now())):s.set(t.key,tF.empty())}),this.recalculateAndSaveOverlays(e,i).next(e=>(e.forEach((e,t)=>s.set(e,t)),t.forEach((e,t)=>{var r;return a.set(e,new sm(t,null!==(r=s.get(e))&&void 0!==r?r:null))}),a))}recalculateAndSaveOverlays(e,t){let r=nr(),n=new tN((e,t)=>e-t),i=ns();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(e=>{for(let i of e)i.keys().forEach(e=>{let s=t.get(e);if(null===s)return;let a=r.get(e)||tF.empty();a=i.applyToLocalView(s,a),r.set(e,a);let o=(n.get(i.batchId)||ns()).add(e);n=n.insert(i.batchId,o)})}).next(()=>{let s=[],a=n.getReverseIterator();for(;a.hasNext();){let n=a.getNext(),o=n.key,l=n.value,u=nr();l.forEach(e=>{if(!i.has(e)){let n=nT(t.get(e),r.get(e));null!==n&&u.set(e,n),i=i.add(e)}}),s.push(this.documentOverlayCache.saveOverlays(e,o,u))}return ey.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.recalculateAndSaveOverlays(e,t))}getDocumentsMatchingQuery(e,t,r,n){return ei.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):rX(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,n):this.getDocumentsMatchingCollectionQuery(e,t,r,n)}getNextDocuments(e,t,r,n){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,n).next(i=>{let s=n-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,n-i.size):ey.resolve(nr()),a=-1,o=i;return s.next(t=>ey.forEach(t,(t,r)=>(a<r.largestBatchId&&(a=r.largestBatchId),i.get(t)?ey.resolve():this.remoteDocumentCache.getEntry(e,t).next(e=>{o=o.insert(t,e)}))).next(()=>this.populateOverlays(e,t,i)).next(()=>this.computeViews(e,o,t,ns())).next(e=>({batchId:a,changes:nt(e)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ei(t)).next(e=>{let t=ne();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t})}getDocumentsMatchingCollectionGroupQuery(e,t,r,n){let i=t.collectionGroup,s=ne();return this.indexManager.getCollectionParents(e,i).next(a=>ey.forEach(a,a=>{let o=new rW(a.child(i),null,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt);return this.getDocumentsMatchingCollectionQuery(e,o,r,n).next(e=>{e.forEach((e,t)=>{s=s.insert(e,t)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,r,n){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,i,n))).next(e=>{i.forEach((t,r)=>{let n=r.getKey();null===e.get(n)&&(e=e.insert(n,rv.newInvalidDocument(n)))});let r=ne();return e.forEach((e,n)=>{let s=i.get(e);void 0!==s&&nC(s.mutation,n,tF.empty(),Y.now()),r9(t,n)&&(r=r.insert(e,n))}),r})}}class sv{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,t){return ey.resolve(this.dr.get(t))}saveBundleMetadata(e,t){return this.dr.set(t.id,{id:t.id,version:t.version,createTime:n3(t.createTime)}),ey.resolve()}getNamedQuery(e,t){return ey.resolve(this.Ar.get(t))}saveNamedQuery(e,t){return this.Ar.set(t.name,{name:t.name,query:iR(t.bundledQuery),readTime:n3(t.readTime)}),ey.resolve()}}class sb{constructor(){this.overlays=new tN(ei.comparator),this.Rr=new Map}getOverlay(e,t){return ey.resolve(this.overlays.get(t))}getOverlays(e,t){let r=nr();return ey.forEach(t,t=>this.getOverlay(e,t).next(e=>{null!==e&&r.set(t,e)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((r,n)=>{this.Et(e,t,n)}),ey.resolve()}removeOverlaysForBatchId(e,t,r){let n=this.Rr.get(r);return void 0!==n&&(n.forEach(e=>this.overlays=this.overlays.remove(e)),this.Rr.delete(r)),ey.resolve()}getOverlaysForCollection(e,t,r){let n=nr(),i=t.length+1,s=new ei(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let e=a.getNext().value,s=e.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&e.largestBatchId>r&&n.set(e.getKey(),e)}return ey.resolve(n)}getOverlaysForCollectionGroup(e,t,r,n){let i=new tN((e,t)=>e-t),s=this.overlays.getIterator();for(;s.hasNext();){let e=s.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>r){let t=i.get(e.largestBatchId);null===t&&(t=nr(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}let a=nr(),o=i.getIterator();for(;o.hasNext()&&(o.getNext().value.forEach((e,t)=>a.set(e,t)),!(a.size()>=n)););return ey.resolve(a)}Et(e,t,r){let n=this.overlays.get(r.key);if(null!==n){let e=this.Rr.get(n.largestBatchId).delete(r.key);this.Rr.set(n.largestBatchId,e)}this.overlays=this.overlays.insert(r.key,new nj(t,r));let i=this.Rr.get(t);void 0===i&&(i=ns(),this.Rr.set(t,i)),this.Rr.set(t,i.add(r.key))}}class sw{constructor(){this.sessionToken=tV.EMPTY_BYTE_STRING}getSessionToken(e){return ey.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ey.resolve()}}class s_{constructor(){this.Vr=new tL(sS.mr),this.gr=new tL(sS.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,t){let r=new sS(e,t);this.Vr=this.Vr.add(r),this.gr=this.gr.add(r)}yr(e,t){e.forEach(e=>this.addReference(e,t))}removeReference(e,t){this.wr(new sS(e,t))}br(e,t){e.forEach(e=>this.removeReference(e,t))}Sr(e){let t=new ei(new et([])),r=new sS(t,e),n=new sS(t,e+1),i=[];return this.gr.forEachInRange([r,n],e=>{this.wr(e),i.push(e.key)}),i}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){let t=new ei(new et([])),r=new sS(t,e),n=new sS(t,e+1),i=ns();return this.gr.forEachInRange([r,n],e=>{i=i.add(e.key)}),i}containsKey(e){let t=new sS(e,0),r=this.Vr.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class sS{constructor(e,t){this.key=e,this.Cr=t}static mr(e,t){return ei.comparator(e.key,t.key)||J(e.Cr,t.Cr)}static pr(e,t){return J(e.Cr,t.Cr)||ei.comparator(e.key,t.key)}}class sE{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Fr=1,this.Mr=new tL(sS.mr)}checkEmpty(e){return ey.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,n){let i=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new nM(i,t,r,n);for(let t of(this.mutationQueue.push(s),n))this.Mr=this.Mr.add(new sS(t.key,i)),this.indexManager.addToCollectionParentIndex(e,t.key.path.popLast());return ey.resolve(s)}lookupMutationBatch(e,t){return ey.resolve(this.Or(t))}getNextMutationBatchAfterBatchId(e,t){let r=this.Nr(t+1),n=r<0?0:r;return ey.resolve(this.mutationQueue.length>n?this.mutationQueue[n]:null)}getHighestUnacknowledgedBatchId(){return ey.resolve(0===this.mutationQueue.length?-1:this.Fr-1)}getAllMutationBatches(e){return ey.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let r=new sS(t,0),n=new sS(t,Number.POSITIVE_INFINITY),i=[];return this.Mr.forEachInRange([r,n],e=>{let t=this.Or(e.Cr);i.push(t)}),ey.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new tL(J);return t.forEach(e=>{let t=new sS(e,0),n=new sS(e,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([t,n],e=>{r=r.add(e.Cr)})}),ey.resolve(this.Br(r))}getAllMutationBatchesAffectingQuery(e,t){let r=t.path,n=r.length+1,i=r;ei.isDocumentKey(i)||(i=i.child(""));let s=new sS(new ei(i),0),a=new tL(J);return this.Mr.forEachWhile(e=>{let t=e.key.path;return!!r.isPrefixOf(t)&&(t.length===n&&(a=a.add(e.Cr)),!0)},s),ey.resolve(this.Br(a))}Br(e){let t=[];return e.forEach(e=>{let r=this.Or(e);null!==r&&t.push(r)}),t}removeMutationBatch(e,t){0===this.Lr(t.batchId,"removed")||L(),this.mutationQueue.shift();let r=this.Mr;return ey.forEach(t.mutations,n=>{let i=new sS(n.key,t.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,n.key)}).next(()=>{this.Mr=r})}qn(e){}containsKey(e,t){let r=new sS(t,0),n=this.Mr.firstAfterOrEqual(r);return ey.resolve(t.isEqual(n&&n.key))}performConsistencyCheck(e){return this.mutationQueue.length,ey.resolve()}Lr(e,t){return this.Nr(e)}Nr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Or(e){let t=this.Nr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class sx{constructor(e){this.kr=e,this.docs=new tN(ei.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let r=t.key,n=this.docs.get(r),i=n?n.size:0,s=this.kr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:s}),this.size+=s-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let r=this.docs.get(t);return ey.resolve(r?r.document.mutableCopy():rv.newInvalidDocument(t))}getEntries(e,t){let r=r8;return t.forEach(e=>{let t=this.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():rv.newInvalidDocument(e))}),ey.resolve(r)}getDocumentsMatchingQuery(e,t,r,n){let i=r8,s=t.path,a=new ei(s.child("__id-9223372036854775808__")),o=this.docs.getIteratorFrom(a);for(;o.hasNext();){let{key:e,value:{document:a}}=o.getNext();if(!s.isPrefixOf(e.path))break;e.path.length>s.length+1||0>=ef(eh(a),r)||(n.has(a.key)||r9(t,a))&&(i=i.insert(a.key,a.mutableCopy()))}return ey.resolve(i)}getAllFromCollectionGroup(e,t,r,n){L()}qr(e,t){return ey.forEach(this.docs,e=>t(e))}newChangeBuffer(e){return new sT(this)}getSize(e){return ey.resolve(this.size)}}class sT extends sc{constructor(e){super(),this.Ir=e}applyChanges(e){let t=[];return this.changes.forEach((r,n)=>{n.isValidDocument()?t.push(this.Ir.addEntry(e,n)):this.Ir.removeEntry(r)}),ey.waitFor(t)}getFromCache(e,t){return this.Ir.getEntry(e,t)}getAllFromCache(e,t){return this.Ir.getEntries(e,t)}}class sC{constructor(e){this.persistence=e,this.Qr=new r3(e=>rV(e),rB),this.lastRemoteSnapshotVersion=Q.min(),this.highestTargetId=0,this.$r=0,this.Kr=new s_,this.targetCount=0,this.Ur=se.Kn()}forEachTarget(e,t){return this.Qr.forEach((e,r)=>t(r)),ey.resolve()}getLastRemoteSnapshotVersion(e){return ey.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ey.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),ey.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.$r&&(this.$r=t),ey.resolve()}zn(e){this.Qr.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this.Ur=new se(t),this.highestTargetId=t),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,t){return this.zn(t),this.targetCount+=1,ey.resolve()}updateTargetData(e,t){return this.zn(t),ey.resolve()}removeTargetData(e,t){return this.Qr.delete(t.target),this.Kr.Sr(t.targetId),this.targetCount-=1,ey.resolve()}removeTargets(e,t,r){let n=0,i=[];return this.Qr.forEach((s,a)=>{a.sequenceNumber<=t&&null===r.get(a.targetId)&&(this.Qr.delete(s),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),n++)}),ey.waitFor(i).next(()=>n)}getTargetCount(e){return ey.resolve(this.targetCount)}getTargetData(e,t){let r=this.Qr.get(t)||null;return ey.resolve(r)}addMatchingKeys(e,t,r){return this.Kr.yr(t,r),ey.resolve()}removeMatchingKeys(e,t,r){this.Kr.br(t,r);let n=this.persistence.referenceDelegate,i=[];return n&&t.forEach(t=>{i.push(n.markPotentiallyOrphaned(e,t))}),ey.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.Kr.Sr(t),ey.resolve()}getMatchingKeysForTargetId(e,t){let r=this.Kr.vr(t);return ey.resolve(r)}containsKey(e,t){return ey.resolve(this.Kr.containsKey(t))}}class sI{constructor(e,t){this.Wr={},this.overlays={},this.Gr=new eA(0),this.zr=!1,this.zr=!0,this.jr=new sw,this.referenceDelegate=e(this),this.Hr=new sC(this),this.indexManager=new iY,this.remoteDocumentCache=new sx(e=>this.referenceDelegate.Jr(e)),this.serializer=new iw(t),this.Yr=new sv(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new sb,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Wr[e.toKey()];return r||(r=new sE(t,this.referenceDelegate),this.Wr[e.toKey()]=r),r}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,t,r){A("MemoryPersistence","Starting transaction:",e);let n=new sR(this.Gr.next());return this.referenceDelegate.Zr(),r(n).next(e=>this.referenceDelegate.Xr(n).next(()=>e)).toPromise().then(e=>(n.raiseOnCommittedEvent(),e))}ei(e,t){return ey.or(Object.values(this.Wr).map(r=>()=>r.containsKey(e,t)))}}class sR extends eg{constructor(e){super(),this.currentSequenceNumber=e}}class sk{constructor(e){this.persistence=e,this.ti=new s_,this.ni=null}static ri(e){return new sk(e)}get ii(){if(this.ni)return this.ni;throw L()}addReference(e,t,r){return this.ti.addReference(r,t),this.ii.delete(r.toString()),ey.resolve()}removeReference(e,t,r){return this.ti.removeReference(r,t),this.ii.add(r.toString()),ey.resolve()}markPotentiallyOrphaned(e,t){return this.ii.add(t.toString()),ey.resolve()}removeTarget(e,t){this.ti.Sr(t.targetId).forEach(e=>this.ii.add(e.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(e=>{e.forEach(e=>this.ii.add(e.toString()))}).next(()=>r.removeTargetData(e,t))}Zr(){this.ni=new Set}Xr(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ey.forEach(this.ii,r=>{let n=ei.fromPath(r);return this.si(e,n).next(e=>{e||t.removeEntry(n,Q.min())})}).next(()=>(this.ni=null,t.apply(e)))}updateLimboDocument(e,t){return this.si(e,t).next(e=>{e?this.ii.delete(t.toString()):this.ii.add(t.toString())})}Jr(e){return 0}si(e,t){return ey.or([()=>ey.resolve(this.ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.ei(e,t)])}}class sP{constructor(e,t){this.persistence=e,this.oi=new r3(e=>eL(e.path),(e,t)=>e.isEqual(t)),this.garbageCollector=new so(this,t)}static ri(e,t){return new sP(e,t)}Zr(){}Xr(e){return ey.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}nr(e){let t=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(e=>t.next(t=>e+t))}sr(e){let t=0;return this.rr(e,e=>{t++}).next(()=>t)}rr(e,t){return ey.forEach(this.oi,(r,n)=>this.ar(e,r,n).next(e=>e?ey.resolve():t(n)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0,n=this.persistence.getRemoteDocumentCache(),i=n.newChangeBuffer();return n.qr(e,n=>this.ar(e,n,t).next(e=>{e||(r++,i.removeEntry(n,Q.min()))})).next(()=>i.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.oi.set(t,e.currentSequenceNumber),ey.resolve()}removeTarget(e,t){let r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.oi.set(r,e.currentSequenceNumber),ey.resolve()}removeReference(e,t,r){return this.oi.set(r,e.currentSequenceNumber),ey.resolve()}updateLimboDocument(e,t){return this.oi.set(t,e.currentSequenceNumber),ey.resolve()}Jr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=function e(t){switch(t8(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:let r=tY(t);return r?16+e(r):16;case 5:return 2*t.stringValue.length;case 6:return tH(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(t.arrayValue.values||[]).reduce((t,r)=>t+e(r),0);case 10:case 11:var n;let i;return n=t.mapValue,i=0,tO(n.fields,(t,r)=>{i+=t.length+e(r)}),i;default:throw L()}}(e.data.value)),t}ar(e,t,r){return ey.or([()=>this.persistence.ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{let e=this.oi.get(t);return ey.resolve(void 0!==e&&e>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class sO{constructor(e){this.serializer=e}B(e,t,r,n){let i=new eb("createOrUpgrade",t);r<1&&n>=1&&(!function(e){e.createObjectStore(eF)}(e),e.createObjectStore(eV,{keyPath:"userId"}),e.createObjectStore(eB,{keyPath:eq,autoIncrement:!0}).createIndex(ez,eH,{unique:!0}),e.createObjectStore(eW),sA(e),function(e){e.createObjectStore(e$)}(e));let s=ey.resolve();return r<3&&n>=3&&(0!==r&&(e.deleteObjectStore(e6),e.deleteObjectStore(e2),e.deleteObjectStore(te),sA(e)),s=s.next(()=>(function(e){let t=e.store(te),r={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Q.min().toTimestamp(),targetCount:0};return t.put(e7,r)})(i))),r<4&&n>=4&&(0!==r&&(s=s.next(()=>i.store(eB).G().next(t=>{e.deleteObjectStore(eB),e.createObjectStore(eB,{keyPath:eq,autoIncrement:!0}).createIndex(ez,eH,{unique:!0});let r=i.store(eB),n=t.map(e=>r.put(e));return ey.waitFor(n)}))),s=s.next(()=>{!function(e){e.createObjectStore(tn,{keyPath:"clientId"})}(e)})),r<5&&n>=5&&(s=s.next(()=>this._i(i))),r<6&&n>=6&&(s=s.next(()=>((function(e){e.createObjectStore(e0)})(e),this.ai(i)))),r<7&&n>=7&&(s=s.next(()=>this.ui(i))),r<8&&n>=8&&(s=s.next(()=>this.ci(e,i))),r<9&&n>=9&&(s=s.next(()=>{e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")})),r<10&&n>=10&&(s=s.next(()=>this.li(i))),r<11&&n>=11&&(s=s.next(()=>{(function(e){e.createObjectStore(ti,{keyPath:"bundleId"})})(e),function(e){e.createObjectStore(ts,{keyPath:"name"})}(e)})),r<12&&n>=12&&(s=s.next(()=>{!function(e){let t=e.createObjectStore(tm,{keyPath:ty});t.createIndex(tv,tb,{unique:!1}),t.createIndex(tw,t_,{unique:!1})}(e)})),r<13&&n>=13&&(s=s.next(()=>(function(e){let t=e.createObjectStore(eK,{keyPath:eJ});t.createIndex(eX,eY),t.createIndex(eQ,eZ)})(e)).next(()=>this.hi(e,i)).next(()=>e.deleteObjectStore(e$))),r<14&&n>=14&&(s=s.next(()=>this.Pi(e,i))),r<15&&n>=15&&(s=s.next(()=>{e.createObjectStore(ta,{keyPath:"indexId",autoIncrement:!0}).createIndex(to,"collectionGroup",{unique:!1}),e.createObjectStore(tl,{keyPath:tu}).createIndex(tc,th,{unique:!1}),e.createObjectStore(td,{keyPath:tf}).createIndex(tp,tg,{unique:!1})})),r<16&&n>=16&&(s=s.next(()=>{t.objectStore(tl).clear()}).next(()=>{t.objectStore(td).clear()})),r<17&&n>=17&&(s=s.next(()=>{!function(e){e.createObjectStore(tS,{keyPath:"name"})}(e)})),s}ai(e){let t=0;return e.store(e$).Z((e,r)=>{t+=i5(r)}).next(()=>{let r={byteSize:t};return e.store(e0).put(e1,r)})}_i(e){let t=e.store(eV),r=e.store(eB);return t.G().next(t=>ey.forEach(t,t=>{let n=IDBKeyRange.bound([t.userId,-1],[t.userId,t.lastAcknowledgedBatchId]);return r.G(ez,n).next(r=>ey.forEach(r,r=>{r.userId===t.userId||L();let n=iT(this.serializer,r);return i6(e,t.userId,n).next(()=>{})}))}))}ui(e){let t=e.store(e6),r=e.store(e$);return e.store(te).get(e7).next(e=>{let n=[];return r.Z((r,i)=>{let s=new et(r),a=[0,eL(s)];n.push(t.get(a).next(r=>r?ey.resolve():t.put({targetId:0,path:eL(s),sequenceNumber:e.highestListenSequenceNumber})))}).next(()=>ey.waitFor(n))})}ci(e,t){e.createObjectStore(tt,{keyPath:tr});let r=t.store(tt),n=new iQ,i=e=>{if(n.add(e)){let t=e.lastSegment(),n=e.popLast();return r.put({collectionId:t,parent:eL(n)})}};return t.store(e$).Z({Y:!0},(e,t)=>i(new et(e).popLast())).next(()=>t.store(eW).Z({Y:!0},([e,t,r],n)=>i(ej(t).popLast())))}li(e){let t=e.store(e2);return t.Z((e,r)=>{let n=iC(r),i=iI(this.serializer,n);return t.put(i)})}hi(e,t){let r=t.store(e$),n=[];return r.Z((e,r)=>{let i=t.store(eK),s=(r.document?new ei(et.fromString(r.document.name).popFirst(5)):r.noDocument?ei.fromSegments(r.noDocument.path):r.unknownDocument?ei.fromSegments(r.unknownDocument.path):L()).path.toArray(),a={prefixPath:s.slice(0,s.length-2),collectionGroup:s[s.length-2],documentId:s[s.length-1],readTime:r.readTime||[0,0],unknownDocument:r.unknownDocument,noDocument:r.noDocument,document:r.document,hasCommittedMutations:!!r.hasCommittedMutations};n.push(i.put(a))}).next(()=>ey.waitFor(n))}Pi(e,t){let r=t.store(eB),n=new sh(this.serializer),i=new sI(sk.ri,this.serializer.Tt);return r.G().next(e=>{let r=new Map;return e.forEach(e=>{var t;let n=null!==(t=r.get(e.userId))&&void 0!==t?t:ns();iT(this.serializer,e).keys().forEach(e=>n=n.add(e)),r.set(e.userId,n)}),ey.forEach(r,(e,r)=>{let s=new R(r),a=iN.It(this.serializer,s),o=i.getIndexManager(s);return new sy(n,i3.It(s,this.serializer,o,i.referenceDelegate),a,o).recalculateAndSaveOverlaysForDocumentKeys(new tR(t,eA.ae),e).next()})})}}function sA(e){e.createObjectStore(e6,{keyPath:e5}).createIndex(e3,e8,{unique:!0}),e.createObjectStore(e2,{keyPath:"targetId"}).createIndex(e4,e9,{unique:!0}),e.createObjectStore(te)}let sN="IndexedDbPersistence",sD="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class sM{constructor(e,t,r,n,i,s,a,o,l,u,c=17){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Ti=i,this.window=s,this.document=a,this.Ii=l,this.Ei=u,this.di=c,this.Gr=null,this.zr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Ai=null,this.inForeground=!1,this.Ri=null,this.Vi=null,this.mi=Number.NEGATIVE_INFINITY,this.fi=e=>Promise.resolve(),!sM.D())throw new $(j.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new sl(this,n),this.gi=t+"main",this.serializer=new iw(o),this.pi=new ew(this.gi,this.di,new sO(this.serializer)),this.jr=new iD,this.Hr=new st(this.referenceDelegate,this.serializer),this.remoteDocumentCache=new sh(this.serializer),this.Yr=new iA,this.window&&this.window.localStorage?this.yi=this.window.localStorage:(this.yi=null,!1===u&&N(sN,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.wi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new $(j.FAILED_PRECONDITION,sD);return this.bi(),this.Si(),this.Di(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Hr.getHighestSequenceNumber(e))}).then(e=>{this.Gr=new eA(e,this.Ii)}).then(()=>{this.zr=!0}).catch(e=>(this.pi&&this.pi.close(),Promise.reject(e)))}Ci(e){return this.fi=async t=>{if(this.started)return e(t)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.pi.k(async t=>{null===t.newVersion&&await e()})}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.Ti.enqueueAndForget(async()=>{this.started&&await this.wi()}))}wi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>tk(e,tn).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Fi(e).next(e=>{e||(this.isPrimary=!1,this.Ti.enqueueRetryable(()=>this.fi(!1)))})}).next(()=>this.Mi(e)).next(t=>this.isPrimary&&!t?this.xi(e).next(()=>!1):!!t&&this.Oi(e).next(()=>!0))).catch(e=>{if(ex(e))return A(sN,"Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return A(sN,"Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Ti.enqueueRetryable(()=>this.fi(e)),this.isPrimary=e})}Fi(e){return tk(e,eF).get(eU).next(e=>ey.resolve(this.Ni(e)))}Bi(e){return tk(e,tn).delete(this.clientId)}async Li(){if(this.isPrimary&&!this.ki(this.mi,18e5)){this.mi=Date.now();let e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",e=>{let t=tk(e,tn);return t.G().next(e=>{let r=this.qi(e,18e5),n=e.filter(e=>-1===r.indexOf(e));return ey.forEach(n,e=>t.delete(e.clientId)).next(()=>n)})}).catch(()=>[]);if(this.yi)for(let t of e)this.yi.removeItem(this.Qi(t.clientId))}}Di(){this.Vi=this.Ti.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.wi().then(()=>this.Li()).then(()=>this.Di()))}Ni(e){return!!e&&e.ownerId===this.clientId}Mi(e){return this.Ei?ey.resolve(!0):tk(e,eF).get(eU).next(t=>{if(null!==t&&this.ki(t.leaseTimestampMs,5e3)&&!this.$i(t.ownerId)){if(this.Ni(t)&&this.networkEnabled)return!0;if(!this.Ni(t)){if(!t.allowTabSynchronization)throw new $(j.FAILED_PRECONDITION,sD);return!1}}return!(!this.networkEnabled||!this.inForeground)||tk(e,tn).G().next(e=>void 0===this.qi(e,5e3).find(e=>{if(this.clientId!==e.clientId){let t=!this.networkEnabled&&e.networkEnabled,r=!this.inForeground&&e.inForeground,n=this.networkEnabled===e.networkEnabled;if(t||r&&n)return!0}return!1}))}).next(e=>(this.isPrimary!==e&&A(sN,`Client ${e?"is":"is not"} eligible for a primary lease.`),e))}async shutdown(){this.zr=!1,this.Ki(),this.Vi&&(this.Vi.cancel(),this.Vi=null),this.Ui(),this.Wi(),await this.pi.runTransaction("shutdown","readwrite",[eF,tn],e=>{let t=new tR(e,eA.ae);return this.xi(t).next(()=>this.Bi(t))}),this.pi.close(),this.Gi()}qi(e,t){return e.filter(e=>this.ki(e.updateTimeMs,t)&&!this.$i(e.clientId))}zi(){return this.runTransaction("getActiveClients","readonly",e=>tk(e,tn).G().next(e=>this.qi(e,18e5).map(e=>e.clientId)))}get started(){return this.zr}getGlobalsCache(){return this.jr}getMutationQueue(e,t){return i3.It(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new i1(e,this.serializer.Tt.databaseId)}getDocumentOverlayCache(e){return iN.It(this.serializer,e)}getBundleCache(){return this.Yr}runTransaction(e,t,r){var n;let i;A(sN,"Starting transaction:",e);let s=17===(n=this.di)?tI:16===n?tC:15===n?tC:14===n?tT:13===n?tT:12===n?tx:11===n?tE:void L();return this.pi.runTransaction(e,"readonly"===t?"readonly":"readwrite",s,n=>(i=new tR(n,this.Gr?this.Gr.next():eA.ae),"readwrite-primary"===t?this.Fi(i).next(e=>!!e||this.Mi(i)).next(t=>{if(!t)throw N(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Ti.enqueueRetryable(()=>this.fi(!1)),new $(j.FAILED_PRECONDITION,ep);return r(i)}).next(e=>this.Oi(i).next(()=>e)):this.ji(i).next(()=>r(i)))).then(e=>(i.raiseOnCommittedEvent(),e))}ji(e){return tk(e,eF).get(eU).next(e=>{if(null!==e&&this.ki(e.leaseTimestampMs,5e3)&&!this.$i(e.ownerId)&&!this.Ni(e)&&!(this.Ei||this.allowTabSynchronization&&e.allowTabSynchronization))throw new $(j.FAILED_PRECONDITION,sD)})}Oi(e){let t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return tk(e,eF).put(eU,t)}static D(){return ew.D()}xi(e){let t=tk(e,eF);return t.get(eU).next(e=>this.Ni(e)?(A(sN,"Releasing primary lease."),t.delete(eU)):ey.resolve())}ki(e,t){let r=Date.now();return!(e<r-t)&&(!(e>r)||(N(`Detected an update time that is in the future: ${e} > ${r}`),!1))}bi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ri=()=>{this.Ti.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.wi()))},this.document.addEventListener("visibilitychange",this.Ri),this.inForeground="visible"===this.document.visibilityState)}Ui(){this.Ri&&(this.document.removeEventListener("visibilitychange",this.Ri),this.Ri=null)}Si(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Ai=()=>{this.Ki();let e=/(?:Version|Mobile)\/1[456]/;(0,w.G6)()&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.Ti.enterRestrictedMode(!0),this.Ti.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Ai))}Wi(){this.Ai&&(this.window.removeEventListener("pagehide",this.Ai),this.Ai=null)}$i(e){var t;try{let r=null!==(null===(t=this.yi)||void 0===t?void 0:t.getItem(this.Qi(e)));return A(sN,`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(e){return N(sN,"Failed to get zombied client id.",e),!1}}Ki(){if(this.yi)try{this.yi.setItem(this.Qi(this.clientId),String(Date.now()))}catch(e){N("Failed to set zombie client id.",e)}}Gi(){if(this.yi)try{this.yi.removeItem(this.Qi(this.clientId))}catch(e){}}Qi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function sL(e,t){let r=e.projectId;return e.isDefaultDatabase||(r+="."+e.database),"firestore/"+t+"/"+r+"/"}class sj{constructor(e,t,r,n){this.targetId=e,this.fromCache=t,this.Hi=r,this.Ji=n}static Yi(e,t){let r=ns(),n=ns();for(let e of t.docChanges)switch(e.type){case 0:r=r.add(e.doc.key);break;case 1:n=n.add(e.doc.key)}return new sj(e,t.fromCache,r,n)}}class s${constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class sF{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=(0,w.G6)()?8:e_((0,w.z$)())>0?6:4}initialize(e,t){this.ns=e,this.indexManager=t,this.Zi=!0}getDocumentsMatchingQuery(e,t,r,n){let i={result:null};return this.rs(e,t).next(e=>{i.result=e}).next(()=>{if(!i.result)return this.ss(e,t,n,r).next(e=>{i.result=e})}).next(()=>{if(i.result)return;let r=new s$;return this._s(e,t,r).next(n=>{if(i.result=n,this.Xi)return this.us(e,t,r,n.size)})}).next(()=>i.result)}us(e,t,r,n){return r.documentReadCount<this.es?(O()<=b.in.DEBUG&&A("QueryEngine","SDK will not create cache indexes for query:",r4(t),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),ey.resolve()):(O()<=b.in.DEBUG&&A("QueryEngine","Query:",r4(t),"scans",r.documentReadCount,"local documents and returns",n,"documents as results."),r.documentReadCount>this.ts*n?(O()<=b.in.DEBUG&&A("QueryEngine","The SDK decides to create cache indexes for query:",r4(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,rQ(t))):ey.resolve())}rs(e,t){if(rJ(t))return ey.resolve(null);let r=rQ(t);return this.indexManager.getIndexType(e,r).next(n=>0===n?null:(null!==t.limit&&1===n&&(r=rQ(t=r0(t,null,"F"))),this.indexManager.getDocumentsMatchingTarget(e,r).next(n=>{let i=ns(...n);return this.ns.getDocuments(e,i).next(n=>this.indexManager.getMinOffset(e,r).next(r=>{let s=this.cs(t,n);return this.ls(t,s,i,r.readTime)?this.rs(e,r0(t,null,"F")):this.hs(e,s,t,r)}))})))}ss(e,t,r,n){return rJ(t)||n.isEqual(Q.min())?ey.resolve(null):this.ns.getDocuments(e,r).next(i=>{let s=this.cs(t,i);return this.ls(t,s,r,n)?ey.resolve(null):(O()<=b.in.DEBUG&&A("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),r4(t)),this.hs(e,s,t,ec(n,-1)).next(e=>e))})}cs(e,t){let r=new tL(r5(e));return t.forEach((t,n)=>{r9(e,n)&&(r=r.add(n))}),r}ls(e,t,r,n){if(null===e.limit)return!1;if(r.size!==t.size)return!0;let i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(n)>0)}_s(e,t,r){return O()<=b.in.DEBUG&&A("QueryEngine","Using full collection scan to execute query:",r4(t)),this.ns.getDocumentsMatchingQuery(e,t,ed.min(),r)}hs(e,t,r,n){return this.ns.getDocumentsMatchingQuery(e,r,n).next(e=>(t.forEach(t=>{e=e.insert(t.key,t)}),e))}}let sU="LocalStore";class sV{constructor(e,t,r,n){this.persistence=e,this.Ps=t,this.serializer=n,this.Ts=new tN(J),this.Is=new r3(e=>rV(e),rB),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(r)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new sy(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ts))}}async function sB(e,t){return await e.persistence.runTransaction("Handle user change","readonly",r=>{let n;return e.mutationQueue.getAllMutationBatches(r).next(i=>(n=i,e.As(t),e.mutationQueue.getAllMutationBatches(r))).next(t=>{let i=[],s=[],a=ns();for(let e of n)for(let t of(i.push(e.batchId),e.mutations))a=a.add(t.key);for(let e of t)for(let t of(s.push(e.batchId),e.mutations))a=a.add(t.key);return e.localDocuments.getDocuments(r,a).next(e=>({Rs:e,removedBatchIds:i,addedBatchIds:s}))})})}function sq(e){return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Hr.getLastRemoteSnapshotVersion(t))}function sz(e,t,r){let n=ns(),i=ns();return r.forEach(e=>n=n.add(e)),t.getEntries(e,n).next(e=>{let n=r8;return r.forEach((r,s)=>{let a=e.get(r);s.isFoundDocument()!==a.isFoundDocument()&&(i=i.add(r)),s.isNoDocument()&&s.version.isEqual(Q.min())?(t.removeEntry(r,s.readTime),n=n.insert(r,s)):!a.isValidDocument()||s.version.compareTo(a.version)>0||0===s.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(s),n=n.insert(r,s)):A(sU,"Ignoring outdated watch update for ",r,". Current version:",a.version," Watch version:",s.version)}),{Vs:n,fs:i}})}function sH(e,t){return e.persistence.runTransaction("Allocate target","readwrite",r=>{let n;return e.Hr.getTargetData(r,t).next(i=>i?(n=i,ey.resolve(n)):e.Hr.allocateTargetId(r).next(i=>(n=new ib(t,i,"TargetPurposeListen",r.currentSequenceNumber),e.Hr.addTargetData(r,n).next(()=>n))))}).then(r=>{let n=e.Ts.get(r.targetId);return(null===n||r.snapshotVersion.compareTo(n.snapshotVersion)>0)&&(e.Ts=e.Ts.insert(r.targetId,r),e.Is.set(t,r.targetId)),r})}async function sG(e,t,r){let n=e.Ts.get(t);try{r||await e.persistence.runTransaction("Release target",r?"readwrite":"readwrite-primary",t=>e.persistence.referenceDelegate.removeTarget(t,n))}catch(e){if(!ex(e))throw e;A(sU,`Failed to update sequence numbers for target ${t}: ${e}`)}e.Ts=e.Ts.remove(t),e.Is.delete(n.target)}function sW(e,t,r){let n=Q.min(),i=ns();return e.persistence.runTransaction("Execute query","readwrite",s=>(function(e,t,r){let n=e.Is.get(r);return void 0!==n?ey.resolve(e.Ts.get(n)):e.Hr.getTargetData(t,r)})(e,s,rQ(t)).next(t=>{if(t)return n=t.lastLimboFreeSnapshotVersion,e.Hr.getMatchingKeysForTargetId(s,t.targetId).next(e=>{i=e})}).next(()=>e.Ps.getDocumentsMatchingQuery(s,t,r?n:Q.min(),r?i:ns())).next(r=>(sX(e,r6(t),r),{documents:r,gs:i})))}function sK(e,t){let r=e.Hr,n=e.Ts.get(t);return n?Promise.resolve(n.target):e.persistence.runTransaction("Get target data","readonly",e=>r.lt(e,t).next(e=>e?e.target:null))}function sJ(e,t){let r=e.Es.get(t)||Q.min();return e.persistence.runTransaction("Get new document changes","readonly",n=>e.ds.getAllFromCollectionGroup(n,t,ec(r,-1),Number.MAX_SAFE_INTEGER)).then(r=>(sX(e,t,r),r))}function sX(e,t,r){let n=e.Es.get(t)||Q.min();r.forEach((e,t)=>{t.readTime.compareTo(n)>0&&(n=t.readTime)}),e.Es.set(t,n)}let sY="firestore_clients";function sQ(e,t){return`${sY}_${e}_${t}`}let sZ="firestore_mutations";function s0(e,t,r){let n=`${sZ}_${e}_${r}`;return t.isAuthenticated()&&(n+=`_${t.uid}`),n}let s1="firestore_targets";function s2(e,t){return`${s1}_${e}_${t}`}let s4="SharedClientState";class s9{constructor(e,t,r,n){this.user=e,this.batchId=t,this.state=r,this.error=n}static bs(e,t,r){let n=JSON.parse(r),i,s="object"==typeof n&&-1!==["pending","acknowledged","rejected"].indexOf(n.state)&&(void 0===n.error||"object"==typeof n.error);return s&&n.error&&(s="string"==typeof n.error.message&&"string"==typeof n.error.code)&&(i=new $(n.error.code,n.error.message)),s?new s9(e,t,n.state,i):(N(s4,`Failed to parse mutation state for ID '${t}': ${r}`),null)}Ss(){let e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class s6{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static bs(e,t){let r=JSON.parse(t),n,i="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return i&&r.error&&(i="string"==typeof r.error.message&&"string"==typeof r.error.code)&&(n=new $(r.error.code,r.error.message)),i?new s6(e,r.state,n):(N(s4,`Failed to parse target state for ID '${e}': ${t}`),null)}Ss(){let e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class s5{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static bs(e,t){let r=JSON.parse(t),n="object"==typeof r&&r.activeTargetIds instanceof Array,i=na;for(let e=0;n&&e<r.activeTargetIds.length;++e)n=eM(r.activeTargetIds[e]),i=i.add(r.activeTargetIds[e]);return n?new s5(e,i):(N(s4,`Failed to parse client data for instance '${e}': ${t}`),null)}}class s3{constructor(e,t){this.clientId=e,this.onlineState=t}static bs(e){let t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new s3(t.clientId,t.onlineState):(N(s4,`Failed to parse online state: ${e}`),null)}}class s8{constructor(){this.activeTargetIds=na}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ss(){return JSON.stringify({activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()})}}class s7{constructor(e,t,r,n,i){var s,a,o;this.window=e,this.Ti=t,this.persistenceKey=r,this.Cs=n,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Fs=this.Ms.bind(this),this.xs=new tN(J),this.started=!1,this.Os=[];let l=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Ns=sQ(this.persistenceKey,this.Cs),this.Bs=(s=this.persistenceKey,`firestore_sequence_number_${s}`),this.xs=this.xs.insert(this.Cs,new s8),this.Ls=RegExp(`^${sY}_${l}_([^_]*)$`),this.ks=RegExp(`^${sZ}_${l}_(\\d+)(?:_(.*))?$`),this.qs=RegExp(`^${s1}_${l}_(\\d+)$`),this.Qs=(a=this.persistenceKey,`firestore_online_state_${a}`),this.$s=(o=this.persistenceKey,`firestore_bundle_loaded_v2_${o}`),this.window.addEventListener("storage",this.Fs)}static D(e){return!(!e||!e.localStorage)}async start(){for(let e of(await this.syncEngine.zi())){if(e===this.Cs)continue;let t=this.getItem(sQ(this.persistenceKey,e));if(t){let r=s5.bs(e,t);r&&(this.xs=this.xs.insert(r.clientId,r))}}this.Ks();let e=this.storage.getItem(this.Qs);if(e){let t=this.Us(e);t&&this.Ws(t)}for(let e of this.Os)this.Ms(e);this.Os=[],this.window.addEventListener("pagehide",()=>this.shutdown()),this.started=!0}writeSequenceNumber(e){this.setItem(this.Bs,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Gs(this.xs)}isActiveQueryTarget(e){let t=!1;return this.xs.forEach((r,n)=>{n.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.zs(e,"pending")}updateMutationState(e,t,r){this.zs(e,t,r),this.js(e)}addLocalQueryTarget(e,t=!0){let r="not-current";if(this.isActiveQueryTarget(e)){let t=this.storage.getItem(s2(this.persistenceKey,e));if(t){let n=s6.bs(e,t);n&&(r=n.state)}}return t&&this.Hs.Ds(e),this.Ks(),r}removeLocalQueryTarget(e){this.Hs.vs(e),this.Ks()}isLocalQueryTarget(e){return this.Hs.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(s2(this.persistenceKey,e))}updateQueryState(e,t,r){this.Js(e,t,r)}handleUserChange(e,t,r){t.forEach(e=>{this.js(e)}),this.currentUser=e,r.forEach(e=>{this.addPendingMutation(e)})}setOnlineState(e){this.Ys(e)}notifyBundleLoaded(e){this.Zs(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Fs),this.removeItem(this.Ns),this.started=!1)}getItem(e){let t=this.storage.getItem(e);return A(s4,"READ",e,t),t}setItem(e,t){A(s4,"SET",e,t),this.storage.setItem(e,t)}removeItem(e){A(s4,"REMOVE",e),this.storage.removeItem(e)}Ms(e){if(e.storageArea===this.storage){if(A(s4,"EVENT",e.key,e.newValue),e.key===this.Ns)return void N("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Ti.enqueueRetryable(async()=>{if(this.started){if(null!==e.key){if(this.Ls.test(e.key)){if(null==e.newValue){let t=this.Xs(e.key);return this.eo(t,null)}{let t=this.no(e.key,e.newValue);if(t)return this.eo(t.clientId,t)}}else if(this.ks.test(e.key)){if(null!==e.newValue){let t=this.ro(e.key,e.newValue);if(t)return this.io(t)}}else if(this.qs.test(e.key)){if(null!==e.newValue){let t=this.so(e.key,e.newValue);if(t)return this.oo(t)}}else if(e.key===this.Qs){if(null!==e.newValue){let t=this.Us(e.newValue);if(t)return this.Ws(t)}}else if(e.key===this.Bs){let t=function(e){let t=eA.ae;if(null!=e)try{let r=JSON.parse(e);"number"==typeof r||L(),t=r}catch(e){N(s4,"Failed to read sequence number from WebStorage",e)}return t}(e.newValue);t!==eA.ae&&this.sequenceNumberHandler(t)}else if(e.key===this.$s){let t=this._o(e.newValue);await Promise.all(t.map(e=>this.syncEngine.ao(e)))}}}else this.Os.push(e)})}}get Hs(){return this.xs.get(this.Cs)}Ks(){this.setItem(this.Ns,this.Hs.Ss())}zs(e,t,r){let n=new s9(this.currentUser,e,t,r),i=s0(this.persistenceKey,this.currentUser,e);this.setItem(i,n.Ss())}js(e){let t=s0(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Ys(e){let t={clientId:this.Cs,onlineState:e};this.storage.setItem(this.Qs,JSON.stringify(t))}Js(e,t,r){let n=s2(this.persistenceKey,e),i=new s6(e,t,r);this.setItem(n,i.Ss())}Zs(e){let t=JSON.stringify(Array.from(e));this.setItem(this.$s,t)}Xs(e){let t=this.Ls.exec(e);return t?t[1]:null}no(e,t){let r=this.Xs(e);return s5.bs(r,t)}ro(e,t){let r=this.ks.exec(e),n=Number(r[1]),i=void 0!==r[2]?r[2]:null;return s9.bs(new R(i),n,t)}so(e,t){let r=Number(this.qs.exec(e)[1]);return s6.bs(r,t)}Us(e){return s3.bs(e)}_o(e){return JSON.parse(e)}async io(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.uo(e.batchId,e.state,e.error);A(s4,`Ignoring mutation for non-active user ${e.user.uid}`)}oo(e){return this.syncEngine.co(e.targetId,e.state,e.error)}eo(e,t){let r=t?this.xs.insert(e,t):this.xs.remove(e),n=this.Gs(this.xs),i=this.Gs(r),s=[],a=[];return i.forEach(e=>{n.has(e)||s.push(e)}),n.forEach(e=>{i.has(e)||a.push(e)}),this.syncEngine.lo(s,a).then(()=>{this.xs=r})}Ws(e){this.xs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Gs(e){let t=na;return e.forEach((e,r)=>{t=t.unionWith(r.activeTargetIds)}),t}}class ae{constructor(){this.ho=new s8,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,t,r){this.Po[e]=t}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new s8,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class at{To(e){}shutdown(){}}let ar="ConnectivityMonitor";class an{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){for(let e of(A(ar,"Network connectivity changed: AVAILABLE"),this.Vo))e(0)}Ro(){for(let e of(A(ar,"Network connectivity changed: UNAVAILABLE"),this.Vo))e(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let ai=null;function as(){return null===ai?ai=268435456+Math.round(2147483648*Math.random()):ai++,"0x"+ai.toString(16)}let aa="RestConnection",ao={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class al{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;let t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),n=encodeURIComponent(this.databaseId.database);this.po=t+"://"+e.host,this.yo=`projects/${r}/databases/${n}`,this.wo=this.databaseId.database===t0?`project_id=${r}`:`project_id=${r}&database_id=${n}`}bo(e,t,r,n,i){let s=as(),a=this.So(e,t.toUriEncodedString());A(aa,`Sending RPC '${e}' ${s}:`,a,r);let o={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(o,n,i),this.vo(e,a,o,r).then(t=>(A(aa,`Received RPC '${e}' ${s}: `,t),t),t=>{throw D(aa,`RPC '${e}' ${s} failed with error: `,t,"url: ",a,"request:",r),t})}Co(e,t,r,n,i,s){return this.bo(e,t,r,n,i)}Do(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+k,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((t,r)=>e[r]=t),r&&r.headers.forEach((t,r)=>e[r]=t)}So(e,t){let r=ao[e];return`${this.po}/v1/${t}:${r}`}terminate(){}}class au{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}let ac="WebChannelConnection";class ah extends al{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,t,r,n){let i=as();return new Promise((a,u)=>{let c=new s;c.setWithCredentials(!0),c.listenOnce(o.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case l.NO_ERROR:let t=c.getResponseJson();A(ac,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(t)),a(t);break;case l.TIMEOUT:A(ac,`RPC '${e}' ${i} timed out`),u(new $(j.DEADLINE_EXCEEDED,"Request time out"));break;case l.HTTP_ERROR:let r=c.getStatus();if(A(ac,`RPC '${e}' ${i} failed with status:`,r,"response text:",c.getResponseText()),r>0){let e=c.getResponseJson();Array.isArray(e)&&(e=e[0]);let t=null==e?void 0:e.error;if(t&&t.status&&t.message){let e=function(e){let t=e.toLowerCase().replace(/_/g,"-");return Object.values(j).indexOf(t)>=0?t:j.UNKNOWN}(t.status);u(new $(e,t.message))}else u(new $(j.UNKNOWN,"Server responded with status "+c.getStatus()))}else u(new $(j.UNAVAILABLE,"Connection failed."));break;default:L()}}finally{A(ac,`RPC '${e}' ${i} completed.`)}});let h=JSON.stringify(n);A(ac,`RPC '${e}' ${i} sending request:`,n),c.send(t,"POST",h,r,15)})}Wo(e,t,r){let n=as(),i=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=d(),o=h(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;void 0!==p&&(l.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Do(l.initMessageHeaders,t,r),l.encodeInitMessageHeaders=!0;let g=i.join("");A(ac,`Creating RPC '${e}' stream ${n}: ${g}`,l);let m=s.createWebChannel(g,l),y=!1,v=!1,b=new au({Fo:t=>{v?A(ac,`Not sending because RPC '${e}' stream ${n} is closed:`,t):(y||(A(ac,`Opening RPC '${e}' stream ${n} transport.`),m.open(),y=!0),A(ac,`RPC '${e}' stream ${n} sending:`,t),m.send(t))},Mo:()=>m.close()}),w=(e,t,r)=>{e.listen(t,e=>{try{r(e)}catch(e){setTimeout(()=>{throw e},0)}})};return w(m,a.EventType.OPEN,()=>{v||(A(ac,`RPC '${e}' stream ${n} transport opened.`),b.Qo())}),w(m,a.EventType.CLOSE,()=>{v||(v=!0,A(ac,`RPC '${e}' stream ${n} transport closed`),b.Ko())}),w(m,a.EventType.ERROR,t=>{v||(v=!0,D(ac,`RPC '${e}' stream ${n} transport errored:`,t),b.Ko(new $(j.UNAVAILABLE,"The operation could not be completed")))}),w(m,a.EventType.MESSAGE,t=>{var r;if(!v){let i=t.data[0];i||L();let s=(null==i?void 0:i.error)||(null===(r=i[0])||void 0===r?void 0:r.error);if(s){A(ac,`RPC '${e}' stream ${n} received error:`,s);let t=s.status,r=function(e){let t=f[e];if(void 0!==t)return nF(t)}(t),i=s.message;void 0===r&&(r=j.INTERNAL,i="Unknown error status: "+t+" with message "+s.message),v=!0,b.Ko(new $(r,i)),m.close()}else A(ac,`RPC '${e}' stream ${n} received:`,i),b.Uo(i)}}),w(o,c.STAT_EVENT,t=>{t.stat===u.PROXY?A(ac,`RPC '${e}' stream ${n} detected buffering proxy`):t.stat===u.NOPROXY&&A(ac,`RPC '${e}' stream ${n} detected no buffering proxy`)}),setTimeout(()=>{b.$o()},0),b}}function ad(){return"undefined"!=typeof window?window:null}function af(){return"undefined"!=typeof document?document:null}function ap(e){return new n4(e,!0)}class ag{constructor(e,t,r=1e3,n=1.5,i=6e4){this.Ti=e,this.timerId=t,this.Go=r,this.zo=n,this.jo=i,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();let t=Math.floor(this.Ho+this.e_()),r=Math.max(0,Date.now()-this.Yo),n=Math.max(0,t-r);n>0&&A("ExponentialBackoff",`Backing off for ${n} ms (base delay: ${this.Ho} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,n,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){null!==this.Jo&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){null!==this.Jo&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}let am="PersistentStream";class ay{constructor(e,t,r,n,i,s,a,o){this.Ti=e,this.n_=r,this.r_=n,this.connection=i,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=o,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new ag(e,t)}u_(){return 1===this.state||5===this.state||this.c_()}c_(){return 2===this.state||3===this.state}start(){this.__=0,4!==this.state?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&null===this.s_&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,t){this.E_(),this.d_(),this.a_.cancel(),this.i_++,4!==e?this.a_.reset():t&&t.code===j.RESOURCE_EXHAUSTED?(N(t.toString()),N("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):t&&t.code===j.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(t)}A_(){}auth(){this.state=1;let e=this.R_(this.i_),t=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([e,r])=>{this.i_===t&&this.V_(e,r)},t=>{e(()=>{let e=new $(j.UNKNOWN,"Fetching auth token failed: "+t.message);return this.m_(e)})})}V_(e,t){let r=this.R_(this.i_);this.stream=this.f_(e,t),this.stream.xo(()=>{r(()=>this.listener.xo())}),this.stream.No(()=>{r(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(e=>{r(()=>this.m_(e))}),this.stream.onMessage(e=>{r(()=>1==++this.__?this.g_(e):this.onNext(e))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return A(am,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return t=>{this.Ti.enqueueAndForget(()=>this.i_===e?t():(A(am,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class av extends ay{constructor(e,t,r,n,i,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,n,s),this.serializer=i}f_(e,t){return this.connection.Wo("Listen",e,t)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();let t=function(e,t){let r;if("targetChange"in t){var n,i;t.targetChange;let s="NO_CHANGE"===(n=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===n?1:"REMOVE"===n?2:"CURRENT"===n?3:"RESET"===n?4:L(),a=t.targetChange.targetIds||[],o=(i=t.targetChange.resumeToken,e.useProto3Json?(void 0===i||"string"==typeof i||L(),tV.fromBase64String(i||"")):(void 0===i||i instanceof T||i instanceof Uint8Array||L(),tV.fromUint8Array(i||new Uint8Array))),l=t.targetChange.cause;r=new nJ(s,a,o,l&&new $(void 0===l.code?j.UNKNOWN:nF(l.code),l.message||"")||null)}else if("documentChange"in t){t.documentChange;let n=t.documentChange;n.document,n.document.name,n.document.updateTime;let i=ir(e,n.document.name),s=n3(n.document.updateTime),a=n.document.createTime?n3(n.document.createTime):Q.min(),o=new ry({mapValue:{fields:n.document.fields}}),l=rv.newFoundDocument(i,s,a,o);r=new nW(n.targetIds||[],n.removedTargetIds||[],l.key,l)}else if("documentDelete"in t){t.documentDelete;let n=t.documentDelete;n.document;let i=ir(e,n.document),s=n.readTime?n3(n.readTime):Q.min(),a=rv.newNoDocument(i,s);r=new nW([],n.removedTargetIds||[],a.key,a)}else if("documentRemove"in t){t.documentRemove;let n=t.documentRemove;n.document;let i=ir(e,n.document);r=new nW([],n.removedTargetIds||[],i,null)}else{if(!("filter"in t))return L();{t.filter;let e=t.filter;e.targetId;let{count:n=0,unchangedNames:i}=e,s=new n$(n,i);r=new nK(e.targetId,s)}}return r}(this.serializer,e),r=function(e){if(!("targetChange"in e))return Q.min();let t=e.targetChange;return t.targetIds&&t.targetIds.length?Q.min():t.readTime?n3(t.readTime):Q.min()}(e);return this.listener.p_(t,r)}y_(e){let t={};t.database=ia(this.serializer),t.addTarget=function(e,t){let r;let n=t.target;if((r=rq(n)?{documents:id(e,n)}:{query:ip(e,n).ht}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0){r.resumeToken=n5(e,t.resumeToken);let n=n9(e,t.expectedCount);null!==n&&(r.expectedCount=n)}else if(t.snapshotVersion.compareTo(Q.min())>0){r.readTime=n6(e,t.snapshotVersion.toTimestamp());let n=n9(e,t.expectedCount);null!==n&&(r.expectedCount=n)}return r}(this.serializer,e);let r=function(e,t){let r=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return L()}}(t.purpose);return null==r?null:{"goog-listen-tags":r}}(this.serializer,e);r&&(t.labels=r),this.I_(t)}w_(e){let t={};t.database=ia(this.serializer),t.removeTarget=e,this.I_(t)}}class ab extends ay{constructor(e,t,r,n,i,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,n,s),this.serializer=i}get b_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.b_&&this.S_([])}f_(e,t){return this.connection.Wo("Write",e,t)}g_(e){return e.streamToken||L(),this.lastStreamToken=e.streamToken,e.writeResults&&0!==e.writeResults.length&&L(),this.listener.D_()}onNext(e){var t,r;e.streamToken||L(),this.lastStreamToken=e.streamToken,this.a_.reset();let n=(t=e.writeResults,r=e.commitTime,t&&t.length>0?(void 0!==r||L(),t.map(e=>{let t;return(t=e.updateTime?n3(e.updateTime):n3(r)).isEqual(Q.min())&&(t=n3(r)),new n_(t,e.transformResults||[])})):[]),i=n3(e.commitTime);return this.listener.v_(i,n)}C_(){let e={};e.database=ia(this.serializer),this.I_(e)}S_(e){let t={streamToken:this.lastStreamToken,writes:e.map(e=>ic(this.serializer,e))};this.I_(t)}}class aw{}class a_ extends aw{constructor(e,t,r,n){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=n,this.F_=!1}M_(){if(this.F_)throw new $(j.FAILED_PRECONDITION,"The client has already been terminated.")}bo(e,t,r,n){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.bo(e,n7(t,r),n,i,s)).catch(e=>{throw"FirebaseError"===e.name?(e.code===j.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new $(j.UNKNOWN,e.toString())})}Co(e,t,r,n,i){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Co(e,n7(t,r),n,s,a,i)).catch(e=>{throw"FirebaseError"===e.name?(e.code===j.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new $(j.UNKNOWN,e.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class aS{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){0===this.x_&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){"Online"===this.state?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,"Online"===e&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(N(t),this.N_=!1):A("OnlineStateTracker",t)}Q_(){null!==this.O_&&(this.O_.cancel(),this.O_=null)}}let aE="RemoteStore";class ax{constructor(e,t,r,n,i){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=i,this.z_.To(e=>{r.enqueueAndForget(async()=>{aN(this)&&(A(aE,"Restarting streams for network reachability change."),await async function(e){e.W_.add(4),await aC(e),e.j_.set("Unknown"),e.W_.delete(4),await aT(e)}(this))})}),this.j_=new aS(r,n)}}async function aT(e){if(aN(e))for(let t of e.G_)await t(!0)}async function aC(e){for(let t of e.G_)await t(!1)}function aI(e,t){e.U_.has(t.targetId)||(e.U_.set(t.targetId,t),aA(e)?aO(e):aJ(e).c_()&&ak(e,t))}function aR(e,t){let r=aJ(e);e.U_.delete(t),r.c_()&&aP(e,t),0===e.U_.size&&(r.c_()?r.P_():aN(e)&&e.j_.set("Unknown"))}function ak(e,t){if(e.H_.Ne(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Q.min())>0){let r=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(r)}aJ(e).y_(t)}function aP(e,t){e.H_.Ne(t),aJ(e).w_(t)}function aO(e){e.H_=new nY({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),lt:t=>e.U_.get(t)||null,it:()=>e.datastore.serializer.databaseId}),aJ(e).start(),e.j_.B_()}function aA(e){return aN(e)&&!aJ(e).u_()&&e.U_.size>0}function aN(e){return 0===e.W_.size}async function aD(e){e.j_.set("Online")}async function aM(e){e.U_.forEach((t,r)=>{ak(e,t)})}async function aL(e,t){e.H_=void 0,aA(e)?(e.j_.q_(t),aO(e)):e.j_.set("Unknown")}async function aj(e,t,r){if(e.j_.set("Online"),t instanceof nJ&&2===t.state&&t.cause)try{await async function(e,t){let r=t.cause;for(let n of t.targetIds)e.U_.has(n)&&(await e.remoteSyncer.rejectListen(n,r),e.U_.delete(n),e.H_.removeTarget(n))}(e,t)}catch(r){A(aE,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await a$(e,r)}else if(t instanceof nW?e.H_.We(t):t instanceof nK?e.H_.Ze(t):e.H_.je(t),!r.isEqual(Q.min()))try{let t=await sq(e.localStore);r.compareTo(t)>=0&&await function(e,t){let r=e.H_.ot(t);return r.targetChanges.forEach((r,n)=>{if(r.resumeToken.approximateByteSize()>0){let i=e.U_.get(n);i&&e.U_.set(n,i.withResumeToken(r.resumeToken,t))}}),r.targetMismatches.forEach((t,r)=>{let n=e.U_.get(t);if(!n)return;e.U_.set(t,n.withResumeToken(tV.EMPTY_BYTE_STRING,n.snapshotVersion)),aP(e,t);let i=new ib(n.target,t,r,n.sequenceNumber);ak(e,i)}),e.remoteSyncer.applyRemoteEvent(r)}(e,r)}catch(t){A(aE,"Failed to raise snapshot:",t),await a$(e,t)}}async function a$(e,t,r){if(!ex(t))throw t;e.W_.add(1),await aC(e),e.j_.set("Offline"),r||(r=()=>sq(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{A(aE,"Retrying IndexedDB access"),await r(),e.W_.delete(1),await aT(e)})}function aF(e,t){return t().catch(r=>a$(e,r,t))}async function aU(e){let t=aX(e),r=e.K_.length>0?e.K_[e.K_.length-1].batchId:-1;for(;aN(e)&&e.K_.length<10;)try{let n=await function(e,t){return e.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===t&&(t=-1),e.mutationQueue.getNextMutationBatchAfterBatchId(r,t)))}(e.localStore,r);if(null===n){0===e.K_.length&&t.P_();break}r=n.batchId,function(e,t){e.K_.push(t);let r=aX(e);r.c_()&&r.b_&&r.S_(t.mutations)}(e,n)}catch(t){await a$(e,t)}aV(e)&&aB(e)}function aV(e){return aN(e)&&!aX(e).u_()&&e.K_.length>0}function aB(e){aX(e).start()}async function aq(e){aX(e).C_()}async function az(e){let t=aX(e);for(let r of e.K_)t.S_(r.mutations)}async function aH(e,t,r){let n=e.K_.shift(),i=nL.from(n,t,r);await aF(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),await aU(e)}async function aG(e,t){t&&aX(e).b_&&await async function(e,t){var r;if(function(e){switch(e){case j.OK:return L();case j.CANCELLED:case j.UNKNOWN:case j.DEADLINE_EXCEEDED:case j.RESOURCE_EXHAUSTED:case j.INTERNAL:case j.UNAVAILABLE:case j.UNAUTHENTICATED:return!1;case j.INVALID_ARGUMENT:case j.NOT_FOUND:case j.ALREADY_EXISTS:case j.PERMISSION_DENIED:case j.FAILED_PRECONDITION:case j.ABORTED:case j.OUT_OF_RANGE:case j.UNIMPLEMENTED:case j.DATA_LOSS:return!0;default:return L()}}(r=t.code)&&r!==j.ABORTED){let r=e.K_.shift();aX(e).h_(),await aF(e,()=>e.remoteSyncer.rejectFailedWrite(r.batchId,t)),await aU(e)}}(e,t),aV(e)&&aB(e)}async function aW(e,t){e.asyncQueue.verifyOperationInProgress(),A(aE,"RemoteStore received new credentials");let r=aN(e);e.W_.add(3),await aC(e),r&&e.j_.set("Unknown"),await e.remoteSyncer.handleCredentialChange(t),e.W_.delete(3),await aT(e)}async function aK(e,t){t?(e.W_.delete(2),await aT(e)):t||(e.W_.add(2),await aC(e),e.j_.set("Unknown"))}function aJ(e){var t,r,n;return e.J_||(e.J_=(t=e.datastore,r=e.asyncQueue,n={xo:aD.bind(null,e),No:aM.bind(null,e),Lo:aL.bind(null,e),p_:aj.bind(null,e)},t.M_(),new av(r,t.connection,t.authCredentials,t.appCheckCredentials,t.serializer,n)),e.G_.push(async t=>{t?(e.J_.h_(),aA(e)?aO(e):e.j_.set("Unknown")):(await e.J_.stop(),e.H_=void 0)})),e.J_}function aX(e){var t,r,n;return e.Y_||(e.Y_=(t=e.datastore,r=e.asyncQueue,n={xo:()=>Promise.resolve(),No:aq.bind(null,e),Lo:aG.bind(null,e),D_:az.bind(null,e),v_:aH.bind(null,e)},t.M_(),new ab(r,t.connection,t.authCredentials,t.appCheckCredentials,t.serializer,n)),e.G_.push(async t=>{t?(e.Y_.h_(),await aU(e)):(await e.Y_.stop(),e.K_.length>0&&(A(aE,`Stopping write stream with ${e.K_.length} pending writes`),e.K_=[]))})),e.Y_}class aY{constructor(e,t,r,n,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=n,this.removalCallback=i,this.deferred=new F,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(e=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,n,i){let s=new aY(e,t,Date.now()+r,n,i);return s.start(r),s}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new $(j.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function aQ(e,t){if(N("AsyncQueue",`${t}: ${e}`),ex(e))return new $(j.UNAVAILABLE,`${t}: ${e}`);throw e}class aZ{static emptySet(e){return new aZ(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||ei.comparator(t.key,r.key):(e,t)=>ei.comparator(e.key,t.key),this.keyedMap=ne(),this.sortedSet=new tN(this.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof aZ)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){let e=t.getNext().key,n=r.getNext().key;if(!e.isEqual(n))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){let r=new aZ;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class a0{constructor(){this.Z_=new tN(ei.comparator)}track(e){let t=e.doc.key,r=this.Z_.get(t);r?0!==e.type&&3===r.type?this.Z_=this.Z_.insert(t,e):3===e.type&&1!==r.type?this.Z_=this.Z_.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Z_=this.Z_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Z_=this.Z_.remove(t):1===e.type&&2===r.type?this.Z_=this.Z_.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):L():this.Z_=this.Z_.insert(t,e)}X_(){let e=[];return this.Z_.inorderTraversal((t,r)=>{e.push(r)}),e}}class a1{constructor(e,t,r,n,i,s,a,o,l){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=n,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=o,this.hasCachedResults=l}static fromInitialDocuments(e,t,r,n,i){let s=[];return t.forEach(e=>{s.push({type:0,doc:e})}),new a1(e,t,aZ.emptySet(t),s,r,n,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&r1(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let e=0;e<t.length;e++)if(t[e].type!==r[e].type||!t[e].doc.isEqual(r[e].doc))return!1;return!0}}class a2{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class a4{constructor(){this.queries=a9(),this.onlineState="Unknown",this.ia=new Set}terminate(){!function(e,t){let r=e.queries;e.queries=a9(),r.forEach((e,r)=>{for(let e of r.ta)e.onError(t)})}(this,new $(j.ABORTED,"Firestore shutting down"))}}function a9(){return new r3(e=>r2(e),r1)}function a6(e,t){let r=!1;for(let n of t){let t=n.query,i=e.queries.get(t);if(i){for(let e of i.ta)e.oa(n)&&(r=!0);i.ea=n}}r&&a3(e)}function a5(e,t,r){let n=e.queries.get(t);if(n)for(let e of n.ta)e.onError(r);e.queries.delete(t)}function a3(e){e.ia.forEach(e=>{e.next()})}(m=g||(g={}))._a="default",m.Cache="cache";class a8{constructor(e){this.key=e}}class a7{constructor(e){this.key=e}}class oe{constructor(e,t){this.query=e,this.fa=t,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=ns(),this.mutatedKeys=ns(),this.ya=r5(e),this.wa=new aZ(this.ya)}get ba(){return this.fa}Sa(e,t){let r=t?t.Da:new a0,n=t?t.wa:this.wa,i=t?t.mutatedKeys:this.mutatedKeys,s=n,a=!1,o="F"===this.query.limitType&&n.size===this.query.limit?n.last():null,l="L"===this.query.limitType&&n.size===this.query.limit?n.first():null;if(e.inorderTraversal((e,t)=>{let u=n.get(e),c=r9(this.query,t)?t:null,h=!!u&&this.mutatedKeys.has(u.key),d=!!c&&(c.hasLocalMutations||this.mutatedKeys.has(c.key)&&c.hasCommittedMutations),f=!1;u&&c?u.data.isEqual(c.data)?h!==d&&(r.track({type:3,doc:c}),f=!0):this.va(u,c)||(r.track({type:2,doc:c}),f=!0,(o&&this.ya(c,o)>0||l&&0>this.ya(c,l))&&(a=!0)):!u&&c?(r.track({type:0,doc:c}),f=!0):u&&!c&&(r.track({type:1,doc:u}),f=!0,(o||l)&&(a=!0)),f&&(c?(s=s.add(c),i=d?i.add(e):i.delete(e)):(s=s.delete(e),i=i.delete(e)))}),null!==this.query.limit)for(;s.size>this.query.limit;){let e="F"===this.query.limitType?s.last():s.first();s=s.delete(e.key),i=i.delete(e.key),r.track({type:1,doc:e})}return{wa:s,Da:r,ls:a,mutatedKeys:i}}va(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,n){let i=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;let s=e.Da.X_();s.sort((e,t)=>(function(e,t){let r=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return L()}};return r(e)-r(t)})(e.type,t.type)||this.ya(e.doc,t.doc)),this.Ca(r),n=null!=n&&n;let a=t&&!n?this.Fa():[],o=0===this.pa.size&&this.current&&!n?1:0,l=o!==this.ga;return(this.ga=o,0!==s.length||l)?{snapshot:new a1(this.query,e.wa,i,s,e.mutatedKeys,0===o,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ma:a}:{Ma:a}}sa(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({wa:this.wa,Da:new a0,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(e=>this.fa=this.fa.add(e)),e.modifiedDocuments.forEach(e=>{}),e.removedDocuments.forEach(e=>this.fa=this.fa.delete(e)),this.current=e.current)}Fa(){if(!this.current)return[];let e=this.pa;this.pa=ns(),this.wa.forEach(e=>{this.xa(e.key)&&(this.pa=this.pa.add(e.key))});let t=[];return e.forEach(e=>{this.pa.has(e)||t.push(new a7(e))}),this.pa.forEach(r=>{e.has(r)||t.push(new a8(r))}),t}Oa(e){this.fa=e.gs,this.pa=ns();let t=this.Sa(e.documents);return this.applyChanges(t,!0)}Na(){return a1.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,0===this.ga,this.hasCachedResults)}}let ot="SyncEngine";class or{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class on{constructor(e){this.key=e,this.Ba=!1}}class oi{constructor(e,t,r,n,i,s){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=n,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.La={},this.ka=new r3(e=>r2(e),r1),this.qa=new Map,this.Qa=new Set,this.$a=new tN(ei.comparator),this.Ka=new Map,this.Ua=new s_,this.Wa={},this.Ga=new Map,this.za=se.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return!0===this.ja}}async function os(e,t,r=!0){let n;let i=oD(e),s=i.ka.get(t);return s?(i.sharedClientState.addLocalQueryTarget(s.targetId),n=s.view.Na()):n=await oo(i,t,r,!0),n}async function oa(e,t){let r=oD(e);await oo(r,t,!0,!1)}async function oo(e,t,r,n){let i;let s=await sH(e.localStore,rQ(t)),a=s.targetId,o=e.sharedClientState.addLocalQueryTarget(a,r);return n&&(i=await ol(e,t,a,"current"===o,s.resumeToken)),e.isPrimaryClient&&r&&aI(e.remoteStore,s),i}async function ol(e,t,r,n,i){e.Ha=(t,r,n)=>(async function(e,t,r,n){let i=t.view.Sa(r);i.ls&&(i=await sW(e.localStore,t.query,!1).then(({documents:e})=>t.view.Sa(e,i)));let s=n&&n.targetChanges.get(t.targetId),a=n&&null!=n.targetMismatches.get(t.targetId),o=t.view.applyChanges(i,e.isPrimaryClient,s,a);return ow(e,t.targetId,o.Ma),o.snapshot})(e,t,r,n);let s=await sW(e.localStore,t,!0),a=new oe(t,s.gs),o=a.Sa(s.documents),l=nG.createSynthesizedTargetChangeForCurrentChange(r,n&&"Offline"!==e.onlineState,i),u=a.applyChanges(o,e.isPrimaryClient,l);ow(e,r,u.Ma);let c=new or(t,r,a);return e.ka.set(t,c),e.qa.has(r)?e.qa.get(r).push(t):e.qa.set(r,[t]),u.snapshot}async function ou(e,t,r){let n=e.ka.get(t),i=e.qa.get(n.targetId);if(i.length>1)return e.qa.set(n.targetId,i.filter(e=>!r1(e,t))),void e.ka.delete(t);e.isPrimaryClient?(e.sharedClientState.removeLocalQueryTarget(n.targetId),e.sharedClientState.isActiveQueryTarget(n.targetId)||await sG(e.localStore,n.targetId,!1).then(()=>{e.sharedClientState.clearQueryState(n.targetId),r&&aR(e.remoteStore,n.targetId),ov(e,n.targetId)}).catch(em)):(ov(e,n.targetId),await sG(e.localStore,n.targetId,!0))}async function oc(e,t){let r=e.ka.get(t),n=e.qa.get(r.targetId);e.isPrimaryClient&&1===n.length&&(e.sharedClientState.removeLocalQueryTarget(r.targetId),aR(e.remoteStore,r.targetId))}async function oh(e,t){try{let r=await function(e,t){let r=t.snapshotVersion,n=e.Ts;return e.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{let s=e.ds.newChangeBuffer({trackRemovals:!0});n=e.Ts;let a=[];t.targetChanges.forEach((s,o)=>{var l;let u=n.get(o);if(!u)return;a.push(e.Hr.removeMatchingKeys(i,s.removedDocuments,o).next(()=>e.Hr.addMatchingKeys(i,s.addedDocuments,o)));let c=u.withSequenceNumber(i.currentSequenceNumber);null!==t.targetMismatches.get(o)?c=c.withResumeToken(tV.EMPTY_BYTE_STRING,Q.min()).withLastLimboFreeSnapshotVersion(Q.min()):s.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(s.resumeToken,r)),n=n.insert(o,c),l=c,(0===u.resumeToken.approximateByteSize()||l.snapshotVersion.toMicroseconds()-u.snapshotVersion.toMicroseconds()>=3e8||s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size>0)&&a.push(e.Hr.updateTargetData(i,c))});let o=r8,l=ns();if(t.documentUpdates.forEach(r=>{t.resolvedLimboDocuments.has(r)&&a.push(e.persistence.referenceDelegate.updateLimboDocument(i,r))}),a.push(sz(i,s,t.documentUpdates).next(e=>{o=e.Vs,l=e.fs})),!r.isEqual(Q.min())){let t=e.Hr.getLastRemoteSnapshotVersion(i).next(t=>e.Hr.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(t)}return ey.waitFor(a).next(()=>s.apply(i)).next(()=>e.localDocuments.getLocalViewOfDocuments(i,o,l)).next(()=>o)}).then(t=>(e.Ts=n,t))}(e.localStore,t);t.targetChanges.forEach((t,r)=>{let n=e.Ka.get(r);n&&(t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size<=1||L(),t.addedDocuments.size>0?n.Ba=!0:t.modifiedDocuments.size>0?n.Ba||L():t.removedDocuments.size>0&&(n.Ba||L(),n.Ba=!1))}),await oS(e,r,t)}catch(e){await em(e)}}function od(e,t,r){var n;if(e.isPrimaryClient&&0===r||!e.isPrimaryClient&&1===r){let r;let i=[];e.ka.forEach((e,r)=>{let n=r.view.sa(t);n.snapshot&&i.push(n.snapshot)}),(n=e.eventManager).onlineState=t,r=!1,n.queries.forEach((e,n)=>{for(let e of n.ta)e.sa(t)&&(r=!0)}),r&&a3(n),i.length&&e.La.p_(i),e.onlineState=t,e.isPrimaryClient&&e.sharedClientState.setOnlineState(t)}}async function of(e,t,r){e.sharedClientState.updateQueryState(t,"rejected",r);let n=e.Ka.get(t),i=n&&n.key;if(i){let r=new tN(ei.comparator);r=r.insert(i,rv.newNoDocument(i,Q.min()));let n=ns().add(i),s=new nH(Q.min(),new Map,new tN(J),r,n);await oh(e,s),e.$a=e.$a.remove(i),e.Ka.delete(t),o_(e)}else await sG(e.localStore,t,!1).then(()=>ov(e,t,r)).catch(em)}async function op(e,t){var r;let n=t.batch.batchId;try{let i=await (r=e.localStore).persistence.runTransaction("Acknowledge batch","readwrite-primary",e=>{let n=t.batch.keys(),i=r.ds.newChangeBuffer({trackRemovals:!0});return(function(e,t,r,n){let i=r.batch,s=i.keys(),a=ey.resolve();return s.forEach(e=>{a=a.next(()=>n.getEntry(t,e)).next(t=>{let s=r.docVersions.get(e);null!==s||L(),0>t.version.compareTo(s)&&(i.applyToRemoteDocument(t,r),t.isValidDocument()&&(t.setReadTime(r.commitVersion),n.addEntry(t)))})}),a.next(()=>e.mutationQueue.removeMutationBatch(t,i))})(r,e,t,i).next(()=>i.apply(e)).next(()=>r.mutationQueue.performConsistencyCheck(e)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(e,n,t.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=ns();for(let r=0;r<e.mutationResults.length;++r)e.mutationResults[r].transformResults.length>0&&(t=t.add(e.batch.mutations[r].key));return t}(t))).next(()=>r.localDocuments.getDocuments(e,n))});oy(e,n,null),om(e,n),e.sharedClientState.updateMutationState(n,"acknowledged"),await oS(e,i)}catch(e){await em(e)}}async function og(e,t,r){var n;try{let i=await (n=e.localStore).persistence.runTransaction("Reject batch","readwrite-primary",e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next(t=>(null!==t||L(),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t))).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)).next(()=>n.localDocuments.getDocuments(e,r))});oy(e,t,r),om(e,t),e.sharedClientState.updateMutationState(t,"rejected",r),await oS(e,i)}catch(e){await em(e)}}function om(e,t){(e.Ga.get(t)||[]).forEach(e=>{e.resolve()}),e.Ga.delete(t)}function oy(e,t,r){let n=e.Wa[e.currentUser.toKey()];if(n){let i=n.get(t);i&&(r?i.reject(r):i.resolve(),n=n.remove(t)),e.Wa[e.currentUser.toKey()]=n}}function ov(e,t,r=null){for(let n of(e.sharedClientState.removeLocalQueryTarget(t),e.qa.get(t)))e.ka.delete(n),r&&e.La.Ja(n,r);e.qa.delete(t),e.isPrimaryClient&&e.Ua.Sr(t).forEach(t=>{e.Ua.containsKey(t)||ob(e,t)})}function ob(e,t){e.Qa.delete(t.path.canonicalString());let r=e.$a.get(t);null!==r&&(aR(e.remoteStore,r),e.$a=e.$a.remove(t),e.Ka.delete(r),o_(e))}function ow(e,t,r){for(let n of r)n instanceof a8?(e.Ua.addReference(n.key,t),function(e,t){let r=t.key,n=r.path.canonicalString();e.$a.get(r)||e.Qa.has(n)||(A(ot,"New document in limbo: "+r),e.Qa.add(n),o_(e))}(e,n)):n instanceof a7?(A(ot,"Document no longer in limbo: "+n.key),e.Ua.removeReference(n.key,t),e.Ua.containsKey(n.key)||ob(e,n.key)):L()}function o_(e){for(;e.Qa.size>0&&e.$a.size<e.maxConcurrentLimboResolutions;){let t=e.Qa.values().next().value;e.Qa.delete(t);let r=new ei(et.fromString(t)),n=e.za.next();e.Ka.set(n,new on(r)),e.$a=e.$a.insert(r,n),aI(e.remoteStore,new ib(rQ(rK(r.path)),n,"TargetPurposeLimboResolution",eA.ae))}}async function oS(e,t,r){let n=[],i=[],s=[];e.ka.isEmpty()||(e.ka.forEach((a,o)=>{s.push(e.Ha(o,t,r).then(t=>{var s;if((t||r)&&e.isPrimaryClient){let n=t?!t.fromCache:null===(s=null==r?void 0:r.targetChanges.get(o.targetId))||void 0===s?void 0:s.current;e.sharedClientState.updateQueryState(o.targetId,n?"current":"not-current")}if(t){n.push(t);let e=sj.Yi(o.targetId,t);i.push(e)}}))}),await Promise.all(s),e.La.p_(n),await async function(e,t){try{await e.persistence.runTransaction("notifyLocalViewChanges","readwrite",r=>ey.forEach(t,t=>ey.forEach(t.Hi,n=>e.persistence.referenceDelegate.addReference(r,t.targetId,n)).next(()=>ey.forEach(t.Ji,n=>e.persistence.referenceDelegate.removeReference(r,t.targetId,n)))))}catch(e){if(!ex(e))throw e;A(sU,"Failed to update sequence numbers: "+e)}for(let r of t){let t=r.targetId;if(!r.fromCache){let r=e.Ts.get(t),n=r.snapshotVersion,i=r.withLastLimboFreeSnapshotVersion(n);e.Ts=e.Ts.insert(t,i)}}}(e.localStore,i))}async function oE(e,t){var r;if(!e.currentUser.isEqual(t)){A(ot,"User change. New user:",t.toKey());let n=await sB(e.localStore,t);e.currentUser=t,r="'waitForPendingWrites' promise is rejected due to a user change.",e.Ga.forEach(e=>{e.forEach(e=>{e.reject(new $(j.CANCELLED,r))})}),e.Ga.clear(),e.sharedClientState.handleUserChange(t,n.removedBatchIds,n.addedBatchIds),await oS(e,n.Rs)}}function ox(e,t){let r=e.Ka.get(t);if(r&&r.Ba)return ns().add(r.key);{let r=ns(),n=e.qa.get(t);if(!n)return r;for(let t of n){let n=e.ka.get(t);r=r.unionWith(n.view.ba)}return r}}async function oT(e,t){let r=await sW(e.localStore,t.query,!0),n=t.view.Oa(r);return e.isPrimaryClient&&ow(e,t.targetId,n.Ma),n}async function oC(e,t){return sJ(e.localStore,t).then(t=>oS(e,t))}async function oI(e,t,r,n){let i=await function(e,t){let r=e.mutationQueue;return e.persistence.runTransaction("Lookup mutation documents","readonly",n=>r.Ln(n,t).next(t=>t?e.localDocuments.getDocuments(n,t):ey.resolve(null)))}(e.localStore,t);null!==i?("pending"===r?await aU(e.remoteStore):"acknowledged"===r||"rejected"===r?(oy(e,t,n||null),om(e,t),function(e,t){e.mutationQueue.qn(t)}(e.localStore,t)):L(),await oS(e,i)):A(ot,"Cannot apply mutation batch with id: "+t)}async function oR(e,t){if(oD(e),oM(e),!0===t&&!0!==e.ja){let t=e.sharedClientState.getAllActiveQueryTargets(),r=await ok(e,t.toArray());for(let t of(e.ja=!0,await aK(e.remoteStore,!0),r))aI(e.remoteStore,t)}else if(!1===t&&!1!==e.ja){let t=[],r=Promise.resolve();e.qa.forEach((n,i)=>{e.sharedClientState.isLocalQueryTarget(i)?t.push(i):r=r.then(()=>(ov(e,i),sG(e.localStore,i,!0))),aR(e.remoteStore,i)}),await r,await ok(e,t),e.Ka.forEach((t,r)=>{aR(e.remoteStore,r)}),e.Ua.Dr(),e.Ka=new Map,e.$a=new tN(ei.comparator),e.ja=!1,await aK(e.remoteStore,!1)}}async function ok(e,t,r){let n=[],i=[];for(let r of t){let t;let s=e.qa.get(r);if(s&&0!==s.length)for(let r of(t=await sH(e.localStore,rQ(s[0])),s)){let t=e.ka.get(r),n=await oT(e,t);n.snapshot&&i.push(n.snapshot)}else{let n=await sK(e.localStore,r);t=await sH(e.localStore,n),await ol(e,oP(n),r,!1,t.resumeToken)}n.push(t)}return e.La.p_(i),n}function oP(e){var t,r,n,i;return t=e.path,r=e.collectionGroup,n=e.orderBy,i=e.filters,new rW(t,r,n,i,e.limit,"F",e.startAt,e.endAt)}function oO(e){return e.localStore.persistence.zi()}async function oA(e,t,r,n){if(e.ja)return void A(ot,"Ignoring unexpected query state notification.");let i=e.qa.get(t);if(i&&i.length>0)switch(r){case"current":case"not-current":{let n=await sJ(e.localStore,r6(i[0])),s=nH.createSynthesizedRemoteEventForCurrentChange(t,"current"===r,tV.EMPTY_BYTE_STRING);await oS(e,n,s);break}case"rejected":await sG(e.localStore,t,!0),ov(e,t,n);break;default:L()}}async function oN(e,t,r){let n=oD(e);if(n.ja){for(let e of t){if(n.qa.has(e)&&n.sharedClientState.isActiveQueryTarget(e)){A(ot,"Adding an already active target "+e);continue}let t=await sK(n.localStore,e),r=await sH(n.localStore,t);await ol(n,oP(t),r.targetId,!1,r.resumeToken),aI(n.remoteStore,r)}for(let e of r)n.qa.has(e)&&await sG(n.localStore,e,!1).then(()=>{aR(n.remoteStore,e),ov(n,e)}).catch(em)}}function oD(e){return e.remoteStore.remoteSyncer.applyRemoteEvent=oh.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=ox.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=of.bind(null,e),e.La.p_=a6.bind(null,e.eventManager),e.La.Ja=a5.bind(null,e.eventManager),e}function oM(e){return e.remoteStore.remoteSyncer.applySuccessfulWrite=op.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=og.bind(null,e),e}class oL{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=ap(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,t){return null}nu(e,t){return null}eu(e){var t;return t=this.persistence,new sV(t,new sF,e.initialUser,this.serializer)}Xa(e){return new sI(sk.ri,this.serializer)}Za(e){return new ae}async terminate(){var e,t;null===(e=this.gcScheduler)||void 0===e||e.stop(),null===(t=this.indexBackfillerScheduler)||void 0===t||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}oL.provider={build:()=>new oL};class oj extends oL{constructor(e){super(),this.cacheSizeBytes=e}tu(e,t){return this.persistence.referenceDelegate instanceof sP||L(),new sa(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}Xa(e){let t=void 0!==this.cacheSizeBytes?i9.withCacheSize(this.cacheSizeBytes):i9.DEFAULT;return new sI(e=>sP.ri(e,t),this.serializer)}}class o$ extends oL{constructor(e,t,r){super(),this.ru=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.ru.initialize(this,e),await oM(this.ru.syncEngine),await aU(this.ru.remoteStore),await this.persistence.Ci(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))}eu(e){var t;return t=this.persistence,new sV(t,new sF,e.initialUser,this.serializer)}tu(e,t){return new sa(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}nu(e,t){let r=new eO(t,this.persistence);return new eP(e.asyncQueue,r)}Xa(e){let t=sL(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?i9.withCacheSize(this.cacheSizeBytes):i9.DEFAULT;return new sM(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,ad(),af(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Za(e){return new ae}}class oF{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>od(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=oE.bind(null,this.syncEngine),await aK(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new a4}createDatastore(e){let t=ap(e.databaseInfo.databaseId),r=new ah(e.databaseInfo);return new a_(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){var t;return t=this.localStore,new ax(t,this.datastore,e.asyncQueue,e=>od(this.syncEngine,e,0),an.D()?new an:new at)}createSyncEngine(e,t){return function(e,t,r,n,i,s,a){let o=new oi(e,t,r,n,i,s);return a&&(o.ja=!0),o}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(e){A(aE,"RemoteStore shutting down."),e.W_.add(5),await aC(e),e.z_.shutdown(),e.j_.set("Unknown")}(this.remoteStore),null===(e=this.datastore)||void 0===e||e.terminate(),null===(t=this.eventManager)||void 0===t||t.terminate()}}oF.provider={build:()=>new oF};let oU="FirestoreClient";class oV{constructor(e,t,r,n,i){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=n,this.user=R.UNAUTHENTICATED,this.clientId=K.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async e=>{A(oU,"Received user=",e.uid),await this.authCredentialListener(e),this.user=e}),this.appCheckCredentials.start(r,e=>(A(oU,"Received new app check token=",e),this.appCheckCredentialListener(e,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new F;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(r){let t=aQ(r,"Failed to shutdown persistence");e.reject(t)}}),e.promise}}async function oB(e,t){e.asyncQueue.verifyOperationInProgress(),A(oU,"Initializing OfflineComponentProvider");let r=e.configuration;await t.initialize(r);let n=r.initialUser;e.setCredentialChangeListener(async e=>{n.isEqual(e)||(await sB(t.localStore,e),n=e)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function oq(e,t){e.asyncQueue.verifyOperationInProgress();let r=await oz(e);A(oU,"Initializing OnlineComponentProvider"),await t.initialize(r,e.configuration),e.setCredentialChangeListener(e=>aW(t.remoteStore,e)),e.setAppCheckTokenChangeListener((e,r)=>aW(t.remoteStore,r)),e._onlineComponents=t}async function oz(e){if(!e._offlineComponents){if(e._uninitializedComponentsProvider){A(oU,"Using user provided OfflineComponentProvider");try{await oB(e,e._uninitializedComponentsProvider._offline)}catch(t){if(!("FirebaseError"===t.name?t.code===j.FAILED_PRECONDITION||t.code===j.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code))throw t;D("Error using user provided cache. Falling back to memory cache: "+t),await oB(e,new oL)}}else A(oU,"Using default OfflineComponentProvider"),await oB(e,new oj(void 0))}return e._offlineComponents}async function oH(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(A(oU,"Using user provided OnlineComponentProvider"),await oq(e,e._uninitializedComponentsProvider._online)):(A(oU,"Using default OnlineComponentProvider"),await oq(e,new oF))),e._onlineComponents}function oG(e){let t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}let oW=new Map;function oK(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{var t;let r=(t=e).constructor?t.constructor.name:null;return r?`a custom ${r} object`:"an object"}}return"function"==typeof e?"a function":L()}let oJ="firestore.googleapis.com";class oX{constructor(e){var t,r;if(void 0===e.host){if(void 0!==e.ssl)throw new $(j.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=oJ,this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new $(j.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,r,n){if(!0===t&&!0===n)throw new $(j.INVALID_ARGUMENT,`${e} and ${r} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=oG(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new $(j.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (must not be NaN)`);if(e.timeoutSeconds<5)throw new $(j.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (minimum allowed value is 5)`);if(e.timeoutSeconds>30)throw new $(j.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){var t,r;return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(t=this.experimentalLongPollingOptions,r=e.experimentalLongPollingOptions,t.timeoutSeconds===r.timeoutSeconds)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class oY{constructor(e,t,r,n){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=n,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new oX({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new $(j.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new $(j.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new oX(e),this._emulatorOptions=e.emulatorOptions||{},void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new V;switch(e.type){case"firstParty":return new H(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new $(j.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){"notTerminated"===this._terminateTask?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){let t=oW.get(e);t&&(A("ComponentProvider","Removing Datastore"),oW.delete(e),t.terminate())}(this),Promise.resolve()}}class oQ{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new oQ(this.firestore,e,this._query)}}class oZ{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new o0(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new oZ(this.firestore,e,this._key)}}class o0 extends oQ{constructor(e,t,r){super(e,t,rK(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new oZ(this.firestore,null,new ei(e))}withConverter(e){return new o0(this.firestore,e,this._path)}}let o1="AsyncQueue";class o2{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new ag(this,"async_queue_retry"),this.bu=()=>{let e=af();e&&A(o1,"Visibility state changed to "+e.visibilityState),this.a_.t_()},this.Su=e;let t=af();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.bu)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;let t=af();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.bu)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});let t=new F;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(0!==this.Vu.length){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!ex(e))throw e;A(o1,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){let t=this.Su.then(()=>(this.pu=!0,e().catch(e=>{let t;throw this.gu=e,this.pu=!1,N("INTERNAL UNHANDLED ERROR: ",(t=e.message||"",e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t)),e}).then(e=>(this.pu=!1,e))));return this.Su=t,t}enqueueAfterDelay(e,t,r){this.Du(),this.wu.indexOf(e)>-1&&(t=0);let n=aY.createAndSchedule(this,e,t,r,e=>this.Fu(e));return this.fu.push(n),n}Du(){this.gu&&L()}verifyOperationInProgress(){}async Mu(){let e;do e=this.Su,await e;while(e!==this.Su)}xu(e){for(let t of this.fu)if(t.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{for(let t of(this.fu.sort((e,t)=>e.targetTimeMs-t.targetTimeMs),this.fu))if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){let t=this.fu.indexOf(e);this.fu.splice(t,1)}}class o4 extends oY{constructor(e,t,r,n){super(e,t,r,n),this.type="firestore",this._queue=new o2,this._persistenceKey=(null==n?void 0:n.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new o2(e),this._firestoreClient=void 0,await e}}}function o9(e,t){let r="object"==typeof e?e:(0,y.Mq)(),n=(0,y.qX)(r,"firestore").getImmediate({identifier:"string"==typeof e?e:t||t0});if(!n._initialized){let e=(0,w.P0)("firestore");e&&function(e,t,r,n={}){var i;let s=(e=function(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new $(j.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let r=oK(e);throw new $(j.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${r}`)}}return e}(e,oY))._getSettings(),a=Object.assign(Object.assign({},s),{emulatorOptions:e._getEmulatorOptions()}),o=`${t}:${r}`;s.host!==oJ&&s.host!==o&&D("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");let l=Object.assign(Object.assign({},s),{host:o,ssl:!1,emulatorOptions:n});if(!(0,w.vZ)(l,a)&&(e._setSettings(l),n.mockUserToken)){let t,r;if("string"==typeof n.mockUserToken)t=n.mockUserToken,r=R.MOCK_USER;else{t=(0,w.Sg)(n.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);let s=n.mockUserToken.sub||n.mockUserToken.user_id;if(!s)throw new $(j.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");r=new R(s)}e._authCredentials=new B(new U(t,r))}}(n,...e)}return n}class o6{constructor(e){this._byteString=e}static fromBase64String(e){try{return new o6(tV.fromBase64String(e))}catch(e){throw new $(j.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new o6(tV.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class o5{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new $(j.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new en(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class o3{constructor(e){this._methodName=e}}class o8{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new $(j.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new $(j.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return J(this._lat,e._lat)||J(this._long,e._long)}}class o7{constructor(e){this._values=(e||[]).map(e=>e)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(e,t){if(e.length!==t.length)return!1;for(let r=0;r<e.length;++r)if(e[r]!==t[r])return!1;return!0}(this._values,e._values)}}let le=/^__.*__$/;class lt{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new nk(e,this.data,this.fieldMask,t,this.fieldTransforms):new nR(e,this.data,t,this.fieldTransforms)}}class lr{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new nk(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function ln(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw L()}}class li{constructor(e,t,r,n,i,s){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=n,void 0===i&&this.Bu(),this.fieldTransforms=i||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new li(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var t;let r=null===(t=this.path)||void 0===t?void 0:t.child(e),n=this.ku({path:r,Qu:!1});return n.$u(e),n}Ku(e){var t;let r=null===(t=this.path)||void 0===t?void 0:t.child(e),n=this.ku({path:r,Qu:!1});return n.Bu(),n}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return l_(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(0===e.length)throw this.Wu("Document fields must not be empty");if(ln(this.Lu)&&le.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class ls{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||ap(e)}ju(e,t,r,n=!1){return new li({Lu:e,methodName:t,zu:r,path:en.emptyPath(),Qu:!1,Gu:n},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function la(e){let t=e._freezeSettings(),r=ap(e._databaseId);return new ls(e._databaseId,!!t.ignoreUndefinedProperties,r)}class lo extends o3{_toFieldTransform(e){if(2!==e.Lu)throw 1===e.Lu?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof lo}}function ll(e,t,r){return new li({Lu:3,zu:t.settings.zu,methodName:e._methodName,Qu:r},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class lu extends null{_toFieldTransform(e){return new nw(e.path,new nd)}isEqual(e){return e instanceof lu}}class lc extends o3{constructor(e,t){super(e),this.Hu=t}_toFieldTransform(e){let t=ll(this,e,!0),r=new nf(this.Hu.map(e=>lp(e,t)));return new nw(e.path,r)}isEqual(e){return e instanceof lc&&(0,w.vZ)(this.Hu,e.Hu)}}class lh extends o3{constructor(e,t){super(e),this.Hu=t}_toFieldTransform(e){let t=ll(this,e,!0),r=new ng(this.Hu.map(e=>lp(e,t)));return new nw(e.path,r)}isEqual(e){return e instanceof lh&&(0,w.vZ)(this.Hu,e.Hu)}}class ld extends o3{constructor(e,t){super(e),this.Ju=t}_toFieldTransform(e){let t=new ny(e.serializer,nu(e.serializer,this.Ju));return new nw(e.path,t)}isEqual(e){return e instanceof ld&&this.Ju===e.Ju}}function lf(e,t,r,n=!1){return lp(r,e.ju(n?4:3,t))}function lp(e,t){if(lm(e=(0,w.m9)(e)))return ly("Unsupported field value:",t,e),lg(e,t);if(e instanceof o3)return function(e,t){if(!ln(t.Lu))throw t.Wu(`${e._methodName}() can only be used with update() and set()`);if(!t.path)throw t.Wu(`${e._methodName}() is not currently supported inside arrays`);let r=e._toFieldTransform(t);r&&t.fieldTransforms.push(r)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Qu&&4!==t.Lu)throw t.Wu("Nested arrays are not supported");return function(e,t){let r=[],n=0;for(let i of e){let e=lp(i,t.Uu(n));null==e&&(e={nullValue:"NULL_VALUE"}),r.push(e),n++}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=(0,w.m9)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return nu(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){let r=Y.fromDate(e);return{timestampValue:n6(t.serializer,r)}}if(e instanceof Y){let r=new Y(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:n6(t.serializer,r)}}if(e instanceof o8)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof o6)return{bytesValue:n5(t.serializer,e._byteString)};if(e instanceof oZ){let r=t.databaseId,n=e.firestore._databaseId;if(!n.isEqual(r))throw t.Wu(`Document reference is for database ${n.projectId}/${n.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:n8(e.firestore._databaseId||t.databaseId,e._key.path)}}if(e instanceof o7)return{mapValue:{fields:{[t2]:{stringValue:t6},[t5]:{arrayValue:{values:e.toArray().map(e=>{if("number"!=typeof e)throw t.Wu("VectorValues must only contain numeric values.");return no(t.serializer,e)})}}}}};throw t.Wu(`Unsupported field value: ${oK(e)}`)}(e,t)}function lg(e,t){let r={};return tA(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):tO(e,(e,n)=>{let i=lp(n,t.qu(e));null!=i&&(r[e]=i)}),{mapValue:{fields:r}}}function lm(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Y||e instanceof o8||e instanceof o6||e instanceof oZ||e instanceof o3||e instanceof o7)}function ly(e,t,r){if(!lm(r)||!("object"==typeof r&&null!==r&&(Object.getPrototypeOf(r)===Object.prototype||null===Object.getPrototypeOf(r)))){let n=oK(r);throw"an object"===n?t.Wu(e+" a custom object"):t.Wu(e+" "+n)}}function lv(e,t,r){if((t=(0,w.m9)(t))instanceof o5)return t._internalPath;if("string"==typeof t)return lw(e,t);throw l_("Field path arguments must be of type string or ",e,!1,void 0,r)}let lb=RegExp("[~\\*/\\[\\]]");function lw(e,t,r){if(t.search(lb)>=0)throw l_(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,r);try{return new o5(...t.split("."))._internalPath}catch(n){throw l_(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,r)}}function l_(e,t,r,n,i){let s=n&&!n.isEmpty(),a=void 0!==i,o=`Function ${t}() called with invalid data`;r&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(s||a)&&(l+=" (found",s&&(l+=` in field ${n}`),a&&(l+=` in document ${i}`),l+=")"),new $(j.INVALID_ARGUMENT,o+e+l)}function lS(e,t){return e.some(e=>e.isEqual(t))}class lE{constructor(e,t,r,n,i){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=n,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new oZ(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){let e=new lx(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(lT("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class lx extends lE{data(){return super.data()}}function lT(e,t){return"string"==typeof t?lw(e,t):t instanceof o5?t._internalPath:t._delegate._internalPath}class lC{}class lI extends lC{}class lR extends lI{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new lR(e,t,r)}_apply(e){let t=this._parse(e);return lj(e._query,t),new oQ(e.firestore,e.converter,rZ(e._query,t))}_parse(e){let t=la(e.firestore);return function(e,t,r,n,i,s,a){let o;if(i.isKeyField()){if("array-contains"===s||"array-contains-any"===s)throw new $(j.INVALID_ARGUMENT,`Invalid Query. You can't perform '${s}' queries on documentId().`);if("in"===s||"not-in"===s){lL(a,s);let t=[];for(let r of a)t.push(lM(n,e,r));o={arrayValue:{values:t}}}else o=lM(n,e,a)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||lL(a,s),o=lf(r,t,a,"in"===s||"not-in"===s);return rx.create(i,s,o)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}class lk extends lC{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new lk(e,t)}_parse(e){let t=this._queryConstraints.map(t=>t._parse(e)).filter(e=>e.getFilters().length>0);return 1===t.length?t[0]:rT.create(t,this._getOperator())}_apply(e){let t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let r=e;for(let e of t.getFlattenedFilters())lj(r,e),r=rZ(r,e)}(e._query,t),new oQ(e.firestore,e.converter,rZ(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class lP extends lI{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new lP(e,t)}_apply(e){let t=function(e,t,r){if(null!==e.startAt)throw new $(j.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new $(j.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new rS(t,r)}(e._query,this._field,this._direction);return new oQ(e.firestore,e.converter,function(e,t){let r=e.explicitOrderBy.concat([t]);return new rW(e.path,e.collectionGroup,r,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}class lO extends lI{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new lO(e,t,r)}_apply(e){return new oQ(e.firestore,e.converter,r0(e._query,this._limit,this._limitType))}}class lA extends lI{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new lA(e,t,r)}_apply(e){var t;let r=lD(e,this.type,this._docOrFields,this._inclusive);return new oQ(e.firestore,e.converter,new rW((t=e._query).path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,r,t.endAt))}}class lN extends lI{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new lN(e,t,r)}_apply(e){var t;let r=lD(e,this.type,this._docOrFields,this._inclusive);return new oQ(e.firestore,e.converter,new rW((t=e._query).path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,r))}}function lD(e,t,r,n){if(r[0]=(0,w.m9)(r[0]),r[0]instanceof lE)return function(e,t,r,n,i){if(!n)throw new $(j.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${r}().`);let s=[];for(let r of rY(e))if(r.field.isKeyField())s.push(rs(t,n.key));else{let e=n.data.field(r.field);if(tX(e))throw new $(j.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+r.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===e){let e=r.field.canonicalString();throw new $(j.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${e}' (used as the orderBy) does not exist.`)}s.push(e)}return new rb(s,i)}(e._query,e.firestore._databaseId,t,r[0]._document,n);{let i=la(e.firestore);return function(e,t,r,n,i,s){let a=e.explicitOrderBy;if(i.length>a.length)throw new $(j.INVALID_ARGUMENT,`Too many arguments provided to ${n}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);let o=[];for(let s=0;s<i.length;s++){let l=i[s];if(a[s].field.isKeyField()){if("string"!=typeof l)throw new $(j.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${n}(), but got a ${typeof l}`);if(!rX(e)&&-1!==l.indexOf("/"))throw new $(j.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${n}() must be a plain document ID, but '${l}' contains a slash.`);let r=e.path.child(et.fromString(l));if(!ei.isDocumentKey(r))throw new $(j.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${n}() must result in a valid document path, but '${r}' is not because it contains an odd number of segments.`);let i=new ei(r);o.push(rs(t,i))}else{let e=lf(r,n,l);o.push(e)}}return new rb(o,s)}(e._query,e.firestore._databaseId,i,t,r,n)}}function lM(e,t,r){if("string"==typeof(r=(0,w.m9)(r))){if(""===r)throw new $(j.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!rX(t)&&-1!==r.indexOf("/"))throw new $(j.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);let n=t.path.child(et.fromString(r));if(!ei.isDocumentKey(n))throw new $(j.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return rs(e,new ei(n))}if(r instanceof oZ)return rs(e,r._key);throw new $(j.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${oK(r)}.`)}function lL(e,t){if(!Array.isArray(e)||0===e.length)throw new $(j.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function lj(e,t){let r=function(e,t){for(let r of e)for(let e of r.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==r)throw r===t.op?new $(j.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new $(j.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${r.toString()}' filters.`)}class l${convertValue(e,t="none"){switch(t8(e)){case 0:return null;case 1:return e.booleanValue;case 2:return tz(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(tH(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw L()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){let r={};return tO(e,(e,n)=>{r[e]=this.convertValue(n,t)}),r}convertVectorValue(e){var t,r,n;return new o7(null===(n=null===(r=null===(t=e.fields)||void 0===t?void 0:t[t5].arrayValue)||void 0===r?void 0:r.values)||void 0===n?void 0:n.map(e=>tz(e.doubleValue)))}convertGeoPoint(e){return new o8(tz(e.latitude),tz(e.longitude))}convertArray(e,t){return(e.values||[]).map(e=>this.convertValue(e,t))}convertServerTimestamp(e,t){switch(t){case"previous":let r=tY(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(tQ(e));default:return null}}convertTimestamp(e){let t=tq(e);return new Y(t.seconds,t.nanos)}convertDocumentKey(e,t){let r=et.fromString(e);iv(r)||L();let n=new t1(r.get(1),r.get(3)),i=new ei(r.popFirst(5));return n.isEqual(t)||N(`Document ${i} contains a document reference within a different database (${n.projectId}/${n.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),i}}class lF extends l${constructor(e){super(),this.firestore=e}convertBytes(e){return new o6(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new oZ(this.firestore,null,t)}}class lU extends lE{constructor(e,t,r,n,i,s){super(e,t,r,n,s),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new lV(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let r=this._document.data.field(lT("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class lV extends lU{data(e={}){return super.data(e)}}function lB(e,t){if((e=(0,w.m9)(e)).firestore!==t)throw new $(j.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}new WeakMap,function(e=!0){k=y.Jn,(0,y.Xd)(new v.wA("firestore",(t,{instanceIdentifier:r,options:n})=>{let i=t.getProvider("app").getImmediate(),s=new o4(new q(t.getProvider("auth-internal")),new W(i,t.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new $(j.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new t1(e.options.projectId,t)}(i,r),i);return n=Object.assign({useFetchStreams:e},n),s._setSettings(n),s},"PUBLIC").setMultipleInstances(!0)),(0,y.KN)(C,I,void 0),(0,y.KN)(C,I,"esm2017")}()},2453:(e,t,r)=>{"use strict";r.d(t,{cF:()=>H});var n,i,s=r(459),a=r(6600),o=r(2596);let l="firebasestorage.googleapis.com";class u extends a.ZR{constructor(e,t,r=0){super(c(e),`Firebase Storage: ${t} (${c(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,u.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return c(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}function c(e){return"storage/"+e}function h(){return new u(n.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function d(e){return new u(n.INVALID_ARGUMENT,e)}function f(){return new u(n.APP_DELETED,"The Firebase app was deleted.")}function p(e,t){return new u(n.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}!function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}(n||(n={}));class g{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){let e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=g.makeFromUrl(e,t)}catch(t){return new g(e,"")}if(""===r.path)return r;throw new u(n.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+e+"'.")}static makeFromUrl(e,t){let r=null,i="([A-Za-z0-9.\\-_]+)",s=RegExp("^gs://"+i+"(/(.*))?$","i");function a(e){e.path_=decodeURIComponent(e.path)}let o=t.replace(/[.]/g,"\\."),c=[{regex:s,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:RegExp(`^https?://${o}/v[A-Za-z0-9_]+/b/${i}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:a},{regex:RegExp(`^https?://${t===l?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${i}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:a}];for(let t=0;t<c.length;t++){let n=c[t],i=n.regex.exec(e);if(i){let e=i[n.indices.bucket],t=i[n.indices.path];t||(t=""),r=new g(e,t),n.postModify(r);break}}if(null==r)throw new u(n.INVALID_URL,"Invalid URL '"+e+"'.");return r}}class m{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function y(e){return"string"==typeof e||e instanceof String}function v(e){return b()&&e instanceof Blob}function b(){return"undefined"!=typeof Blob}function w(e,t,r,n){if(n<t)throw d(`Invalid value for '${e}'. Expected ${t} or greater.`);if(n>r)throw d(`Invalid value for '${e}'. Expected ${r} or less.`)}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(i||(i={}));class _{constructor(e,t,r,n,i,s,a,o,l,u,c,h=!0){this.url_=e,this.method_=t,this.headers_=r,this.body_=n,this.successCodes_=i,this.additionalRetryCodes_=s,this.callback_=a,this.errorCallback_=o,this.timeout_=l,this.progressCallback_=u,this.connectionFactory_=c,this.retry=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((e,t)=>{this.resolve_=e,this.reject_=t,this.start_()})}start_(){let e=(e,t)=>{let r=this.resolve_,i=this.reject_,s=t.connection;if(t.wasSuccessCode)try{let e=this.callback_(s,s.getResponse());void 0!==e?r(e):r()}catch(e){i(e)}else if(null!==s){let e=h();e.serverResponse=s.getErrorText(),i(this.errorCallback_?this.errorCallback_(s,e):e)}else i(t.canceled?this.appDelete_?f():new u(n.CANCELED,"User canceled the upload/download."):new u(n.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again."))};this.canceled_?e(!1,new S(!1,null,!0)):this.backoffId_=function(e,t,r){let n=1,i=null,s=null,a=!1,o=0,l=!1;function u(...e){l||(l=!0,t.apply(null,e))}function c(t){i=setTimeout(()=>{i=null,e(d,2===o)},t)}function h(){s&&clearTimeout(s)}function d(e,...t){let r;if(l){h();return}if(e||2===o||a){h(),u.call(null,e,...t);return}n<64&&(n*=2),1===o?(o=2,r=0):r=(n+Math.random())*1e3,c(r)}let f=!1;function p(e){!f&&(f=!0,h(),!l&&(null!==i?(e||(o=2),clearTimeout(i),c(0)):e||(o=1)))}return c(0),s=setTimeout(()=>{a=!0,p(!0)},r),p}((e,t)=>{if(t){e(!1,new S(!1,null,!0));return}let r=this.connectionFactory_();this.pendingConnection_=r;let n=e=>{let t=e.loaded,r=e.lengthComputable?e.total:-1;null!==this.progressCallback_&&this.progressCallback_(t,r)};null!==this.progressCallback_&&r.addUploadProgressListener(n),r.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&r.removeUploadProgressListener(n),this.pendingConnection_=null;let t=r.getErrorCode()===i.NO_ERROR,s=r.getStatus();if(!t||function(e,t){let r=e>=500&&e<600,n=-1!==[408,429].indexOf(e),i=-1!==t.indexOf(e);return r||n||i}(s,this.additionalRetryCodes_)&&this.retry){e(!1,new S(!1,null,r.getErrorCode()===i.ABORT));return}e(!0,new S(-1!==this.successCodes_.indexOf(s),r))})},e,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class S{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}function E(...e){let t="undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0;if(void 0!==t){let r=new t;for(let t=0;t<e.length;t++)r.append(e[t]);return r.getBlob()}if(b())return new Blob(e);throw new u(n.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}let x={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class T{constructor(e,t){this.data=e,this.contentType=t||null}}function C(e){let t=[];for(let r=0;r<e.length;r++){let n=e.charCodeAt(r);n<=127?t.push(n):n<=2047?t.push(192|n>>6,128|63&n):(64512&n)==55296?r<e.length-1&&(64512&e.charCodeAt(r+1))==56320?(n=65536|(1023&n)<<10|1023&e.charCodeAt(++r),t.push(240|n>>18,128|n>>12&63,128|n>>6&63,128|63&n)):t.push(239,191,189):(64512&n)==56320?t.push(239,191,189):t.push(224|n>>12,128|n>>6&63,128|63&n)}return new Uint8Array(t)}function I(e,t){let r;switch(e){case x.BASE64:{let r=-1!==t.indexOf("-"),n=-1!==t.indexOf("_");if(r||n)throw p(e,"Invalid character '"+(r?"-":"_")+"' found: is it base64url encoded?");break}case x.BASE64URL:{let r=-1!==t.indexOf("+"),n=-1!==t.indexOf("/");if(r||n)throw p(e,"Invalid character '"+(r?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/")}}try{r=function(e){if("undefined"==typeof atob)throw new u(n.UNSUPPORTED_ENVIRONMENT,"base-64 is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.");return atob(e)}(t)}catch(t){if(t.message.includes("polyfill"))throw t;throw p(e,"Invalid character found")}let i=new Uint8Array(r.length);for(let e=0;e<r.length;e++)i[e]=r.charCodeAt(e);return i}class R{constructor(e){this.base64=!1,this.contentType=null;let t=e.match(/^data:([^,]+)?,/);if(null===t)throw p(x.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");let r=t[1]||null;null!=r&&(this.base64=function(e,t){return e.length>=t.length&&e.substring(e.length-t.length)===t}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}class k{constructor(e,t){let r=0,n="";v(e)?(this.data_=e,r=e.size,n=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=n}size(){return this.size_}type(){return this.type_}slice(e,t){if(!v(this.data_))return new k(new Uint8Array(this.data_.buffer,e,t-e),!0);{var r;let n=(r=this.data_).webkitSlice?r.webkitSlice(e,t):r.mozSlice?r.mozSlice(e,t):r.slice?r.slice(e,t):null;return null===n?null:new k(n)}}static getBlob(...e){if(b()){let t=e.map(e=>e instanceof k?e.data_:e);return new k(E.apply(null,t))}{let t=e.map(e=>y(e)?function(e,t){switch(e){case x.RAW:return new T(C(t));case x.BASE64:case x.BASE64URL:return new T(I(e,t));case x.DATA_URL:return new T(function(e){let t=new R(e);return t.base64?I(x.BASE64,t.rest):function(e){let t;try{t=decodeURIComponent(e)}catch(e){throw p(x.DATA_URL,"Malformed data URL.")}return C(t)}(t.rest)}(t),new R(t).contentType)}throw h()}(x.RAW,e).data:e.data_),r=0;t.forEach(e=>{r+=e.byteLength});let n=new Uint8Array(r),i=0;return t.forEach(e=>{for(let t=0;t<e.length;t++)n[i++]=e[t]}),new k(n,!0)}}uploadData(){return this.data_}}function P(e){let t=e.lastIndexOf("/",e.length-2);return -1===t?e:e.slice(t+1)}function O(e,t){return t}class A{constructor(e,t,r,n){this.server=e,this.local=t||e,this.writable=!!r,this.xform=n||O}}let N=null;class D{constructor(e,t,r,n){this.url=e,this.method=t,this.handler=r,this.timeout=n,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function M(e){if(!e)throw h()}function L(e){return function(t,r){var i,s;let a;return 401===t.getStatus()?a=t.getErrorText().includes("Firebase App Check token is invalid")?new u(n.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project."):new u(n.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(i=e.bucket,a=new u(n.QUOTA_EXCEEDED,"Quota for bucket '"+i+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(s=e.path,a=new u(n.UNAUTHORIZED,"User does not have permission to access '"+s+"'.")):a=r,a.status=t.getStatus(),a.serverResponse=r.serverResponse,a}}let j={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};class $ extends null{initXhr(){this.xhr_.responseType="text"}}class F{constructor(e,t){this._service=e,t instanceof g?this._location=t:this._location=g.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new F(e,t)}get root(){let e=new g(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return P(this._location.path)}get storage(){return this._service}get parent(){let e=function(e){if(0===e.length)return null;let t=e.lastIndexOf("/");return -1===t?"":e.slice(0,t)}(this._location.path);if(null===e)return null;let t=new g(this._location.bucket,e);return new F(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw new u(n.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}}function U(e,t){let r=null==t?void 0:t.storageBucket;return null==r?null:g.makeFromBucketSpec(r,e)}class V{constructor(e,t,r,n,i){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=n,this._firebaseVersion=i,this._bucket=null,this._host=l,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,null!=n?this._bucket=g.makeFromBucketSpec(n,this._host):this._bucket=U(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,null!=this._url?this._bucket=g.makeFromBucketSpec(this._url,e):this._bucket=U(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){w("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){w("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;let e=this._authProvider.getImmediate({optional:!0});if(e){let t=await e.getToken();if(null!==t)return t.accessToken}return null}async _getAppCheckToken(){if((0,s.rh)(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new F(this,e)}_makeRequest(e,t,r,n,i=!0){if(this._deleted)return new m(f());{let s=function(e,t,r,n,i,s,a=!0){let o=function(e){let t=encodeURIComponent,r="?";for(let n in e)e.hasOwnProperty(n)&&(r=r+(t(n)+"=")+t(e[n])+"&");return r.slice(0,-1)}(e.urlParams),l=e.url+o,u=Object.assign({},e.headers);return t&&(u["X-Firebase-GMPID"]=t),null!==r&&r.length>0&&(u.Authorization="Firebase "+r),u["X-Firebase-Storage-Version"]="webjs/"+(null!=s?s:"AppManager"),null!==n&&(u["X-Firebase-AppCheck"]=n),new _(l,e.method,u,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,a)}(e,this._appId,r,n,t,this._firebaseVersion,i);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}async makeRequestWithTokens(e,t){let[r,n]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,r,n).getPromise()}}let B="@firebase/storage",q="0.13.7",z="storage";function H(e=(0,s.Mq)(),t){e=(0,a.m9)(e);let r=(0,s.qX)(e,z).getImmediate({identifier:t}),n=(0,a.P0)("storage");return n&&function(e,t,r,n={}){!function(e,t,r,n={}){e.host=`${t}:${r}`,e._protocol="http";let{mockUserToken:i}=n;i&&(e._overrideAuthToken="string"==typeof i?i:(0,a.Sg)(i,e.app.options.projectId))}(e,t,r,n)}(r,...n),r}(0,s.Xd)(new o.wA(z,function(e,{instanceIdentifier:t}){return new V(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),t,s.Jn)},"PUBLIC").setMultipleInstances(!0)),(0,s.KN)(B,q,""),(0,s.KN)(B,q,"esm2017")}}]);
//# sourceMappingURL=516.js.map